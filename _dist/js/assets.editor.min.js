(function () {var player;(function () { if (!player || !player.requirejs) {
if (!player) { player = {}; } else { require = player; }
/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
//Going sloppy to avoid 'use strict' string cost, but strict practices should
//be followed.
/*jslint sloppy: true */
/*global setTimeout: false */

var requirejs, require, define;
(function (undef) {
    var main, req, makeMap, handlers,
        defined = {},
        waiting = {},
        config = {},
        defining = {},
        hasOwn = Object.prototype.hasOwnProperty,
        aps = [].slice,
        jsSuffixRegExp = /\.js$/;

    function hasProp(obj, prop) {
        return hasOwn.call(obj, prop);
    }

    /**
     * Given a relative module name, like ./something, normalize it to
     * a real name that can be mapped to a path.
     * @param {String} name the relative name
     * @param {String} baseName a real name that the name arg is relative
     * to.
     * @returns {String} normalized name
     */
    function normalize(name, baseName) {
        var nameParts, nameSegment, mapValue, foundMap, lastIndex,
            foundI, foundStarMap, starI, i, j, part,
            baseParts = baseName && baseName.split("/"),
            map = config.map,
            starMap = (map && map['*']) || {};

        //Adjust any relative paths.
        if (name && name.charAt(0) === ".") {
            //If have a base name, try to normalize against it,
            //otherwise, assume it is a top-level require that will
            //be relative to baseUrl in the end.
            if (baseName) {
                //Convert baseName to array, and lop off the last part,
                //so that . matches that "directory" and not name of the baseName's
                //module. For instance, baseName of "one/two/three", maps to
                //"one/two/three.js", but we want the directory, "one/two" for
                //this normalization.
                baseParts = baseParts.slice(0, baseParts.length - 1);
                name = name.split('/');
                lastIndex = name.length - 1;

                // Node .js allowance:
                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {
                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');
                }

                name = baseParts.concat(name);

                //start trimDots
                for (i = 0; i < name.length; i += 1) {
                    part = name[i];
                    if (part === ".") {
                        name.splice(i, 1);
                        i -= 1;
                    } else if (part === "..") {
                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {
                            //End of the line. Keep at least one non-dot
                            //path segment at the front so it can be mapped
                            //correctly to disk. Otherwise, there is likely
                            //no path mapping for a path starting with '..'.
                            //This can still fail, but catches the most reasonable
                            //uses of ..
                            break;
                        } else if (i > 0) {
                            name.splice(i - 1, 2);
                            i -= 2;
                        }
                    }
                }
                //end trimDots

                name = name.join("/");
            } else if (name.indexOf('./') === 0) {
                // No baseName, so this is ID is resolved relative
                // to baseUrl, pull off the leading dot.
                name = name.substring(2);
            }
        }

        //Apply map config if available.
        if ((baseParts || starMap) && map) {
            nameParts = name.split('/');

            for (i = nameParts.length; i > 0; i -= 1) {
                nameSegment = nameParts.slice(0, i).join("/");

                if (baseParts) {
                    //Find the longest baseName segment match in the config.
                    //So, do joins on the biggest to smallest lengths of baseParts.
                    for (j = baseParts.length; j > 0; j -= 1) {
                        mapValue = map[baseParts.slice(0, j).join('/')];

                        //baseName segment has  config, find if it has one for
                        //this name.
                        if (mapValue) {
                            mapValue = mapValue[nameSegment];
                            if (mapValue) {
                                //Match, update name to the new value.
                                foundMap = mapValue;
                                foundI = i;
                                break;
                            }
                        }
                    }
                }

                if (foundMap) {
                    break;
                }

                //Check for a star map match, but just hold on to it,
                //if there is a shorter segment match later in a matching
                //config, then favor over this star map.
                if (!foundStarMap && starMap && starMap[nameSegment]) {
                    foundStarMap = starMap[nameSegment];
                    starI = i;
                }
            }

            if (!foundMap && foundStarMap) {
                foundMap = foundStarMap;
                foundI = starI;
            }

            if (foundMap) {
                nameParts.splice(0, foundI, foundMap);
                name = nameParts.join('/');
            }
        }

        return name;
    }

    function makeRequire(relName, forceSync) {
        return function () {
            //A version of a require function that passes a moduleName
            //value for items that may need to
            //look up paths relative to the moduleName
            return req.apply(undef, aps.call(arguments, 0).concat([relName, forceSync]));
        };
    }

    function makeNormalize(relName) {
        return function (name) {
            return normalize(name, relName);
        };
    }

    function makeLoad(depName) {
        return function (value) {
            defined[depName] = value;
        };
    }

    function callDep(name) {
        if (hasProp(waiting, name)) {
            var args = waiting[name];
            delete waiting[name];
            defining[name] = true;
            main.apply(undef, args);
        }

        if (!hasProp(defined, name) && !hasProp(defining, name)) {
            throw new Error('No ' + name);
        }
        return defined[name];
    }

    //Turns a plugin!resource to [plugin, resource]
    //with the plugin being undefined if the name
    //did not have a plugin prefix.
    function splitPrefix(name) {
        var prefix,
            index = name ? name.indexOf('!') : -1;
        if (index > -1) {
            prefix = name.substring(0, index);
            name = name.substring(index + 1, name.length);
        }
        return [prefix, name];
    }

    /**
     * Makes a name map, normalizing the name, and using a plugin
     * for normalization if necessary. Grabs a ref to plugin
     * too, as an optimization.
     */
    makeMap = function (name, relName) {
        var plugin,
            parts = splitPrefix(name),
            prefix = parts[0];

        name = parts[1];

        if (prefix) {
            prefix = normalize(prefix, relName);
            plugin = callDep(prefix);
        }

        //Normalize according
        if (prefix) {
            if (plugin && plugin.normalize) {
                name = plugin.normalize(name, makeNormalize(relName));
            } else {
                name = normalize(name, relName);
            }
        } else {
            name = normalize(name, relName);
            parts = splitPrefix(name);
            prefix = parts[0];
            name = parts[1];
            if (prefix) {
                plugin = callDep(prefix);
            }
        }

        //Using ridiculous property names for space reasons
        return {
            f: prefix ? prefix + '!' + name : name, //fullName
            n: name,
            pr: prefix,
            p: plugin
        };
    };

    function makeConfig(name) {
        return function () {
            return (config && config.config && config.config[name]) || {};
        };
    }

    handlers = {
        require: function (name) {
            return makeRequire(name);
        },
        exports: function (name) {
            var e = defined[name];
            if (typeof e !== 'undefined') {
                return e;
            } else {
                return (defined[name] = {});
            }
        },
        module: function (name) {
            return {
                id: name,
                uri: '',
                exports: defined[name],
                config: makeConfig(name)
            };
        }
    };

    main = function (name, deps, callback, relName) {
        var cjsModule, depName, ret, map, i,
            args = [],
            callbackType = typeof callback,
            usingExports;

        //Use name if no relName
        relName = relName || name;

        //Call the callback to define the module, if necessary.
        if (callbackType === 'undefined' || callbackType === 'function') {
            //Pull out the defined dependencies and pass the ordered
            //values to the callback.
            //Default to [require, exports, module] if no deps
            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;
            for (i = 0; i < deps.length; i += 1) {
                map = makeMap(deps[i], relName);
                depName = map.f;

                //Fast path CommonJS standard dependencies.
                if (depName === "require") {
                    args[i] = handlers.require(name);
                } else if (depName === "exports") {
                    //CommonJS module spec 1.1
                    args[i] = handlers.exports(name);
                    usingExports = true;
                } else if (depName === "module") {
                    //CommonJS module spec 1.1
                    cjsModule = args[i] = handlers.module(name);
                } else if (hasProp(defined, depName) ||
                           hasProp(waiting, depName) ||
                           hasProp(defining, depName)) {
                    args[i] = callDep(depName);
                } else if (map.p) {
                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});
                    args[i] = defined[depName];
                } else {
                    throw new Error(name + ' missing ' + depName);
                }
            }

            ret = callback ? callback.apply(defined[name], args) : undefined;

            if (name) {
                //If setting exports via "module" is in play,
                //favor that over return value and exports. After that,
                //favor a non-undefined return value over exports use.
                if (cjsModule && cjsModule.exports !== undef &&
                        cjsModule.exports !== defined[name]) {
                    defined[name] = cjsModule.exports;
                } else if (ret !== undef || !usingExports) {
                    //Use the return value from the function.
                    defined[name] = ret;
                }
            }
        } else if (name) {
            //May just be an object definition for the module. Only
            //worry about defining if have a module name.
            defined[name] = callback;
        }
    };

    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {
        if (typeof deps === "string") {
            if (handlers[deps]) {
                //callback in this case is really relName
                return handlers[deps](callback);
            }
            //Just return the module wanted. In this scenario, the
            //deps arg is the module name, and second arg (if passed)
            //is just the relName.
            //Normalize module name, if it contains . or ..
            return callDep(makeMap(deps, callback).f);
        } else if (!deps.splice) {
            //deps is a config object, not an array.
            config = deps;
            if (config.deps) {
                req(config.deps, config.callback);
            }
            if (!callback) {
                return;
            }

            if (callback.splice) {
                //callback is an array, which means it is a dependency list.
                //Adjust args if there are dependencies
                deps = callback;
                callback = relName;
                relName = null;
            } else {
                deps = undef;
            }
        }

        //Support require(['a'])
        callback = callback || function () {};

        //If relName is a function, it is an errback handler,
        //so remove it.
        if (typeof relName === 'function') {
            relName = forceSync;
            forceSync = alt;
        }

        //Simulate async callback;
        if (forceSync) {
            main(undef, deps, callback, relName);
        } else {
            //Using a non-zero value because of concern for what old browsers
            //do, and latest browsers "upgrade" to 4 if lower value is used:
            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:
            //If want a value immediately, use require('id') instead -- something
            //that works in almond on the global level, but not guaranteed and
            //unlikely to work in other AMD implementations.
            setTimeout(function () {
                main(undef, deps, callback, relName);
            }, 4);
        }

        return req;
    };

    /**
     * Just drops the config on the floor, but returns req in case
     * the config return value is used.
     */
    req.config = function (cfg) {
        return req(cfg);
    };

    /**
     * Expose module registry for debugging and tooling
     */
    requirejs._defined = defined;

    define = function (name, deps, callback) {

        //This module may not have dependencies
        if (!deps.splice) {
            //deps is not an array, so probably means
            //an object literal or factory function for
            //the value. Adjust args.
            callback = deps;
            deps = [];
        }

        if (!hasProp(defined, name) && !hasProp(waiting, name)) {
            waiting[name] = [name, deps, callback];
        }
    };

    define.amd = {
        jQuery: true
    };
}());

player.requirejs = requirejs;player.require = require;player.define = define;
}
}());
player.define("../../../../../vendor/components/almond/almond", function(){});

/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;
if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&&Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++])ob.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0;if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++)d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")
},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vc(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&&"withCredentials"in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,'function' === typeof player.define && player.define.amd&&player.define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});
//# sourceMappingURL=jquery.min.map;
player.define('jqueryChanges',[
	'jquery'
], function($) {
	jQuery.fn.getDimensions = function(method) {
		var offset = method ? this[method]() : this.position(),
			width = this.width(),
			height = this.height();

		this.dimensions = {
			top: offset.top,
			left: offset.left,
			width: this.outerWidth(),
			height: this.outerHeight()
		};

		return this;
	};

	jQuery.isKeyPressed = (function() {
		var pressed_keys = {};

		$(function() {
			$('body')
				.on('keydown', function(e) {
					pressed_keys[e.which] = true;
				})
				.on('keyup', function(e) {
					delete pressed_keys[e.which];
				});
		});

		return function(keycode) {
			return pressed_keys[keycode];
		};
	})();

	// jQuery.fn.clearPaste = function() {
	// 	var $el = this,
	// 		diffMethod = Editor.Helpers.stringDiff,
	// 		diffSelector = "#diff";

	//     $el.on({
	//     	keydown: function(e){
	//     		console.log('keydown clearpaste', e.keyCode);
	//     		if (e.keyCode == 86 && (e.ctrlKey || e.metaKey)) {

	//     			var oldHTMLContent = $el.html(),
	//     				oldTextContent = $el[0].textContent || $el[0].innerHTMLext,
	//     				carot = Editor.Helpers.getCarotPosition($el[0]),
	//     				prePaste = oldContent.substr(0, carot.start),
	//     				posPaste = oldContent.substr(carot.end);

	//     			console.log('oldContent', oldContent);
	//     			console.log('carot', carot);
	//     			console.log('prePaste', prePaste);
	//     			console.log('posPaste', posPaste);
	//     			window.to = window.setTimeout(function(){
	// 					var newContent = $el.html(),
	// 						pastedStrat = newContent.indexOf(prePaste) + prePaste.length,
	// 						pastedEnd = newContent.lastIndexOf(posPaste),
	// 						pasted = newContent.substring(pastedStrat, pastedEnd);

	// 					console.log('new content', newContent);
	// 					console.log('pasted', pastedStrat, pastedEnd, pasted);

	// 					pasted = pasted.replace(/<[^>]+>/g, '');

	// 					console.log('final', prePaste + pasted + posPaste);
	// 					$el.html(prePaste + pasted + posPaste)

	// 					window.clearTimeout(window.to);
	// 		 		}, 10);
	//         	}
	//     	}
	//     });
	// }

	jQuery.fn.getTextSelectionRange = function() {
		var t = '',
			r;
		if (window.getSelection) {
			t = window.getSelection();
		} else if (document.getSelection) {
			t = document.getSelection();
		} else if (document.selection) {
			t = document.selection.createRange().text;
		}

		if (t.rangeCount <= 0) return;

		r = t.getRangeAt(0).cloneRange();

		return r;
	}

	jQuery.waitDependencies = function(dependencies, callback) {
		var me = this,
			deps = [];
		
		for (var key in dependencies) {
			if (dependencies.hasOwnProperty(key)) {
				var state = (dependencies[key].deferred ? dependencies[key].deferred.state() : null);

				if (state && state !== "resolved") {
					deps.push(dependencies[key].deferred);
				}
			}
		}

		// console.log('[backboneChanges]waitDependencies', this, dependencies, deps);
		if (deps.length === 0) {
			callback();
		} else {
			$.when.apply($, deps).done(callback);
		}
	}

	jQuery.fn.contentEditabel = function(options) {
		var $el = this,
			el = $el[0],
			defaults = {
				maxChars: 20,
				charsNotAllowed: [],
				charsAlwaysAllowed: [39, 37, 9, 8, 46],
				enterLeave: true,
				clickoutside: true,
				clearPaste: true
			},
			options = $.extend({}, defaults, options),
			mouseDownIn = false,
			clearPaste = Editor.Helpers.clearPaste,
			mousedown = function(e) {
				// console.log('mousedown');
				mouseDownIn = true;
			},
			mousedownoutside = function(e) {
				// console.log('mousedownoutside');
				if (e.isPropagationStopped()) return;

				mouseDownIn = false;
				editableOff(e);
			};

		console.log('[jqueryChanges]contentEditabel [var]options, $el: ', options, $el);
		if (!$el.attr('contenteditable') || $el.attr('contenteditable') === "false" || $el.attr('contenteditable') === false) {
			events("off");
			events("on");

			$el.attr('contenteditable', 'true');
			options.showTextEditor();

			$el.focus();
		}

		function events(method) {
			$el[method]({
				clickoutside: options.clickoutside ? editableOff : null,
				resize: options.resize ? options.resize : null,
				paste: options.clearPaste ? clearPaste : null,
				mousedown: mousedown,
				mousedownoutside: mousedownoutside,
				keydown: checkChars,
				forceOff: editableOff,
				mouseup: getTextProps,
				mouseupoutside: getTextProps
			});
		}

		function checkChars(e) {
			console.log(e.keyCode, options);
			console.log($el.text().trim().length + " / " + options.maxChars + " / " + $.inArray(e.keyCode, options.charsNotAllowed));
			console.log((options.maxChars && $el.text().length > options.maxChars) + " / " + $.inArray(e.keyCode, options.charsNotAllowed) !== -1);
			console.log($.inArray(e.keyCode, options.charsAlwaysAllowed) === -1);

			if (options.enterLeave && e.keyCode === 13) {
				editableOff(e, true);
			} else if ((options.maxChars && $el.text().trim().length > options.maxChars) || $.inArray(e.keyCode, options.charsNotAllowed) !== -1) {
				if ($.inArray(e.keyCode, options.charsAlwaysAllowed) === -1) {
					e.preventDefault();
				}
			}

			/*if (e.keyCode === 13) {
				// prevent adding <div> element on enter press
				var docFragment = document.createDocumentFragment();

				//add a new line
				var newEle = document.createTextNode('\n');
				docFragment.appendChild(newEle);

				//add the br, or p, or something else
				newEle = document.createElement('br');
				docFragment.appendChild(newEle);

				//make the br replace selection
				var range = window.getSelection().getRangeAt(0);
				range.deleteContents();
				range.insertNode(docFragment);

				//create a new range
				range = document.createRange();
				range.setStartAfter(newEle);
				range.collapse(true);

				//make the cursor there
				var sel = window.getSelection();
				sel.removeAllRanges();
				sel.addRange(range);

				e.preventDefault();
				return false;
			}*/
		}

		function getTextProps(e) {
			if (mouseDownIn) {
				// console.log('[helpers]jqueryChanges [method]contentEditabel/getTextProps');
				var selection = jQuery.fn.getTextSelectionRange();

				// console.log('[helpers]jqueryChanges [method]contentEditabel/getTextProps [var]selection/range', selection, range);
				$el.selection = selection;
			}
		}

		function editableOff(e, force) {
			console.log('editableOff', e, force);
			if (!mouseDownIn || force === true) {
				$el.trigger('editableOff', {
					content: $el.html()
				});
				$el.attr('contenteditable', 'false');
				events("off");

				(e && options.callback) ? options.callback(e) : null;
			}
		}
	};

	jQuery.fn.swap = function(elem) {
		var elm1 = $(this),
			elm2 = $(elem),
			parent1, next1,
			parent2, next2;

		parent1 = elm1.parent();
		next1 = elm1.next();
		parent2 = elm2.parent();
		next2 = elm2.next();

		parent1[0].insertBefore(elm2[0], next1[0]);
		parent2[0].insertBefore(elm1[0], next2[0]);

		return this;
	};

	/*
	No ficou muito bom, mas tem um fix que recebe a view para no perder o referencial.
	Este fiz provavelmente deiveria estar com um metodo das views e no no jquery
	*/
	jQuery.fn.dbClickFix = function(view, singleClick, doubleClick) {
		this.click(function(e) {
			var that = this;
			setTimeout(function() {
				var dblclick = parseInt($(that).data('double'), 10);
				if (dblclick > 0) {
					$(that).data('double', dblclick - 1);
				} else {
					view[singleClick](e);
				}
			}, 100);
		}).dblclick(function(e) {
			$(this).data('double', 2);
			view[doubleClick](e);
		});
	};

	// jQuery.fn.positioner = function(options) {
	// 	/*{
	// 		position: "right" || "left" || "top" ||"bottom"
	// 		align:  "normal" || "center"
	// 		el: $(element)
	// 		spacing:
	// 	}
	// 	*/
	// 	var $el = this,
	// 		$elRef = options.el,
	// 		defaults = {
	// 			position: "right",
	// 			align: "normal",
	// 			spacing: 0
	// 		},
	// 		options = $.extend({}, defaults, options);

	// 	if (!$elRef) {
	// 		return null;
	// 	}

	// 	$el.removeClass('top bottom right left')
	// 	$el.addClass(options.position);

	// 	$el.getDimensions('offset');
	// 	$elRef.getDimensions('offset');

	// 	if (options.position === "top" || options.position === "bottom") {
	// 		if (options.position === "top") {
	// 			$el.css({
	// 				top: $rec.dimensions.top - ($el.dimensions.height + options.spacing) + 'px',
	// 				// left: $rec.dimensions.left + (($rec.dimensions.width - $main.dimensions.width) / 2) + 'px'
	// 			});
	// 		} else {
	// 			$main.css({
	// 				top: $rec.dimensions.top + $rec.dimensions.height + me.spacing + 'px',
	// 				// left: $rec.dimensions.left + (($rec.dimensions.width - $main.dimensions.width) / 2) + 'px'
	// 			});
	// 		}
	// 	} else if (options.position === "right" || options.position === "left") {

	// 	} else {
	// 		return null;
	// 	}
	// };

	/*
	 * jQuery outside events - v1.1 - 3/16/2010
	 * http://benalman.com/projects/jquery-outside-events-plugin/
	 *
	 * Copyright (c) 2010 "Cowboy" Ben Alman
	 * Dual licensed under the MIT and GPL licenses.
	 * http://benalman.com/about/license/
	 */
	(function($, c, b) {
		$.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "), function(d) {
			a(d)
		});
		a("focusin", "focus" + b);
		a("focusout", "blur" + b);
		$.addOutsideEvent = a;

		function a(g, e) {
			e = e || g + b;
			var d = $(),
				h = g + "." + e + "-special-event";
			$.event.special[e] = {
				setup: function() {
					d = d.add(this);
					if (d.length === 1) {
						$(c).bind(h, f)
					}
				},
				teardown: function() {
					d = d.not(this);
					if (d.length === 0) {
						$(c).unbind(h)
					}
				},
				add: function(i) {
					var j = i.handler;
					i.handler = function(l, k) {
						l.target = k;
						j.apply(this, arguments)
					}
				}
			};

			function f(i) {
				$(d).each(function() {
					var j = $(this);
					if (this !== i.target && !j.has(i.target).length) {
						j.triggerHandler(e, [i.target])
					}
				})
			}
		}
	})(jQuery, document, "outside");

});
/*!
 * @license RequireJS Namespace Plugin, Copyright (c) 2013 Ates Goral
 * @version 0.0.1
 * Loads modules into a namespace
 */
player.define('namespace',["module"], function(module) {
    return {
        load: function(name, req, onload, config) {
            var localConfig = module.config(),
                configObj = localConfig[name],
                modules = [],
                path = [name],
                type = Object.prototype.toString.call(configObj),
                // baseURL = type === '[object Object]' ? configObj.baseURL : name,
                paths = [],
                reiterate = function(configObj, propnames) {
                    for (var key in configObj) {
                        if (configObj.hasOwnProperty(key)) {

                            var mods = configObj[key].paths;
                            if (!mods) {
                                if (!propnames) {
                                    propnames = [];
                                }
                                propnames.push(key);
                                reiterate(configObj[key], propnames);
                                propnames = undefined;
                                continue;
                            }

                            for (var i = 0, limit = mods.length; i < limit; i++) {
                                var module_prefix = propnames && propnames.length ? (propnames.join("/") + "/") : '';
                                modules.push(module_prefix + key + "/" + mods[i]);
                            }
                            insertPaths(configObj[key].paths, configObj[key].baseURL);
                        }
                    }
                };

            if (!configObj) {
                var err = new Error("Module configuration is missing");
                err.namespaceModule = name;
                onload.error(err);
                return;
            }

            var insertPaths = function(modules, baseURL) {

                for (var i = 0, limit = modules.length; i < limit; i++) {
                    var index = modules[i].indexOf('!')

                    if (modules[i] != undefined) {
                        if (index !== -1) {
                            var plugin = modules[i].substr(0, index + 1),
                                moduleString = modules[i].substr(index + 1);

                            paths.push(plugin + baseURL + '/' + moduleString);

                        } else {
                            paths.push(baseURL + '/' + modules[i]);
                        }
                    }
                };
            }

            if (configObj.baseURL) {
                modules = configObj.paths;
                insertPaths(modules, configObj.baseURL);
            } else {
                if (type === '[object String]') {
                    modules = configObj.split(",");
                    insertPaths(modules, name);
                } else if (type === '[object Object]') {
                    reiterate(configObj);
                }
            }

            req(paths, function() {
                var namespace = {},
                    args = arguments;

                for (var i = 0; i < modules.length; i++) {

                    var module = modules[i],
                        idx = i,
                        paths = module.split('/'),
                        paths_len = paths.length;

                    if (!paths_len) continue;

                    for (var l = 0, n = namespace; l < paths_len; l++) {
                        var path = paths[l],
                            index_plugin = path.indexOf('!');

                        // remove a marcacao de plugin: `json!`, `text!`, etc...
                        if (index_plugin >= 0) {
                            path = paths[l] = path.substring(index_plugin + 1, path.indexOf('.'));
                        }


                        // cria sub-objetos caso nao existam
                        if (!n[path]) {
                            n[path] = {};
                        }

                        if (l < paths_len - 1) {
                            // no  o ultimo indice do array
                            n = n[path];
                        }
                    }

                    n[paths[paths_len - 1]] = args[idx];

                };
                onload(namespace);
            });
        }
    };
});
/**
 * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */
/*jslint regexp: true */
/*global require, XMLHttpRequest, ActiveXObject,
  define, window, process, Packages,
  java, location, Components, FileUtils */

player.define('text',['module'], function (module) {
    'use strict';

    var text, fs, Cc, Ci, xpcIsWindows,
        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],
        xmlRegExp = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
        bodyRegExp = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
        hasLocation = typeof location !== 'undefined' && location.href,
        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\:/, ''),
        defaultHostName = hasLocation && location.hostname,
        defaultPort = hasLocation && (location.port || undefined),
        buildMap = {},
        masterConfig = (module.config && module.config()) || {};

    text = {
        version: '2.0.12',

        strip: function (content) {
            //Strips <?xml ...?> declarations so that external SVG and XML
            //documents can be added to a document without worry. Also, if the string
            //is an HTML document, only the part inside the body tag is returned.
            if (content) {
                content = content.replace(xmlRegExp, "");
                var matches = content.match(bodyRegExp);
                if (matches) {
                    content = matches[1];
                }
            } else {
                content = "";
            }
            return content;
        },

        jsEscape: function (content) {
            return content.replace(/(['\\])/g, '\\$1')
                .replace(/[\f]/g, "\\f")
                .replace(/[\b]/g, "\\b")
                .replace(/[\n]/g, "\\n")
                .replace(/[\t]/g, "\\t")
                .replace(/[\r]/g, "\\r")
                .replace(/[\u2028]/g, "\\u2028")
                .replace(/[\u2029]/g, "\\u2029");
        },

        createXhr: masterConfig.createXhr || function () {
            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.
            var xhr, i, progId;
            if (typeof XMLHttpRequest !== "undefined") {
                return new XMLHttpRequest();
            } else if (typeof ActiveXObject !== "undefined") {
                for (i = 0; i < 3; i += 1) {
                    progId = progIds[i];
                    try {
                        xhr = new ActiveXObject(progId);
                    } catch (e) {}

                    if (xhr) {
                        progIds = [progId];  // so faster next time
                        break;
                    }
                }
            }

            return xhr;
        },

        /**
         * Parses a resource name into its component parts. Resource names
         * look like: module/name.ext!strip, where the !strip part is
         * optional.
         * @param {String} name the resource name
         * @returns {Object} with properties "moduleName", "ext" and "strip"
         * where strip is a boolean.
         */
        parseName: function (name) {
            var modName, ext, temp,
                strip = false,
                index = name.indexOf("."),
                isRelative = name.indexOf('./') === 0 ||
                             name.indexOf('../') === 0;

            if (index !== -1 && (!isRelative || index > 1)) {
                modName = name.substring(0, index);
                ext = name.substring(index + 1, name.length);
            } else {
                modName = name;
            }

            temp = ext || modName;
            index = temp.indexOf("!");
            if (index !== -1) {
                //Pull off the strip arg.
                strip = temp.substring(index + 1) === "strip";
                temp = temp.substring(0, index);
                if (ext) {
                    ext = temp;
                } else {
                    modName = temp;
                }
            }

            return {
                moduleName: modName,
                ext: ext,
                strip: strip
            };
        },

        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,

        /**
         * Is an URL on another domain. Only works for browser use, returns
         * false in non-browser environments. Only used to know if an
         * optimized .js version of a text resource should be loaded
         * instead.
         * @param {String} url
         * @returns Boolean
         */
        useXhr: function (url, protocol, hostname, port) {
            var uProtocol, uHostName, uPort,
                match = text.xdRegExp.exec(url);
            if (!match) {
                return true;
            }
            uProtocol = match[2];
            uHostName = match[3];

            uHostName = uHostName.split(':');
            uPort = uHostName[1];
            uHostName = uHostName[0];

            return (!uProtocol || uProtocol === protocol) &&
                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&
                   ((!uPort && !uHostName) || uPort === port);
        },

        finishLoad: function (name, strip, content, onLoad) {
            content = strip ? text.strip(content) : content;
            if (masterConfig.isBuild) {
                buildMap[name] = content;
            }
            onLoad(content);
        },

        load: function (name, req, onLoad, config) {
            //Name has format: some.module.filext!strip
            //The strip part is optional.
            //if strip is present, then that means only get the string contents
            //inside a body tag in an HTML string. For XML/SVG content it means
            //removing the <?xml ...?> declarations so the content can be inserted
            //into the current doc without problems.

            // Do not bother with the work if a build and text will
            // not be inlined.
            if (config && config.isBuild && !config.inlineText) {
                onLoad();
                return;
            }

            masterConfig.isBuild = config && config.isBuild;

            var parsed = text.parseName(name),
                nonStripName = parsed.moduleName +
                    (parsed.ext ? '.' + parsed.ext : ''),
                url = req.toUrl(nonStripName),
                useXhr = (masterConfig.useXhr) ||
                         text.useXhr;

            // Do not load if it is an empty: url
            if (url.indexOf('empty:') === 0) {
                onLoad();
                return;
            }

            //Load the text. Use XHR if possible and in a browser.
            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {
                text.get(url, function (content) {
                    text.finishLoad(name, parsed.strip, content, onLoad);
                }, function (err) {
                    if (onLoad.error) {
                        onLoad.error(err);
                    }
                });
            } else {
                //Need to fetch the resource across domains. Assume
                //the resource has been optimized into a JS module. Fetch
                //by the module name + extension, but do not include the
                //!strip part to avoid file system issues.
                req([nonStripName], function (content) {
                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,
                                    parsed.strip, content, onLoad);
                });
            }
        },

        write: function (pluginName, moduleName, write, config) {
            if (buildMap.hasOwnProperty(moduleName)) {
                var content = text.jsEscape(buildMap[moduleName]);
                write.asModule(pluginName + "!" + moduleName,
                               "define(function () { return '" +
                                   content +
                               "';});\n");
            }
        },

        writeFile: function (pluginName, moduleName, req, write, config) {
            var parsed = text.parseName(moduleName),
                extPart = parsed.ext ? '.' + parsed.ext : '',
                nonStripName = parsed.moduleName + extPart,
                //Use a '.js' file name so that it indicates it is a
                //script that can be loaded across domains.
                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';

            //Leverage own load() method to load plugin value, but only
            //write out values that do not have the strip argument,
            //to avoid any potential issues with ! in file names.
            text.load(nonStripName, req, function (value) {
                //Use own write() method to construct full module value.
                //But need to create shell that translates writeFile's
                //write() to the right interface.
                var textWrite = function (contents) {
                    return write(fileName, contents);
                };
                textWrite.asModule = function (moduleName, contents) {
                    return write.asModule(moduleName, fileName, contents);
                };

                text.write(pluginName, nonStripName, textWrite, config);
            }, config);
        }
    };

    if (masterConfig.env === 'node' || (!masterConfig.env &&
            typeof process !== "undefined" &&
            process.versions &&
            !!process.versions.node &&
            !process.versions['node-webkit'])) {
        //Using special require.nodeRequire, something added by r.js.
        fs = require.nodeRequire('fs');

        text.get = function (url, callback, errback) {
            try {
                var file = fs.readFileSync(url, 'utf8');
                //Remove BOM (Byte Mark Order) from utf8 files if it is there.
                if (file.indexOf('\uFEFF') === 0) {
                    file = file.substring(1);
                }
                callback(file);
            } catch (e) {
                if (errback) {
                    errback(e);
                }
            }
        };
    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&
            text.createXhr())) {
        text.get = function (url, callback, errback, headers) {
            var xhr = text.createXhr(), header;
            xhr.open('GET', url, true);

            //Allow plugins direct access to xhr headers
            if (headers) {
                for (header in headers) {
                    if (headers.hasOwnProperty(header)) {
                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);
                    }
                }
            }

            //Allow overrides specified in config
            if (masterConfig.onXhr) {
                masterConfig.onXhr(xhr, url);
            }

            xhr.onreadystatechange = function (evt) {
                var status, err;
                //Do not explicitly handle errors, those should be
                //visible via console output in the browser.
                if (xhr.readyState === 4) {
                    status = xhr.status || 0;
                    if (status > 399 && status < 600) {
                        //An http 4xx or 5xx error. Signal an error.
                        err = new Error(url + ' HTTP status: ' + status);
                        err.xhr = xhr;
                        if (errback) {
                            errback(err);
                        }
                    } else {
                        callback(xhr.responseText);
                    }

                    if (masterConfig.onXhrComplete) {
                        masterConfig.onXhrComplete(xhr, url);
                    }
                }
            };
            xhr.send(null);
        };
    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&
            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {
        //Why Java, why is this so awkward?
        text.get = function (url, callback) {
            var stringBuffer, line,
                encoding = "utf-8",
                file = new java.io.File(url),
                lineSeparator = java.lang.System.getProperty("line.separator"),
                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),
                content = '';
            try {
                stringBuffer = new java.lang.StringBuffer();
                line = input.readLine();

                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324
                // http://www.unicode.org/faq/utf_bom.html

                // Note that when we use utf-8, the BOM should appear as "EF BB BF", but it doesn't due to this bug in the JDK:
                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058
                if (line && line.length() && line.charAt(0) === 0xfeff) {
                    // Eat the BOM, since we've already found the encoding on this file,
                    // and we plan to concatenating this buffer with others; the BOM should
                    // only appear at the top of a file.
                    line = line.substring(1);
                }

                if (line !== null) {
                    stringBuffer.append(line);
                }

                while ((line = input.readLine()) !== null) {
                    stringBuffer.append(lineSeparator);
                    stringBuffer.append(line);
                }
                //Make sure we return a JavaScript string and not a Java string.
                content = String(stringBuffer.toString()); //String
            } finally {
                input.close();
            }
            callback(content);
        };
    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&
            typeof Components !== 'undefined' && Components.classes &&
            Components.interfaces)) {
        //Avert your gaze!
        Cc = Components.classes;
        Ci = Components.interfaces;
        Components.utils['import']('resource://gre/modules/FileUtils.jsm');
        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);

        text.get = function (url, callback) {
            var inStream, convertStream, fileObj,
                readData = {};

            if (xpcIsWindows) {
                url = url.replace(/\//g, '\\');
            }

            fileObj = new FileUtils.File(url);

            //XPCOM, you so crazy
            try {
                inStream = Cc['@mozilla.org/network/file-input-stream;1']
                           .createInstance(Ci.nsIFileInputStream);
                inStream.init(fileObj, 1, 0, false);

                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']
                                .createInstance(Ci.nsIConverterInputStream);
                convertStream.init(inStream, "utf-8", inStream.available(),
                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);

                convertStream.readString(inStream.available(), readData);
                convertStream.close();
                inStream.close();
                callback(readData.value);
            } catch (e) {
                throw new Error((fileObj && fileObj.path || '') + ': ' + e);
            }
        };
    }
    return text;
});

/** @license
 * RequireJS plugin for loading JSON files
 * - depends on Text plugin and it was HEAVILY "inspired" by it as well.
 * Author: Miller Medeiros
 * Version: 0.3.1 (2013/02/04)
 * Released under the MIT license
 */
player.define('json',['text'], function(text){

    var CACHE_BUST_QUERY_PARAM = 'bust',
        CACHE_BUST_FLAG = '!bust',
        jsonParse = (typeof JSON !== 'undefined' && typeof JSON.parse === 'function')? JSON.parse : function(val){
            return eval('('+ val +')'); //quick and dirty
        },
        buildMap = {};

    function cacheBust(url){
        url = url.replace(CACHE_BUST_FLAG, '');
        url += (url.indexOf('?') < 0)? '?' : '&';
        return url + CACHE_BUST_QUERY_PARAM +'='+ Math.round(2147483647 * Math.random());
    }

    //API
    return {

        load : function(name, req, onLoad, config) {
            if ( config.isBuild && (config.inlineJSON === false || name.indexOf(CACHE_BUST_QUERY_PARAM +'=') !== -1) ) {
                //avoid inlining cache busted JSON or if inlineJSON:false
                onLoad(null);
            } else {
                text.get(req.toUrl(name), function(data){
                    if (config.isBuild) {
                        buildMap[name] = data;
                        onLoad(data);
                    } else {
                        onLoad(jsonParse(data));
                    }
                },
                    onLoad.error, {
                        accept: 'application/json'
                    }
                );
            }
        },

        normalize : function (name, normalize) {
            //used normalize to avoid caching references to a "cache busted" request
            return (name.indexOf(CACHE_BUST_FLAG) === -1)? name : cacheBust(name);
        },

        //write method based on RequireJS official text plugin by James Burke
        //https://github.com/jrburke/requirejs/blob/master/text.js
        write : function(pluginName, moduleName, write){
            if(moduleName in buildMap){
                var content = buildMap[moduleName];
                write('define("'+ pluginName +'!'+ moduleName +'", function(){ return '+ content +';});\n');
            }
        }

    };
});


player.define("json!../../config/stage/main.json", function(){ return {
	"resources": [{
			"active": true,
			"template": "texto",
			"label": "Caixa de Texto",
			"icon": "H"
		},

		{
			"active": true,
			"template": "caixaDestaque",
			"label": "Caixa Destaque",
			"icon": "I"
		},

		{
			"active": true,
			"template": "personagem",
			"label": "Personagem",
			"icon": ""
		},

		{
			"active": true,
			"template": "imagem",
			"label": "Imagem",
			"icon": "J"
		},

		{
			"active": true,
			"template": "video",
			"label": "Video",
			"icon": "K"
		},

		{
			"active": true,
			"template": "multimedia",
			"label": "Multimedia",
			"icon": "M"
		},

		{
			"active": true,
			"template": "audio",
			"label": "Audio",
			"icon": "L"
		},

		{
			"active": true,
			"template": "tabs",
			"label": "Gaveta de Contedo",
			"icon": ""
		},

		{
			"active": false,
			"template": "slider",
			"label": "Slider",
			"icon": ""
		},

		{
			"active": true,
			"template": "botaoPP",
			"label": "Primeiro Plano",
			"icon": "&"
		},

		{
			"active": true,
			"template": "atividade",
			"label": "Atividade",
			"icon": "_"
		}
	],

	"slideTools": {
		"buttons": {
			"Pointer": {
				"title": "Selecionar",
				"icon": "O",
				"active": true,
				"selected": true
			},

			"Pan": {
				"title": "Arrastar",
				"icon": "P",
				"active": true
			},

			"Undo": {
				"title": "Voltar",
				"icon": "Q",
				"active": true
			},

			"Redo": {
				"title": "Avanar",
				"icon": "R",
				"active": true
			},

			"Timeline": {
				"title": "Timeline",
				"icon": "S",
				"active": true,
				"selected": true
			},

			"Grid": {
				"title": "Grid ON/OFF",
				"icon": "T",
				"active": true,
				"selected": true
			},

			"Pattern": {
				"title": "Padro ON/OFF",
				"icon": "U",
				"active": true
			},

			"Preview": {
				"title": "Visualizar",
				"icon": "V",
				"active": true
			},

			"BgSlide": {
				"title": "Alterar Fundo",
				"icon": "W",
				"active": false,
				"hidden": true
			},

			"SaveTemplate": {
				"title": "Salvar template",
				"icon": "X",
				"active": true,	
				"hidden": false
			}
		}

	},

	"canvas": {
		"threeColumns": {
			"dimensions": {
				"width": 1021,
				"height": 492
			},
			"grid": [{
				"orientation": "v",
				"position": 37
			}, {
				"orientation": "v",
				"position": 52
			}, {
				"orientation": "v",
				"position": 334
			}, {
				"orientation": "v",
				"position": 349
			}, {
				"orientation": "v",
				"position": 672
			}, {
				"orientation": "v",
				"position": 687
			}, {
				"orientation": "v",
				"position": 969
			}, {
				"orientation": "v",
				"position": 984
			}, {
				"orientation": "h",
				"position": 36
			}, {
				"orientation": "h",
				"position": 456
			}]
		}
	}
};});


player.define('text!resources/botaoPP/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="editModal" class="editionBlock bottom" data-position="left top+10|left bottom">\n\t\t\n\t\t<div class="mbOptionsResources mbOptionsBtModal">\n\t\t\t<div class="btn-group editionGroud" data-attr="type">\n\t\t\t\t\t<button id="botaoTexto" type="button" class="btn btn-default" value="btnRetangle">\n\t\t\t\t\t\t<div data-icon="" class="icon"></div>\n\t\t\t\t\t\t<span>Boto Texto</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id="botaoPequeno" type="button" class="btn btn-default" value="btnSmallCircle">\n\t\t\t\t\t\t<div data-icon="/" class="icon"></div>\n\t\t\t\t\t\t<span>Boto Pequeno</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id="botaoGrande" type="button" class="btn btn-default" value="btnMediumCircle">\n\t\t\t\t\t\t<div data-icon="?" class="icon"></div>\n\t\t\t\t\t\t<span>Boto Grande</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id="botaoGrande" type="button" class="btn btn-default" value="btnCapture">\n\t\t\t\t\t\t<div data-icon="?" class="icon"></div>\n\t\t\t\t\t\t<span>Boto Captura</span>\n\t\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div class="btn-group">\n\t\t\t\t<button id="recEditModal" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="C" class="icon"></div>\n\t\t\t\t\t<span>Editar Modal</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n<!-- </div> -->\n\n\n\n\n';});


player.define('text!resources/multimedia/template.html',[],function () { return '<div id="{{_id}}" class="{{^src}}noContent{{/src}}" style="{{style}}" >\n\t<iframe src="{{#src}} {{src}} {{/src}}" width="100%" height="100%" style="border: 0px;">\n\t\t<p>Your browser does not support iframes.</p>\n\t</iframe>\n\t\t\t\t\t\n\t<div class="bgMultimediaIEfix"></div>\n\t<span class="glyphicon glyphicon-edit"></span>\n</div>\n';});


player.define('text!resources/multimedia/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recVideoPicker" class="editionBlock" data-position="left top+10|left bottom">\n\t\t<div class="mbTypeVideoBox">\n\t\t\t<div id="editionVideoSource" class="btn-group" >\n\t\t\t\t<button id="editionExternalLink" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="(" class="icon"></div>\n\t\t\t\t\t<span>Inserir Link</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="recMultimediaPicker" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="r" class="icon"></div>\n\t\t\t\t\t<span>Escolher arquivo</span>\n\t\t\t\t</button>\t\t\t\t\n\t\t\t</div>\n\t\t\t<div class="input-group mbInputMultBox" style="display: none">\n\t\t\t\t<input id="editionMultURL" type="text" class="form-control mbInputMult" placeholder="Insira um link aqui...">\n\t\t\t\t<span class="input-group-btn okBtnInputMult">\n\t\t\t\t\t<button id="editionVideoOk" class="btn btn-default" type="button">OK</button>\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\t\n<!-- </div> -->\n\n';});

player.define('resources/multimedia/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization imagem -------', this);
			var me = this;

			this.addElements({
				'multimediaPicker': '#recMultimediaPicker',
				'URL': '#editionVideoURL',
				'ok': '#editionVideoOk',
				'addLinkMultBtn': '#editionExternalLink',
				'inputMultBox': '.mbInputMultBox',
				'editionMultURL': '#editionMultURL'
			});

			this.events = _.extend(this.events, {
				'click _multimediaPicker': 'fileManeger',
				'click _ok': 'setSource',
				'click _addLinkMultBtn': 'addExternalLink'
			});

			_.bindAll(this, 'handlerPickedMultimedia');

			/*
			Processo de renderizao ir ocorrer aps o encerramento das aes de inicializao
 			*/
		},

		showing: function() {
			console.log('showing texto', this);
			var me = this,
				model = me.recView.model;

			this.recView.delegateEvents();
		},

		addExternalLink: function() {
			var me = this,
				$btnInsertLink = this.elems.$addLinkMultBtn,
				$inputMultBox = this.elems.$inputMultBox;

			if ($btnInsertLink.hasClass('actived')) {
				$btnInsertLink.removeClass('actived');
			} else {
				$btnInsertLink.addClass('actived');
			}

			$inputMultBox
				.toggle();
		},

		setSource: function() {
			var me = this,
				model = me.recView.model,
				$editionMultURL = me.elems.$editionMultURL,
				value = $editionMultURL.val();

			console.log('[rec]multimedia [method]setSource [var]value: ', value, me);
			model.set('src', value);
		},

		fileManeger: function() {
			var fileManager = window.Editor.Views.Modals.fileManager;

			fileManager.show({
				type: 2,
				callback: this.handlerPickedMultimedia
			});
		},

		handlerPickedMultimedia: function(data) {
			console.log('[rec]audio [method]handlerPickedMultimedia: ', data);
			var me = this,
				recView = this.recView,
				url = data.path,
				folder = url.substr(0, url.lastIndexOf('/') + 1),
				file = url.substr(url.lastIndexOf('/') + 1),
				model = this.recView.model;

			/* funo que copia para s3 os arquivos do curso e percisa do modelo do recurso, 
			path para arquivo a ser copiado e atributo que vai ser alterado na finalizao */

			me.copyToS3({
				entity: "resources",
				type: "external",
				model: model,
				src: folder,
				attr: "src",
				callback: function(data) {
					model.set('src', data.dest + "/" + file);
				}
			});
		}
	};

	return View;
});
player.define('resources/multimedia/player',[], function() {

	var multimedia = function(template, data) {
		this.init = function() {
			/*Checar Funo compile para observar que objetos so atrelados ao objeto principal
			- this.template
			- this.data
			- this.compiled
			- this.el
			- this.$el
			*/
			
			$.extend(true, this, new Player.Helpers.resourceExtend(this, arguments));

			var multimedia = this,
				$multimedia = multimedia.$el.find('iframe'),
				src = $multimedia.attr('src');

			this.iframe = $multimedia;
			this.src = src;

		}

		this['in'] = function() {
			this.iframe.attr('src', this.src);
		}

		this.out = function() {
			this.iframe.attr('src', 'about:blank');
		}
	}

	return multimedia;
});

player.define('text!resources/texto/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recTextoType" class="editionBlock bottom" data-position="left top+10|left bottom">\n\t\t\n\t\t<div class="mbBalloonOptions parent">\n\t\t\t<div class="btn-group editionGroupSwitch" data-value="true|false">\n\t\t\t\t<button id="normal" type="button" class="btn btn-default" data-attr="normal.active">\n\t\t\t\t\t<div data-icon="j" class="icon"></div>\n\t\t\t\t\t<span>TEXTO</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="balao" type="button" class="btn btn-default" data-attr="balao.active">\n\t\t\t\t\t<div data-icon="<" class="icon"></div>\n\t\t\t\t\t<span>BALO</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="titulo" type="button" class="btn btn-default" data-attr="titulo.active">\n\t\t\t\t\t<div data-icon="!" class="icon"></div>\n\t\t\t\t\t<span>TTULO</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="mbBalloonOptions mbBalloonSubOptions recTextoSubType" data-type="normal">\n\t\t\t<div class="btn-group editionGroud" data-attr="normal.subType">\n\t\t\t\t<button value="comFundo" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="=" class="icon"></div>\n\t\t\t\t\t<span>COM FUNDO</span>\n\t\t\t\t</button>\n\t\t\t\t<button value="semFundo" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="+" class="icon"></div>\n\t\t\t\t\t<span>SEM FUNDO</span>\n\t\t\t\t</button>\n\t\t\t\t<button value="normalModelo2" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="j" class="icon"></div>\n\t\t\t\t\t<span>CUSTOMIZADO</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div id="balaoFala" class="mbBalloonOptions mbBalloonSubOptions  recTextoSubType" data-type="balao">\n\t\t\t<div class="btn-group editionGroud" data-attr="balao.subType">\n\t\t\t\t<button value="left" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="<" class="icon"></div>\n\t\t\t\t\t<span>ESQUERDA</span>\n\t\t\t\t</button>\n\t\t\t\t<button value="right" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon=">" class="icon"></div>\n\t\t\t\t\t<span>DIREITA</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="mbBalloonOptions mbBalloonSubOptions recTextoSubType" data-type="titulo">\n\t\t\t<div class="btn-group editionGroud" data-attr="titulo.subType">\n\t\t\t\t<button value="primario" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="," class="icon"></div>\n\t\t\t\t\t<span>PRIMRIO</span>\n\t\t\t\t</button>\n\t\t\t\t<button value="secundario" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon=";" class="icon"></div>\n\t\t\t\t\t<span>SECUNDRIO</span>\n\t\t\t\t</button>\n\t\t\t\t<button value="customColor" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon=";" class="icon"></div>\n\t\t\t\t\t<span>CUSTOMIZADO</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n<!-- </div> -->\n\n';});


player.define('text!resources/texto/template.html',[],function () { return '<div id="{{_id}}" class="{{class}}{{#normal.active}} normal {{normal.subType}} {{/normal.active}} {{#normalModelo2.active}} normalModelo2 {{normalModelo2.subType}} {{/normalModelo2.active}}{{#balao.active}} balao {{balao.subType}}{{/balao.active}}{{#titulo.active}} titulo {{titulo.subType}}{{/titulo.active}}" style="{{style}}">\n\t<div class="tagP">{{&content}}</div>\n</div>';});


player.define('text!resources/caixaDestaque/template.html',[],function () { return '<div id="{{_id}}" class="{{class}} {{type}}" style="{{style}}">\n\t<div class="iconDestaque"></div>\n\t<div class="tituloCaixaDestaque">\n\t\t<h2 id="cdTitle">{{&title}}</h2>\n\t</div>\n\t<div class="textoCaixaDestaque">\n\t\t<div class="tagP" id="cdContent">{{&content}}</div>\n\t</div>\n</div>';});



player.define("json!../../config/slides/config.json", function(){ return {
	"defaults": {
		"name": "Novo slide",
		"template": "slideSimples"
	},

	"slides": [
		{
			"template": "slideCapa",
			"thumbnail": "https://s3-sa-east-1.amazonaws.com/mobiliza/clients/neogrid/thumbP2/Neogrid_p2TemplateCapa.png",
			"name": "Capa",
			"categories": [
				"capa",
				"slide"
			]
		},

		{
			"template": "slideSubCapa",
			"thumbnail": "https://s3-sa-east-1.amazonaws.com/mobiliza/clients/neogrid/thumbP2/Neogrid_p2TemplateSubCapa.png",
			"name": "Sub Capa",
			"categories": [
				"subCapa",
				"slide"
			]
		},

		{
			"template": "slideFinal",
			"thumbnail": "https://s3-sa-east-1.amazonaws.com/mobiliza/clients/neogrid/thumbP2/Neogrid_p2TemplateFinal.png",
			"name": "Slide Final",
			"categories": [
				"final",
				"slide"
			]
		},
		{
			"template": "templateVideo",
			"name": "Template de Vdeo",
			"thumbnail": "https://s3-sa-east-1.amazonaws.com/mobiliza/clients/neogrid/thumbP2/Neogrid_p2TemplateVideo.png",
			"categories": [
				"templates",
				"template",
				"templateVideo",
				"Template de Vdeo",
				"slide"
			]
		},

		{
			"template": "templateAtividade",
			"thumbnail": "https://s3-sa-east-1.amazonaws.com/mobiliza/clients/neogrid/thumbP2/Neogrid_p2TemplateAtividade.png",
			"name": "Template de Atividade",
			"categories": [
				"templates",
				"template",
				"templateAtividade",
				"Template de Atividade",
				"slide"
			]
		},

		{
			"template": "templateTexto",
			"name": "Template de Texto",
			"thumbnail": "https://s3-sa-east-1.amazonaws.com/mobiliza/clients/neogrid/thumbP2/Neogrid_p2TemplateTexto.png",
			"categories": [
				"templates",
				"template",
				"templateTexto",
				"Template de Texto",
				"slide"
			]
		},

		{
			"template": "templateAudio",
			"name": "Template de udio",
			"thumbnail": "https://s3-sa-east-1.amazonaws.com/mobiliza/clients/neogrid/thumbP2/Neogrid_p2TemplateAudio.png",
			"categories": [
				"templates",
				"template",
				"TemplateAudio",
				"Template de udio",
				"slide"
			]
		}
	]
};});


player.define("json!../../../../_baseClient/_base/config/stage/main.json", function(){ return {
	"resources": [{
			"active": true,
			"template": "texto",
			"label": "Caixa de Texto",
			"icon": "H"
		},

		{
			"active": true,
			"template": "caixaDestaque",
			"label": "Caixa Destaque",
			"icon": "I"
		},

		{
			"active": true,
			"template": "personagem",
			"label": "Personagem",
			"icon": ""
		},

		{
			"active": true,
			"template": "imagem",
			"label": "Imagem",
			"icon": "J"
		},

		{
			"active": true,
			"template": "video",
			"label": "Video",
			"icon": "K"
		},

		{
			"active": true,
			"template": "multimedia",
			"label": "Multimedia",
			"icon": "M"
		},

		{
			"active": true,
			"template": "audio",
			"label": "Audio",
			"icon": "L"
		},

		{
			"active": true,
			"template": "tabs",
			"label": "Gaveta de Contedo",
			"icon": ""
		},

		{
			"active": false,
			"template": "slider",
			"label": "Slider",
			"icon": ""
		},

		{
			"active": true,
			"template": "botaoPP",
			"label": "Primeiro Plano",
			"icon": "&"
		},

		{
			"active": true,
			"template": "atividade",
			"label": "Atividade",
			"icon": "_"
		}
	],

	"slideTools": {
		"buttons": {
			"Pointer": {
				"title": "Selecionar",
				"icon": "O",
				"active": true,
				"selected": true
			},

			"Pan": {
				"title": "Arrastar",
				"icon": "P",
				"active": true
			},

			"Undo": {
				"title": "Desfazer",
				"icon": "Q",
				"active": true
			},

			"Redo": {
				"title": "Refazer",
				"icon": "R",
				"active": true
			},

			"Timeline": {
				"title": "Timeline",
				"icon": "S",
				"active": true,
				"selected": true
			},

			"Grid": {
				"title": "Grid ON/OFF",
				"icon": "T",
				"active": true,
				"selected": true
			},

			"Pattern": {
				"title": "Padro ON/OFF",
				"icon": "U",
				"active": true
			},

			"Preview": {
				"title": "Visualizar",
				"icon": "V",
				"active": true
			},

			"BgSlide": {
				"title": "Alterar Fundo",
				"icon": "W",
				"active": false,
				"hidden": true
			},

			"SaveTemplate": {
				"title": "Salvar template",
				"icon": "X",
				"active": false,
				"hidden": true	
			}
		}

	},

	"canvas": {
		"threeColumns": {
			"dimensions": {
				"width": 1021,
				"height": 492
			},
			"grid": [{
				"orientation": "v",
				"position": 37
			}, {
				"orientation": "v",
				"position": 52
			}, {
				"orientation": "v",
				"position": 334
			}, {
				"orientation": "v",
				"position": 349
			}, {
				"orientation": "v",
				"position": 672
			}, {
				"orientation": "v",
				"position": 687
			}, {
				"orientation": "v",
				"position": 969
			}, {
				"orientation": "v",
				"position": 984
			}, {
				"orientation": "h",
				"position": 36
			}, {
				"orientation": "h",
				"position": 456
			}]
		}
	}
};});


player.define("json!../../../../_baseClient/_base/config/stage/modal.json", function(){ return {
	"resources": [{
			"active": true,
			"template": "texto",
			"label": "Caixa de Texto",
			"icon": "H"
		},

		{
			"active": true,
			"template": "caixaDestaque",
			"label": "Caixa Destaque",
			"icon": "I"
		},

		{
			"active": false,
			"template": "gaveta",
			"label": "Gaveta de Contedo",
			"icon": "e"
		},

		{
			"active": false,
			"template": "personagem",
			"label": "Personagem",
			"icon": ""
		},

		{
			"active": true,
			"template": "imagem",
			"label": "Imagem",
			"icon": "J"
		},

		{
			"active": true,
			"template": "video",
			"label": "Video",
			"icon": "K"
		},

		{
			"active": true,
			"template": "multimedia",
			"label": "Multimedia",
			"icon": "M"
		},

		{
			"active": true,
			"template": "audio",
			"label": "Audio",
			"icon": "L"
		},

		{
			"active": true,
			"template": "atividade",
			"label": "Atividade",
			"icon": "_"
		}
	],

	"slideTools": {
		"buttons": {
			"Pointer": {
				"title": "Selecionar",
				"icon": "O",
				"active": true,
				"selected": true
			},

			"Pan": {
				"title": "Arrastar",
				"icon": "P",
				"active": false,
				"hidden": true
			},

			"Undo": {
				"title": "Voltar",
				"icon": "Q",
				"active": true
			},

			"Redo": {
				"title": "Avanar",
				"icon": "R",
				"active": true
			},

			"Timeline": {
				"title": "Timeline",
				"icon": "S",
				"active": true,
				"selected": true
			},

			"Grid": {
				"title": "Grid ON/OFF",
				"icon": "T",
				"active": true,
				"selected": true
			},

			"Pattern": {
				"title": "Padro ON/OFF",
				"icon": "U",
				"active": false,
				"hidden": true
			},

			"Preview": {
				"title": "Visualizar",
				"icon": "V",
				"active": true
			},

			"BgSlide": {
				"title": "Alterar Fundo",
				"icon": "W",
				"active": false,
				"hidden": true
			},

			"SaveTemplate": {
				"title": "Salvar template",
				"icon": "X",
				"active": false,
				"hidden": true
			}
		}

	},

	"canvas": {
		"ppPequeno": {
			"dimensions": {
				"width": 536,
				"height": 265
			},
			"grid": [{
				"orientation": "v",
				"position": 0
			}, {
				"orientation": "v",
				"position": 20
			}, {
				"orientation": "v",
				"position": 260
			}, {
				"orientation": "v",
				"position": 276
			}, {
				"orientation": "v",
				"position": 516
			}, {
				"orientation": "v",
				"position": 536
			}, {
				"orientation": "h",
				"position": 20
			}, {
				"orientation": "h",
				"position": 245
			}]
		},

		"ppMedio": {
			"dimensions": {
				"width": 740,
				"height": 365
			},
			"grid": [{
				"orientation": "v",
				"position": 0
			}, {
				"orientation": "v",
				"position": 20
			}, {
				"orientation": "v",
				"position": 390
			}, {
				"orientation": "v",
				"position": 406
			}, {
				"orientation": "v",
				"position": 720
			}, {
				"orientation": "v",
				"position": 740
			}, {
				"orientation": "h",
				"position": 20
			}, {
				"orientation": "h",
				"position": 345
			}]
		},

		"ppGrande": {
			"dimensions": {
				"width": 885,
				"height": 440
			},
			"grid": [{
				"orientation": "v",
				"position": 0
			}, {
				"orientation": "v",
				"position": 20
			}, {
				"orientation": "v",
				"position": 291
			}, {
				"orientation": "v",
				"position": 307
			}, {
				"orientation": "v",
				"position": 578
			}, {
				"orientation": "v",
				"position": 594
			}, {
				"orientation": "v",
				"position": 865
			}, {
				"orientation": "v",
				"position": 885
			}, {
				"orientation": "h",
				"position": 20
			}, {
				"orientation": "h",
				"position": 420
			}]
		},
	}
};});


player.define("json!../../../../_baseClient/_base/config/stage/tabs.json", function(){ return {
	"resources": [{
			"active": true,
			"template": "texto",
			"label": "Caixa de Texto",
			"icon": "H"
		},

		{
			"active": true,
			"template": "caixaDestaque",
			"label": "Caixa Destaque",
			"icon": "I"
		},

		{
			"active": false,
			"template": "gaveta",
			"label": "Gaveta de Contedo",
			"icon": "e"
		},

		{
			"active": false,
			"template": "personagem",
			"label": "Personagem",
			"icon": "h"
		},

		{
			"active": true,
			"template": "imagem",
			"label": "Imagem",
			"icon": "J"
		},

		{
			"active": true,
			"template": "video",
			"label": "Video",
			"icon": "K"
		},

		{
			"active": true,
			"template": "multimedia",
			"label": "Multimedia",
			"icon": "M"
		},

		{
			"active": true,
			"template": "audio",
			"label": "Audio",
			"icon": "L"
		},

		{
			"active": true,
			"template": "atividade",
			"label": "Atividade",
			"icon": "_"
		}
	],

	"slideTools": {
		"buttons": {
			"Pointer": {
				"title": "Selecionar",
				"icon": "O",
				"active": true,
				"selected": true
			},

			"Pan": {
				"title": "Arrastar",
				"icon": "P",
				"active": false,
				"hidden": true
			},

			"Undo": {
				"title": "Voltar",
				"icon": "Q",
				"active": true
			},

			"Redo": {
				"title": "Avanar",
				"icon": "R",
				"active": true
			},

			"Timeline": {
				"title": "Timeline",
				"icon": "S",
				"active": true,
				"selected": true
			},

			"Grid": {
				"title": "Grid ON/OFF",
				"icon": "T",
				"active": true,
				"selected": true
			},

			"Pattern": {
				"title": "Padro ON/OFF",
				"icon": "U",
				"active": false,
				"hidden": true
			},

			"Preview": {
				"title": "Visualizar",
				"icon": "V",
				"active": true
			},

			"BgSlide": {
				"title": "Alterar Fundo",
				"icon": "W",
				"active": false,
				"hidden": true
			},

			"SaveTemplate": {
				"title": "Salvar template",
				"icon": "X",
				"active": false,
				"hidden": true
			}
		}

	},

	"canvas": {
		"default": {
			"dimensions": {
				"width": 283,
				"height": 540
			},
			"grid": [{
				"orientation": "v",
				"position": 14
			}, {
				"orientation": "v",
				"position": 266
			}, {
				"orientation": "h",
				"position": 36
			}, {
				"orientation": "h",
				"position": 504
			}]
		}
	}
};});



player.define('text!../../../../_baseClient/_base/js/desktop/slides/slideCapa/template.html',[],function () { return '<div style="{{style}}; background-image:{{background}}" id="{{_id}}" class="{{class}}"></div>';});


player.define("json!../../../../_baseClient/_base/js/desktop/slides/slideCapa/config.json", function(){ return {
	"resources": {
		"allowed": [

		],

		"insert": [{
			"template": "imagem",
			"baseImg": "",
			"src": "",
			"imgHeight": 185,
			"legend": {
				"active": false,
				"content": "Teste : Teste images"
			},
			"border": false,
			"styleObj": {
				"width": "283px",
				"height": "469px",
				"right": "50px",
				"top": "36px",
				"position": "absolute"
			},
			"order": 1
		}, {
			"template": "texto",
			"class": "faixaCapa semFundo",
			"content": "Capas so Slides Especiais que Trazem o Ttulo da Seco de Contedo.",
			"styleObj": {
				"position": "relative",
				"width": "inherit",
				"top": "0px",
				"left": "0px"
			},
			"normal": {
				"subType": "",
				"active": true
			},
			"balao": {
				"subType": "left",
				"active": false
			},
			"titulo": {
				"subType": "primario",
				"active": false
			},
			"order": 0,

			"editor": {
				"restrictions": {
					"stateHandlers": {
						"boundingBox": false,
						"edition": {
							"_all": false
						}
					},
					"deletable": false,
					"copyable": false,
					"top": false,
					"left": false,
					"right": false,
					"bottom": false,
					"width": false,
					"height": false
				}
			}
		}]
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/slides/slideCapa/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization slideCapa -------', this);

		},

		showing: function() {
			var me = this,
				model = me.recView.model;

			this.recView.addElements.call(this.recView, {
				'content': '.tagP'
			});

			this.recView.events = this.recView.events ? this.recView.events : {};

			_.extend(this.recView.events, {
				'click _content': me.editContent
			});

			this.recView.delegateEvents();
		},

		hiding: function() {
			var me = this,
				$content = me.recView.elems.$content;

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado
			$content.off('click');
		},

		editContent: function() {
			console.log('editContent');
			var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
				//Pametros necessrios para que o metodo de textEdition funcione
				params = {
					$el: me.recView.elems.$content, //Elemento wrapped pelo jquery					 
					attr: 'title', //atributo do modelo
					maxChars: 100, //maximo de caracteres
					enterLeave: true, // Enter sai do modo edio
					blur: true, // blur sai do modo edio
					textEditor: {
						relOf: me.recView.elems.$content,
						position: "bottom", //posio do editor de texto
						options: [ //opes do editor de texto
							'bold',
							'italic',
							'underline',
							'removeFormat',
							'spellchecker'
						]
					}
				};

			//Metodo que  exposto para edio de textos
			me.textEdition(params);
		}
	};

	return View;
});

player.define('text!../../../../_baseClient/_base/js/desktop/slides/slideFinal/template.html',[],function () { return '<div style="{{style}}; background-image:{{background}}" id="{{_id}}" class="{{class}}"></div>';});


player.define("json!../../../../_baseClient/_base/js/desktop/slides/slideFinal/config.json", function(){ return {
	"defaults": {},
	"resources": {
		"allowed": [],
		"insert": [{
			"template": "caixaDestaque",
			"class": "slideFinal",
			"type": "normal",
			"title": "Final de Curso",
			"content": "Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nam cursus. Morbi ut mi. Nullam enim leo, egestas id, condimentum at, laoreet mattis, massa.",
			"styleObj": {
				
			},
			"order": 0,

			"editor": {
				"restrictions": {
					"stateHandlers": {
						"boundingBox": false,
						"edition": {
							"_all": false
						}
					},
					"deletable": false,
					"copyable": false,
					"width": false,
					"height": false,
					"top": false,
					"left": false
				}
			}
		}]
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/slides/slideFinal/editor',[], function() {

	var slideFinalView = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization slideFinalView -------', this);
		},

		
	};

	return slideFinalView;
});

player.define('text!../../../../_baseClient/_base/js/desktop/slides/slideSubCapa/template.html',[],function () { return '<div style="{{style}}; background-image:{{background}}" id="{{_id}}" class="{{class}}">\n\t\n</div>';});


player.define("json!../../../../_baseClient/_base/js/desktop/slides/slideSubCapa/config.json", function(){ return {
	"resources": {
		"allowed": [

		],

		"insert": [{
			"template": "texto",
			"class": "faixaSubCapa semFundo",
			"content": "Subcapas so Slides Especiais que Trazem um Subttulo da Seco de Contedo.",
			"styleObj": {
				"position": "relative",
				"width": "inherit",
				"top": "0px",
				"left": "0px"
			},
			"normal": {
				"subType": "",
				"active": true
			},
			"balao": {
				"subType": "left",
				"active": false
			},
			"titulo": {
				"subType": "primario",
				"active": false
			},
			"order": 0,

			"editor": {
				"restrictions": {
					"stateHandlers": {
						"boundingBox": false,
						"edition": {
							"_all": false
						}
					},
					"deletable": false,
					"copyable": false,
					"top": false,
					"left": false,
					"right": false,
					"bottom": false,
					"width": false,
					"height": false
				}
			}
		}]
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/slides/slideSubCapa/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization slideSubCapa -------', this);

		},

		showing: function() {
			var me = this,
				model = me.recView.model;

			this.recView.addElements.call(this.recView, {
				'content': '.tagP'
			});

			this.recView.events = this.recView.events ? this.recView.events : {};

			_.extend(this.recView.events, {
				'click _content': me.editContent
			});

			this.recView.delegateEvents();
		},

		hiding: function() {
			var me = this,
				$content = me.recView.elems.$content;

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado
			$content.off('click');
		},

		editContent: function() {
			console.log('editContent');
			var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
				//Pametros necessrios para que o metodo de textEdition funcione
				params = {
					$el: me.recView.elems.$content, //Elemento wrapped pelo jquery					 
					attr: 'title', //atributo do modelo
					maxChars: 100, //maximo de caracteres
					enterLeave: true, // Enter sai do modo edio
					blur: true, // blur sai do modo edio
					textEditor: {
						relOf: me.recView.elems.$content,
						position: "bottom", //posio do editor de texto
						options: [ //opes do editor de texto
							'bold',
							'italic',
							'underline',
							'removeFormat',
							'spellchecker'
						]
					}
				};

			//Metodo que  exposto para edio de textos
			me.textEdition(params);
		}
	};

	return View;
});

player.define('text!slides/templateVideo/template.html',[],function () { return '<div style="{{style}}" id="{{_id}}" class="{{class}}">\t\n\t<div class="slideBackground {{^background.src}}noContent{{/background.src}}">\n\t\t<img src="{{#background.src}} {{background.src}} {{/background.src}}" height="100%" width="100%"/>\n\t\t<span class="glyphicon glyphicon-picture"></span>\n\t</div>\n</div>\n';});


player.define("json!slides/templateVideo/config.json", function(){ return {
   "defaults": {

   },

   "resources": {
      "allowed": [
         "texto",
         "caixaDestaque",
         "imagem",
         "video",
         "multimedia",
         "audio",
         "atividade",
         "botaoPP"
      ],

      "insert": [
          {  
               
               "template":"texto",
               "order":1,
               "styleObj":{  
                  "position":"absolute",
                  "width":"243px",
                  "top":"36px",
                  "left":"51.9375px"
               },
               "content":"Template Tela Vdeo",
               "normal":{  
                  "active":false,
                  "subType":"semFundo"
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "subType":"secundario",
                  "active":true
               }
               
            },
            {  
               
               "template":"texto",
               "order":1,
               "styleObj":{  
                  "position":"absolute",
                  "width":"284.65625px",
                  "top":"128px",
                  "left":"50.65625px"
               },
               "content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin consequat arcu nec risus rutrum, ac consequat risus lacinia.&nbsp;<div><br></div><div>Donec eu diam vulputate nibh blandit pulvinar sed sed dui.</div><div><br></div><div>Morbi vehicula metus feugiat gravida venenatis. Cras pulvinar dapibus lectus.<br></div>",
               "normal":{  
                  "subType":"semFundo",
                  "active":true
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "active":false,
                  "subType":"primario"
               }
               
            },
            {  
               
               "template":"video",
               "order":2,
               "styleObj":{  
                  "position":"absolute",
                  "width":"505px",
                  "height":"300px",
                  "top":"128px",
                  "left":"400px"
               },
               "youtube":{  
                  "active":false,
                  "id":"5WqO5u2at-A"
               },
               "vimeo":{  
                  "active":false,
                  "id":"90602247"
               },
               "local":{  
                  "active":true,
                  "src":"",
                  "type":"video/mp4",
                  "techOrder":[  
                     "html5"
                  ]
               },
               "web":{  
                  "active":false,
                  "src":"",
                  "type":"video/mp4"
               }
               
            }
      ]
   }
}


;});

player.define('slides/templateVideo/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization slidesimples -------', this);

			this.addElements({
				'imgPicker': '#slideImgPicker',
				'imgEdit': '#slideImgEditar'
			});

			this.events = _.extend(this.events, {
				'click _imgPicker': 'pickImage',
				'click _imgEdit': 'editImage'
			});

			_.bindAll(this, 'handlerPickedImage', 'handlerEditedImage');

		},

		showing: function() {
			console.log('showing slidesimples', this);
			var me = this,
				model = me.recView.model;

			this.recView.addElements.call(this.recView, {
				'img': 'img'
			});

			this.recView.delegateEvents();
			console.log('showing slidesimples', this);
		},

		hiding: function() {
			var me = this,
				$content = me.recView.elems.$content;

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado
			// $content.off('dblclick');
		},

		pickImage: function() {
			console.log('pickImage ------- ');

			var fileManager = window.Editor.Views.Modals.fileManager;

			fileManager.show({
				type: 1,
				callback: this.handlerPickedImage
			});
		},

		handlerPickedImage: function(data) {
			console.log('[rec]image [method]handlerPickedImage [var]this.recView: ', this.recView);
			var me = this,
				recView = this.recView,
				model = recView.model,
				$img = recView.elems.$img,
				url = data.path;

			// data.path = "http://images.aviary.com/imagesv5/feather_default.jpg";

			model.set({
				"baseImg": url,
				"background.src": ""
			}, {
				silent: true
			});

			console.log('[rec]image [method]handlerPickedImage [var]$img', $img);
			Editor.Views.Modals.aviary.show({
				$el: $img,
				src: data.path,
				callback: me.handlerEditedImage,
				allowCropByImage: false
			});
			// Editor.Views.Modals.aviary.show($img, data.path, me.handlerEditedImage, 'false');
		},

		editImage: function() {
			console.log('[rec]image [method]editImage: ');
			var me = this,
				model = this.recView.model,
				baseImg = model.get('baseImg'),
				$img = me.recView.elems.$img;

			console.log('[rec]image [method]editImage [var]$img, baseImg', $img, baseImg);
			Editor.Views.Modals.aviary.show({
				$el: $img,
				src: baseImg,
				callback: me.handlerEditedImage,
				allowCropByImage: false
			});
		},

		handlerEditedImage: function(data) {
			console.log('[rec]image [method]handlerEditedImage: ', data, this);
			var me = this,
				recView = this.recView,
				model = this.recView.model;

			model.set({
				'background.src': data.url
			});

			/* funo que copia para s3 os arquivos do curso e percisa do modelo do recurso, 
			path para arquivo a ser copiado e atributo que vai ser alterado na finalizao */
			me.copyToS3({
				entity: "slides",
				type: "image",
				model: model,
				src: data.url,
				attr: "background.src",
				options: data.resize ? data.resize : null
			});
		},

		// editContent: function() {
		// 	console.log('editContent');
		// 	var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
		// 		//Pametros necessrios para que o metodo de textEdition funcione
		// 		params = {
		// 			$el: me.recView.elems.$content, //Elemento wrapped pelo jquery					 
		// 			attr: 'title', //atributo do modelo
		// 			maxChars: 15, //maximo de caracteres
		// 			enterLeave: true, // Entre sai do modo edio
		// 			blur: true, // blur sai do modo edio
		// 			textEditor: {
		// 				position: "bottom", //posio do editor de texto
		// 				options: [ //opes do editor de texto
		// 					'bold',
		// 					'italic',
		// 					'underline',
		// 					'removeFormat',
		// 					'spellchecker'
		// 				]
		// 			}
		// 		};

		// 	//Metodo que  exposto para edio de textos
		// 	me.textEdition(params);
		// }
	};

	return View;
});

player.define('text!slides/templateVideo/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recImgEditBox" class="editionBlock" data-position="left top+10|left bottom">\n\t\t<div class="mbOptionsResources mbOptionsBgImage">\n\t\t\t<div class="btn-group">\n\t\t\t\t<button id="slideImgPicker" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="r" class="icon"></div>\t\t\t\t\n\t\t\t\t\t<span>Escolher Imagem</span>\n\t\t\t\t</button>\n\n\t\t\t\t<button id="slideImgEditar" type="button" class="btn btn-default">\t\n\t\t\t\t\t<div data-icon="C" class="icon"></div>\t\t\t\t\n\t\t\t\t\t<span>Editar Imagem</span>\n\t\t\t\t</button>\n\t\t\t</div>\t\t\t\n\t\t</div>\n\t</div>\n<!-- </div> -->\n\n';});


player.define('text!slides/templateAtividade/template.html',[],function () { return '<div style="{{style}}" id="{{_id}}" class="{{class}}">\t\n\t<div class="slideBackground {{^background.src}}noContent{{/background.src}}">\n\t\t<img src="{{#background.src}} {{background.src}} {{/background.src}}" height="100%" width="100%"/>\n\t\t<span class="glyphicon glyphicon-picture"></span>\n\t</div>\n</div>\n';});


player.define("json!slides/templateAtividade/config.json", function(){ return {
   "defaults": {
      "background": {
         "src": ""
      }
   },

   "resources": {
      "allowed": [
         "texto",
         "caixaDestaque",
         "imagem",
         "video",
         "multimedia",
         "audio",
         "atividade",
         "botaoPP"
      ],

      "insert": [
         {  
               "template":"texto",
               "order":0,
               "styleObj":{  
                  "left":"51.9375px",
                  "top":"36px",
                  "width":"283.0625px",
                  "position":"absolute"
               },
               "content":"Template Tela Atividade",
               "normal":{  
                  "active":false,
                  "subType":"semFundo"
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "active":true,
                  "subType":"secundario"
               }
               
            },
            {  
              
               "template":"texto",
               "order":1,
               "styleObj":{  
                  "left":"50.65625px",
                  "top":"121px",
                  "width":"283.65625px",
                  "position":"absolute"
               },
               "content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin consequat arcu nec risus rutrum, ac consequat risus lacinia. \n\nDonec eu diam vulputate nibh blandit pulvinar sed sed dui.\n\nMorbi vehicula metus feugiat gravida venenatis.&nbsp;<div><br></div><div>Cras pulvinar dapibus lectus.</div>",
               "normal":{  
                  "active":true,
                  "subType":"semFundo"
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "active":false,
                  "subType":"primario"
               }
            },
            {  
              
               "template":"atividade",
               "order":2,
               "styleObj":{  
                  "width":"511px",
                  "left":"432.03125px",
                  "top":"121px",
                  "position":"absolute"
               },
               "title":"Digite aqui sua pergunta.",
               "parametros":{  
                  "tentativas":"1",
                  "gabarito":[  
                     "0",
                     "2",
                     "4"
                  ]
               },
               "alternativas":[  
                  {  
                     "checked":false,
                     "alt":"Edite as alternativas dando dois cliques.",
                     "numberAlt":0
                  },
                  {  
                     "checked":false,
                     "alt":"Edite as alternativas dando dois cliques.",
                     "numberAlt":1
                  },
                  {  
                     "checked":false,
                     "alt":"Edite as alternativas dando dois cliques.",
                     "numberAlt":2
                  },
                  {  
                     "numberAlt":3,
                     "alt":"Edite as alternativas dando dois cliques.",
                     "checked":false
                  },
                  {  
                     "checked":false,
                     "alt":"Edite as alternativas dando dois cliques.",
                     "numberAlt":4
                  }
               ],
               "feedbackCerto":{  
                  "type":"respostaCerta",
                  "title":"Resposta Certa",
                  "styleObj":null
               },
               "feedbackErrado":{  
                  "type":"respostaErrada",
                  "title":"Resposta Errada",
                  "styleObj":null
               },
               "feedback":{  
                  "modal":true,
                  "circundado":true
               },
               "tipo":{  
                  "subType":"checkbox",
                  "active":true
               },
               "nota":{  
                  "active":true,
                  "subType":"comNota"
               },
               
               "lock":false
            },
            {  
              
               "template":"caixaDestaque",
               "order":3,
               "styleObj":{  
                  "left":"51.65625px",
                  "top":"360px",
                  "width":"283px",
                  "position":"absolute"
               },
               "type":"objetivo",
               "title":"Objetivo",
               "content":"Lorem ipsum Ut exercitation deserunt velit fugiat elit quis nostrud id irure ullamco Excepteur sint sit est consequat exercitation sit."
            }
      ]
   }
};});

player.define('slides/templateAtividade/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization slidesimples -------', this);

			this.addElements({
				'imgPicker': '#slideImgPicker',
				'imgEdit': '#slideImgEditar'
			});

			this.events = _.extend(this.events, {
				'click _imgPicker': 'pickImage',
				'click _imgEdit': 'editImage'
			});

			_.bindAll(this, 'handlerPickedImage', 'handlerEditedImage');

		},

		showing: function() {
			console.log('showing slidesimples', this);
			var me = this,
				model = me.recView.model;

			this.recView.addElements.call(this.recView, {
				'img': 'img'
			});

			this.recView.delegateEvents();
			console.log('showing slidesimples', this);
		},

		hiding: function() {
			var me = this,
				$content = me.recView.elems.$content;

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado
			// $content.off('dblclick');
		},

		pickImage: function() {
			console.log('pickImage ------- ');

			var fileManager = window.Editor.Views.Modals.fileManager;

			fileManager.show({
				type: 1,
				callback: this.handlerPickedImage
			});
		},

		handlerPickedImage: function(data) {
			console.log('[rec]image [method]handlerPickedImage [var]this.recView: ', this.recView);
			var me = this,
				recView = this.recView,
				model = recView.model,
				$img = recView.elems.$img,
				url = data.path;

			// data.path = "http://images.aviary.com/imagesv5/feather_default.jpg";

			model.set({
				"baseImg": url,
				"background.src": ""
			}, {
				silent: true
			});

			console.log('[rec]image [method]handlerPickedImage [var]$img', $img);
			Editor.Views.Modals.aviary.show({
				$el: $img,
				src: data.path,
				callback: me.handlerEditedImage,
				allowCropByImage: false
			});
			// Editor.Views.Modals.aviary.show($img, data.path, me.handlerEditedImage, 'false');
		},

		editImage: function() {
			console.log('[rec]image [method]editImage: ');
			var me = this,
				model = this.recView.model,
				baseImg = model.get('baseImg'),
				$img = me.recView.elems.$img;

			console.log('[rec]image [method]editImage [var]$img, baseImg', $img, baseImg);
			Editor.Views.Modals.aviary.show({
				$el: $img,
				src: baseImg,
				callback: me.handlerEditedImage,
				allowCropByImage: false
			});
		},

		handlerEditedImage: function(data) {
			console.log('[rec]image [method]handlerEditedImage: ', data, this);
			var me = this,
				recView = this.recView,
				model = this.recView.model;

			model.set({
				'background.src': data.url
			});

			/* funo que copia para s3 os arquivos do curso e percisa do modelo do recurso, 
			path para arquivo a ser copiado e atributo que vai ser alterado na finalizao */
			me.copyToS3({
				entity: "slides",
				type: "image",
				model: model,
				src: data.url,
				attr: "background.src",
				options: data.resize ? data.resize : null
			});
		},

		// editContent: function() {
		// 	console.log('editContent');
		// 	var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
		// 		//Pametros necessrios para que o metodo de textEdition funcione
		// 		params = {
		// 			$el: me.recView.elems.$content, //Elemento wrapped pelo jquery					 
		// 			attr: 'title', //atributo do modelo
		// 			maxChars: 15, //maximo de caracteres
		// 			enterLeave: true, // Entre sai do modo edio
		// 			blur: true, // blur sai do modo edio
		// 			textEditor: {
		// 				position: "bottom", //posio do editor de texto
		// 				options: [ //opes do editor de texto
		// 					'bold',
		// 					'italic',
		// 					'underline',
		// 					'removeFormat',
		// 					'spellchecker'
		// 				]
		// 			}
		// 		};

		// 	//Metodo que  exposto para edio de textos
		// 	me.textEdition(params);
		// }
	};

	return View;
});

player.define('text!slides/templateAtividade/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recImgEditBox" class="editionBlock" data-position="left top+10|left bottom">\n\t\t<div class="mbOptionsResources mbOptionsBgImage">\n\t\t\t<div class="btn-group">\n\t\t\t\t<button id="slideImgPicker" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="r" class="icon"></div>\t\t\t\t\n\t\t\t\t\t<span>Escolher Imagem</span>\n\t\t\t\t</button>\n\n\t\t\t\t<button id="slideImgEditar" type="button" class="btn btn-default">\t\n\t\t\t\t\t<div data-icon="C" class="icon"></div>\t\t\t\t\n\t\t\t\t\t<span>Editar Imagem</span>\n\t\t\t\t</button>\n\t\t\t</div>\t\t\t\n\t\t</div>\n\t</div>\n<!-- </div> -->\n\n';});


player.define('text!slides/templateTexto/template.html',[],function () { return '<div style="{{style}}" id="{{_id}}" class="{{class}}">\t\n\t<div class="slideBackground {{^background.src}}noContent{{/background.src}}">\n\t\t<img src="{{#background.src}} {{background.src}} {{/background.src}}" height="100%" width="100%"/>\n\t\t<span class="glyphicon glyphicon-picture"></span>\n\t</div>\n</div>\n';});


player.define("json!slides/templateTexto/config.json", function(){ return {
   "defaults": {
      "background": {
         "src": ""
      }
   },

   "resources": {
      "allowed": [
         "texto",
         "caixaDestaque",
         "imagem",
         "video",
         "multimedia",
         "audio",
         "atividade",
         "botaoPP"
      ],

      "insert": [
         {  
               
               "template":"texto",
               "order":0,
               "styleObj":{  
                  "left":"51.9375px",
                  "top":"36px",
                  "width":"247px",
                  "position":"absolute"
               },
               "content":"Template Tela Texto",
               "normal":{  
                  "active":false,
                  "subType":"semFundo"
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "active":true,
                  "subType":"secundario"
               }
            },
            {  
               
               "template":"texto",
               "order":1,
               "styleObj":{  
                  "left":"50.65625px",
                  "top":"132px",
                  "width":"284px",
                  "position":"absolute"
               },
               "content":"Donec lacus erat, placerat sit amet turpis sit amet, rutrum tempor magna.&nbsp;<div><br></div><div>Suspendisse lobortis quam tempus, tincidunt lectus id, facilisis enim.</div><div><br></div><div>Aenean tempor quis leo nec consectetur. Fusce posuere lorem sit amet nibh tristique, a lacinia mi ultricies. Maecenas vel mauris nunc. Praesent eget sapien nec arcu suscipit aliquet suscipit a dolor.&nbsp;</div>",
               "normal":{  
                  "subType":"semFundo",
                  "active":true
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "active":false,
                  "subType":"primario"
               }
            },
            {  
               
               "template":"texto",
               "order":2,
               "styleObj":{  
                  "position":"absolute",
                  "width":"580.046875px",
                  "top":"132px",
                  "left":"348.046875px"
               },
               "content":"<ul><li><span style=\"background-color: initial;\">Donec lacus erat, placerat sit amet turpis sit amet, rutrum tempor magna.&nbsp;<br><br></span></li><li>Suspendisse lobortis quam tempus, tincidunt lectus id, facilisis enim. Aenean tempor quis leo nec consectetur.&nbsp;<br><br></li><li>Fusce posuere lorem sit amet nibh tristique, a lacinia mi ultricies.<br><br></li><li> Maecenas vel mauris nunc.&nbsp;<br><br></li><li>Praesent eget sapien nec arcu suscipit aliquet suscipit a dolor.&nbsp;<br><br></li><li>Donec facilisis orci vel molestie finibus. Suspendisse non leo varius libero pulvinar finibus.<br></li></ul>",
               "normal":{  
                  "active":true,
                  "subType":"semFundo"
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "active":false,
                  "subType":"primario"
               }
            },
            {  
              
               "template":"texto",
               "order":3,
               "styleObj":{  
                  "left":"349.03125px",
                  "top":"36px",
                  "width":"594.359375px",
                  "position":"absolute"
               },
               "content":"<b>Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.</b>",
               "normal":{  
                  "active":true,
                  "subType":"semFundo"
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "active":false,
                  "subType":"primario"
               }
            }
      ]
   }
};});

player.define('slides/templateTexto/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization slidesimples -------', this);

			this.addElements({
				'imgPicker': '#slideImgPicker',
				'imgEdit': '#slideImgEditar'
			});

			this.events = _.extend(this.events, {
				'click _imgPicker': 'pickImage',
				'click _imgEdit': 'editImage'
			});

			_.bindAll(this, 'handlerPickedImage', 'handlerEditedImage');

		},

		showing: function() {
			console.log('showing slidesimples', this);
			var me = this,
				model = me.recView.model;

			this.recView.addElements.call(this.recView, {
				'img': 'img'
			});

			this.recView.delegateEvents();
			console.log('showing slidesimples', this);
		},

		hiding: function() {
			var me = this,
				$content = me.recView.elems.$content;

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado
			// $content.off('dblclick');
		},

		pickImage: function() {
			console.log('pickImage ------- ');

			var fileManager = window.Editor.Views.Modals.fileManager;

			fileManager.show({
				type: 1,
				callback: this.handlerPickedImage
			});
		},

		handlerPickedImage: function(data) {
			console.log('[rec]image [method]handlerPickedImage [var]this.recView: ', this.recView);
			var me = this,
				recView = this.recView,
				model = recView.model,
				$img = recView.elems.$img,
				url = data.path;

			// data.path = "http://images.aviary.com/imagesv5/feather_default.jpg";

			model.set({
				"baseImg": url,
				"background.src": ""
			}, {
				silent: true
			});

			console.log('[rec]image [method]handlerPickedImage [var]$img', $img);
			Editor.Views.Modals.aviary.show({
				$el: $img,
				src: data.path,
				callback: me.handlerEditedImage,
				allowCropByImage: false
			});
			// Editor.Views.Modals.aviary.show($img, data.path, me.handlerEditedImage, 'false');
		},

		editImage: function() {
			console.log('[rec]image [method]editImage: ');
			var me = this,
				model = this.recView.model,
				baseImg = model.get('baseImg'),
				$img = me.recView.elems.$img;

			console.log('[rec]image [method]editImage [var]$img, baseImg', $img, baseImg);
			Editor.Views.Modals.aviary.show({
				$el: $img,
				src: baseImg,
				callback: me.handlerEditedImage,
				allowCropByImage: false
			});
		},

		handlerEditedImage: function(data) {
			console.log('[rec]image [method]handlerEditedImage: ', data, this);
			var me = this,
				recView = this.recView,
				model = this.recView.model;

			model.set({
				'background.src': data.url
			});

			/* funo que copia para s3 os arquivos do curso e percisa do modelo do recurso, 
			path para arquivo a ser copiado e atributo que vai ser alterado na finalizao */
			me.copyToS3({
				entity: "slides",
				type: "image",
				model: model,
				src: data.url,
				attr: "background.src",
				options: data.resize ? data.resize : null
			});
		},

		// editContent: function() {
		// 	console.log('editContent');
		// 	var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
		// 		//Pametros necessrios para que o metodo de textEdition funcione
		// 		params = {
		// 			$el: me.recView.elems.$content, //Elemento wrapped pelo jquery					 
		// 			attr: 'title', //atributo do modelo
		// 			maxChars: 15, //maximo de caracteres
		// 			enterLeave: true, // Entre sai do modo edio
		// 			blur: true, // blur sai do modo edio
		// 			textEditor: {
		// 				position: "bottom", //posio do editor de texto
		// 				options: [ //opes do editor de texto
		// 					'bold',
		// 					'italic',
		// 					'underline',
		// 					'removeFormat',
		// 					'spellchecker'
		// 				]
		// 			}
		// 		};

		// 	//Metodo que  exposto para edio de textos
		// 	me.textEdition(params);
		// }
	};

	return View;
});

player.define('text!slides/templateTexto/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recImgEditBox" class="editionBlock" data-position="left top+10|left bottom">\n\t\t<div class="mbOptionsResources mbOptionsBgImage">\n\t\t\t<div class="btn-group">\n\t\t\t\t<button id="slideImgPicker" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="r" class="icon"></div>\t\t\t\t\n\t\t\t\t\t<span>Escolher Imagem</span>\n\t\t\t\t</button>\n\n\t\t\t\t<button id="slideImgEditar" type="button" class="btn btn-default">\t\n\t\t\t\t\t<div data-icon="C" class="icon"></div>\t\t\t\t\n\t\t\t\t\t<span>Editar Imagem</span>\n\t\t\t\t</button>\n\t\t\t</div>\t\t\t\n\t\t</div>\n\t</div>\n<!-- </div> -->\n\n';});


player.define('text!slides/templateAudio/template.html',[],function () { return '<div style="{{style}}" id="{{_id}}" class="{{class}}">\t\n\t<div class="slideBackground {{^background.src}}noContent{{/background.src}}">\n\t\t<img src="{{#background.src}} {{background.src}} {{/background.src}}" height="100%" width="100%"/>\n\t\t<span class="glyphicon glyphicon-picture"></span>\n\t</div>\n</div>\n';});


player.define("json!slides/templateAudio/config.json", function(){ return {
   "defaults": {
      "background": {
         "src": ""
      }
   },

   "resources": {
      "allowed": [
         "texto",
         "caixaDestaque",
         "imagem",
         "video",
         "multimedia",
         "audio",
         "atividade",
         "botaoPP"
      ],

      "insert": [
         {  
               "template":"texto",
               "order":0,
               "styleObj":{  
                  "left":"51.9375px",
                  "top":"36px",
                  "width":"249px",
                  "position":"absolute"
               },
               "content":"Template Tela udio",
               "normal":{  
                  "active":false,
                  "subType":"semFundo"
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "active":true,
                  "subType":"secundario"
               }
            },
            {  
               
               "template":"texto",
               "order":1,
               "styleObj":{  
                  "left":"51.9375px",
                  "top":"87px",
                  "width":"580.34375px",
                  "position":"absolute"
               },
               "content":"Texto com <b>enunciado</b> do assunto a ser abordado neste slide.<div><br></div><div>Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.<br></div><div><br></div><div>Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.<br></div>",
               "normal":{  
                  "active":true,
                  "subType":"semFundo"
               },
               "balao":{  
                  "active":false,
                  "subType":"left"
               },
               "titulo":{  
                  "active":false,
                  "subType":"primario"
               }
            },
            {  
               
               "template":"imagem",
               "order":2,
               "styleObj":{  
                  "width":"404px",
                  "height":"211px",
                  "left":"51.9375px",
                  "top":"251px",
                  "position":"absolute"
               },
               "baseImg":"",
               "src":"",
               "imgHeight":186,
               "legend":{  
                  "active":true,
                  "content":"Teste : Teste images"
               },
               "border":true
            },
            {  
               
               "template":"audio",
               "order":3,
               "styleObj":{  
                  "position":"absolute",
                  "width":"404px",
                  "height":"33px",
                  "top":"472px",
                  "left":"52px"
               },
               "src":"",
               "type":""
            },
            {  
               
               "template":"caixaDestaque",
               "order":4,
               "styleObj":{  
                  "position":"absolute",
                  "width":"283.046875px",
                  "top":"271px",
                  "left":"645px"
               },
               "type":"atencao",
               "title":"Ateno",
               "content":"Lorem ipsum Ut exercitation deserunt velit fugiat elit quis nostrud id irure ullamco Excepteur sint sit est consequat exercitation sit.<div><br><div>Lorem ipsum Ut exercitation deserunt velit fugiat.<br></div></div>"
            }
      ]
   }
};});

player.define('slides/templateAudio/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization slidesimples -------', this);

			this.addElements({
				'imgPicker': '#slideImgPicker',
				'imgEdit': '#slideImgEditar'
			});

			this.events = _.extend(this.events, {
				'click _imgPicker': 'pickImage',
				'click _imgEdit': 'editImage'
			});

			_.bindAll(this, 'handlerPickedImage', 'handlerEditedImage');

		},

		showing: function() {
			console.log('showing slidesimples', this);
			var me = this,
				model = me.recView.model;

			this.recView.addElements.call(this.recView, {
				'img': 'img'
			});

			this.recView.delegateEvents();
			console.log('showing slidesimples', this);
		},

		hiding: function() {
			var me = this,
				$content = me.recView.elems.$content;

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado
			// $content.off('dblclick');
		},

		pickImage: function() {
			console.log('pickImage ------- ');

			var fileManager = window.Editor.Views.Modals.fileManager;

			fileManager.show({
				type: 1,
				callback: this.handlerPickedImage
			});
		},

		handlerPickedImage: function(data) {
			console.log('[rec]image [method]handlerPickedImage [var]this.recView: ', this.recView);
			var me = this,
				recView = this.recView,
				model = recView.model,
				$img = recView.elems.$img,
				url = data.path;

			// data.path = "http://images.aviary.com/imagesv5/feather_default.jpg";

			model.set({
				"baseImg": url,
				"background.src": ""
			}, {
				silent: true
			});

			console.log('[rec]image [method]handlerPickedImage [var]$img', $img);
			Editor.Views.Modals.aviary.show({
				$el: $img,
				src: data.path,
				callback: me.handlerEditedImage,
				allowCropByImage: false
			});
			// Editor.Views.Modals.aviary.show($img, data.path, me.handlerEditedImage, 'false');
		},

		editImage: function() {
			console.log('[rec]image [method]editImage: ');
			var me = this,
				model = this.recView.model,
				baseImg = model.get('baseImg'),
				$img = me.recView.elems.$img;

			console.log('[rec]image [method]editImage [var]$img, baseImg', $img, baseImg);
			Editor.Views.Modals.aviary.show({
				$el: $img,
				src: baseImg,
				callback: me.handlerEditedImage,
				allowCropByImage: false
			});
		},

		handlerEditedImage: function(data) {
			console.log('[rec]image [method]handlerEditedImage: ', data, this);
			var me = this,
				recView = this.recView,
				model = this.recView.model;

			model.set({
				'background.src': data.url
			});

			/* funo que copia para s3 os arquivos do curso e percisa do modelo do recurso, 
			path para arquivo a ser copiado e atributo que vai ser alterado na finalizao */
			me.copyToS3({
				entity: "slides",
				type: "image",
				model: model,
				src: data.url,
				attr: "background.src",
				options: data.resize ? data.resize : null
			});
		},

		// editContent: function() {
		// 	console.log('editContent');
		// 	var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
		// 		//Pametros necessrios para que o metodo de textEdition funcione
		// 		params = {
		// 			$el: me.recView.elems.$content, //Elemento wrapped pelo jquery					 
		// 			attr: 'title', //atributo do modelo
		// 			maxChars: 15, //maximo de caracteres
		// 			enterLeave: true, // Entre sai do modo edio
		// 			blur: true, // blur sai do modo edio
		// 			textEditor: {
		// 				position: "bottom", //posio do editor de texto
		// 				options: [ //opes do editor de texto
		// 					'bold',
		// 					'italic',
		// 					'underline',
		// 					'removeFormat',
		// 					'spellchecker'
		// 				]
		// 			}
		// 		};

		// 	//Metodo que  exposto para edio de textos
		// 	me.textEdition(params);
		// }
	};

	return View;
});

player.define('text!slides/templateAudio/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recImgEditBox" class="editionBlock" data-position="left top+10|left bottom">\n\t\t<div class="mbOptionsResources mbOptionsBgImage">\n\t\t\t<div class="btn-group">\n\t\t\t\t<button id="slideImgPicker" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="r" class="icon"></div>\t\t\t\t\n\t\t\t\t\t<span>Escolher Imagem</span>\n\t\t\t\t</button>\n\n\t\t\t\t<button id="slideImgEditar" type="button" class="btn btn-default">\t\n\t\t\t\t\t<div data-icon="C" class="icon"></div>\t\t\t\t\n\t\t\t\t\t<span>Editar Imagem</span>\n\t\t\t\t</button>\n\t\t\t</div>\t\t\t\n\t\t</div>\n\t</div>\n<!-- </div> -->\n\n';});


player.define("json!../../../../_baseClient/_base/js/desktop/slides/slideTextoImagemDir/config.json", function(){ return {
	"defaults": {

	},

	"resources": {
		"allowed": [

		],

		"insert": [{
			"template": "texto",
			"content": "<div style=\"text-align: justify;\">Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.</div>",
			"styleObj": {
				"position": "relative",
				"width": "80%",
				"top": "50px",
				"left": "10%"
			},
			"normal": {
				"active": true,
				"subType": "semFundo"
			},
			"balao": {
				"subType": "left",
				"active": false
			},
			"titulo": {
				"active": false,
				"subType": "primario"
			},
			"order": 0,

			"editor": {
				"restrictions": {
					"stateHandlers": {
						"boundingBox": false,
						"edition": {
							"_all": false
						}
					},
					"deletable": false,
					"copyable": false,
					"top": false,
					"left": false,
					"right": false,
					"bottom": false,
					"width": false,
					"height": false
				}
			}

		}, {
			"template": "imagem",
			"baseImg": "",
			"src": "",
			"imgHeight": 185,
			"legend": {
				"content": "Legenda",
				"active": false
			},
			"border": false,
			"styleObj": {
				"width": "100px",
				"height": "200px",
				"position": "relative",
				"margin": "0px 20% 10px 20px",
				"top": "50px",
				"right": "-10%",
				"left": "initial",
				"float": "right"
			},
			"order": 1,

			"editor": {
				"restrictions": {
					"deletable": false,
					"copyable": false,
					"top": false,
					"left": false,
					"right": false,
					"bottom": false
				}
			}
		}]
	}
};});


player.define("json!../../../../_baseClient/_base/js/desktop/slides/slideTextoImagemEsq/config.json", function(){ return {
	"defaults": {

	},

	"resources": {
		"allowed": [

		],

		"insert": [{
			"template": "texto",
			"content": "<div style=\"text-align: justify;\">Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.</div>",
			"styleObj": {
				"position": "relative",
				"width": "80%",
				"top": "50px",
				"left": "10%"
			},
			"normal": {
				"active": true,
				"subType": "semFundo"
			},
			"balao": {
				"subType": "left",
				"active": false
			},
			"titulo": {
				"active": false,
				"subType": "primario"
			},
			"order": 0,

			"editor": {
				"restrictions": {
					"stateHandlers": {
						"boundingBox": false,
						"edition": {
							"_all": false
						}
					},
					"deletable": false,
					"copyable": false,
					"top": false,
					"left": false,
					"right": false,
					"bottom": false,
					"width": false,
					"height": false
				}
			}

		}, {
			"template": "imagem",
			"baseImg": "",
			"src": "",
			"imgHeight": 185,
			"legend": {
				"content": "Legenda",
				"active": false
			},
			"border": false,
			"styleObj": {
				"width": "100px",
				"height": "200px",
				"position": "relative",
				"margin": "0px 20px 10px 0px",
				"top": "50px",
				"left": "10%",
				"float": "left"
			},
			"order": 1,

			"editor": {
				"restrictions": {
					"deletable": false,
					"copyable": false,
					"top": false,
					"left": false,
					"right": false,
					"bottom": false
				}
			}
		}]
	}
};});



player.define('text!../../../../_baseClient/_base/js/desktop/resources/audio/template.html',[],function () { return '<div id="{{_id}}" class="{{class}}" style="{{style}}">\n\t<audio class="video-js vjs-default-skin" width="100%" height="100%" controls></audio>\n\t<span class="glyphicon glyphicon-music"></span>\n\t<span class="audioName">{{audioName}}</span>\n</div>';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/audio/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recAudioPicker" class="editionBlock" data-position="left top+20|left bottom">\n\t\t<div class="mbChangeContent">\n\t\t\t<button id="editionChangeAudio" type="button" class="btn btn-default">\n\t\t\t\t<div data-icon="r" class="icon"></div>\n\t\t\t\t<span>Alterar arquivo de audio</span>\n\t\t\t</button>\n\n\t\t\t<button id="editionAutoPlay" type="button" class="btn btn-default">\n\t\t\t\t<div data-icon="K" class="icon"></div>\n\t\t\t\t<span>Auto reproduo</span>\n\t\t\t</button>\n\n\t\t\t<button id="editionLockPlayer" type="button" class="btn btn-default">\n\t\t\t\t<div data-icon="~" class="icon"></div>\n\t\t\t\t<span>Bloquear player</span>\n\t\t\t</button>\t\n\t\t</div>\n\t</div>\t\n<!-- </div> -->\n\n';});


player.define("json!../../../../_baseClient/_base/js/desktop/resources/audio/config.json", function(){ return {
	"defaults": {
		"template": "audio",
		"src": "",
		"type": "",
		"audioName": "",
		"styleObj": {
			"position": "absolute",
			"width": "313px",
			"height": "33px",
			"top": "36px",
			"left": "37px"
		}
	},

	"validators": [
		"_template === audio"
	],

	"editor": {
		"restrictions": {
			"width": true,
			"height": false,
			"top": true,
			"left": true
		}
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/resources/audio/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization imagem -------', this);
			var me = this;

			this.addElements({
				'audioPicker': '#editionChangeAudio',
				'lockPlayerBtn': '#editionLockPlayer',
				'autoPlayBtn': '#editionAutoPlay'
			});

			this.events = _.extend(this.events, {
				'click _audioPicker': 'fileManeger',
				'click _lockPlayerBtn': 'toggleLockPlayer',
				'click _autoPlayBtn': 'toggleAutoPlay'
			});

			_.bindAll(this, 'handlerPickedAudio');

			/*
			Processo de renderizao ir ocorrer aps o encerramento das aes de inicializao
 			*/
		},

		toggleLockPlayer: function() {
			var me = this,
				model = me.recView.model,
				locked = model.get('lock');

			me.lockPlayer(!locked);
		},

		toggleAutoPlay: function() {
			var me = this,
				model = me.recView.model,
				autoplay = model.get('autoplay');

			me.autoPlay(!autoplay);
		},

		autoPlay: function(autoplay) {
			var me = this,
				model = me.recView.model,
				$autoPlayBtn = me.elems.$autoPlayBtn;

			if (autoplay !== true && autoplay !== false) {
				autoplay = !model.get('autoplay');
			}

			model.set({
				autoplay: autoplay
			});

			$autoPlayBtn.toggleClass('selected', autoplay);

			return autoplay;
		},

		lockPlayer: function(lock) {
			var me = this,
				model = me.recView.model,
				$btnlockPlayer = me.elems.$lockPlayerBtn;

			if (lock !== true && lock !== false) {
				lock = !model.get('lock');
			}

			model.set({
				lock: lock
			});

			$btnlockPlayer.toggleClass('selected', lock);

			return lock;
		},

		fileManeger: function() {
			var fileManager = window.Editor.Views.Modals.fileManager;

			fileManager.show({
				type: 2,
				callback: this.handlerPickedAudio
			});
		},

		handlerPickedAudio: function(data) {
			console.log('[rec]audio [method]handlerPickedAudio: ', data);
			var me = this,
				recView = this.recView,
				url = data.path,
				model = this.recView.model,
				audio_name =  url.match(/.*\/(.*)$/)[1];

			/* funo que copia para s3 os arquivos do curso e percisa do modelo do recurso, 
			path para arquivo a ser copiado e atributo que vai ser alterado na finalizao */
			me.copyToS3({
				entity: "resources",
				type: "audio",
				model: model,
				src: url,
				attr: "src",
				callback: function(data) {
					var audio_type = me.detectAudioType(data.src);

					if (!audio_type) return;

					model.set({
						src: data.dest,
						type: audio_type,
						audioName: audio_name
					});
					
					recView.renderAudiojs();
				}
			});
		},

		showing: function() {
			console.log('showing texto', this);
			var me = this,
				model = me.recView.model;

			this.recView.delegateEvents();
			this.lockPlayer(!!model.get('lock'));
			this.autoPlay(!!model.get('autoplay'));
		},

		detectAudioType: function(url) {
			var me = this,
				extension = url.toLowerCase().split('.').pop(),
				format = null,
				formats = {
					'aac': "audio/aac",
					'mp3': "audio/mp3",
					'mp4': "audio/mp4",
					'm4a': "audio/mp4",
					'ogg': "audio/ogg",
					'oga': "audio/ogg",
					'wav': "audio/wav",
					'mid': "audio/midi",
					'midi': "audio/midi",
					'webm': "audio/webm"
				};

			$.each(formats, function(k, _format) {
				if (k !== extension) return;
				format = _format;
				return false;
			});

			return format;
		},

	};

	return View;
});
/*! Video.js v4.9.0 Copyright 2014 Brightcove, Inc. https://github.com/videojs/video.js/blob/master/LICENSE */ 
(function() {var b=void 0,f=!0,j=null,l=!1;function m(){return function(){}}function p(a){return function(){return this[a]}}function q(a){return function(){return a}}var s;document.createElement("video");document.createElement("audio");document.createElement("track");function t(a,c,d){if("string"===typeof a){0===a.indexOf("#")&&(a=a.slice(1));if(t.Ba[a])return t.Ba[a];a=t.v(a)}if(!a||!a.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return a.player||new t.Player(a,c,d)}
var videojs=window.videojs=t;t.Ub="4.9";t.Uc="https:"==document.location.protocol?"https://":"http://";
t.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2E3,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{},errorDisplay:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.we||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."};
"GENERATED_CDN_VSN"!==t.Ub&&(videojs.options.flash.swf=t.Uc+"vjs.zencdn.net/"+t.Ub+"/video-js.swf");t.fd=function(a,c){t.options.languages[a]=t.options.languages[a]!==b?t.ga.Va(t.options.languages[a],c):c;return t.options.languages};t.Ba={};'function' === typeof player.define && player.define.amd?player.define('videojs',[],function(){return videojs}):"object"===typeof exports&&"object"===typeof module&&(module.exports=videojs);t.qa=t.CoreObject=m();
t.qa.extend=function(a){var c,d;a=a||{};c=a.init||a.i||this.prototype.init||this.prototype.i||m();d=function(){c.apply(this,arguments)};d.prototype=t.g.create(this.prototype);d.prototype.constructor=d;d.extend=t.qa.extend;d.create=t.qa.create;for(var e in a)a.hasOwnProperty(e)&&(d.prototype[e]=a[e]);return d};t.qa.create=function(){var a=t.g.create(this.prototype);this.apply(a,arguments);return a};
t.d=function(a,c,d){if(t.g.isArray(c))return u(t.d,a,c,d);var e=t.getData(a);e.C||(e.C={});e.C[c]||(e.C[c]=[]);d.w||(d.w=t.w++);e.C[c].push(d);e.X||(e.disabled=l,e.X=function(c){if(!e.disabled){c=t.qc(c);var d=e.C[c.type];if(d)for(var d=d.slice(0),k=0,n=d.length;k<n&&!c.yc();k++)d[k].call(a,c)}});1==e.C[c].length&&(a.addEventListener?a.addEventListener(c,e.X,l):a.attachEvent&&a.attachEvent("on"+c,e.X))};
t.o=function(a,c,d){if(t.tc(a)){var e=t.getData(a);if(e.C){if(t.g.isArray(c))return u(t.o,a,c,d);if(c){var g=e.C[c];if(g){if(d){if(d.w)for(e=0;e<g.length;e++)g[e].w===d.w&&g.splice(e--,1)}else e.C[c]=[];t.jc(a,c)}}else for(g in e.C)c=g,e.C[c]=[],t.jc(a,c)}}};t.jc=function(a,c){var d=t.getData(a);0===d.C[c].length&&(delete d.C[c],a.removeEventListener?a.removeEventListener(c,d.X,l):a.detachEvent&&a.detachEvent("on"+c,d.X));t.Hb(d.C)&&(delete d.C,delete d.X,delete d.disabled);t.Hb(d)&&t.Hc(a)};
t.qc=function(a){function c(){return f}function d(){return l}if(!a||!a.Ib){var e=a||window.event;a={};for(var g in e)"layerX"!==g&&("layerY"!==g&&"keyboardEvent.keyLocation"!==g)&&("returnValue"==g&&e.preventDefault||(a[g]=e[g]));a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){e.preventDefault&&e.preventDefault();a.returnValue=l;a.zd=c;a.defaultPrevented=f};a.zd=d;a.defaultPrevented=l;a.stopPropagation=function(){e.stopPropagation&&
e.stopPropagation();a.cancelBubble=f;a.Ib=c};a.Ib=d;a.stopImmediatePropagation=function(){e.stopImmediatePropagation&&e.stopImmediatePropagation();a.yc=c;a.stopPropagation()};a.yc=d;if(a.clientX!=j){g=document.documentElement;var h=document.body;a.pageX=a.clientX+(g&&g.scrollLeft||h&&h.scrollLeft||0)-(g&&g.clientLeft||h&&h.clientLeft||0);a.pageY=a.clientY+(g&&g.scrollTop||h&&h.scrollTop||0)-(g&&g.clientTop||h&&h.clientTop||0)}a.which=a.charCode||a.keyCode;a.button!=j&&(a.button=a.button&1?0:a.button&
4?1:a.button&2?2:0)}return a};t.k=function(a,c){var d=t.tc(a)?t.getData(a):{},e=a.parentNode||a.ownerDocument;"string"===typeof c&&(c={type:c,target:a});c=t.qc(c);d.X&&d.X.call(a,c);if(e&&!c.Ib()&&c.bubbles!==l)t.k(e,c);else if(!e&&!c.defaultPrevented&&(d=t.getData(c.target),c.target[c.type])){d.disabled=f;if("function"===typeof c.target[c.type])c.target[c.type]();d.disabled=l}return!c.defaultPrevented};
t.Q=function(a,c,d){function e(){t.o(a,c,e);d.apply(this,arguments)}if(t.g.isArray(c))return u(t.Q,a,c,d);e.w=d.w=d.w||t.w++;t.d(a,c,e)};function u(a,c,d,e){t.hc.forEach(d,function(d){a(c,d,e)})}var v=Object.prototype.hasOwnProperty;t.e=function(a,c){var d;c=c||{};d=document.createElement(a||"div");t.g.Y(c,function(a,c){-1!==a.indexOf("aria-")||"role"==a?d.setAttribute(a,c):d[a]=c});return d};t.ba=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};t.g={};
t.g.create=Object.create||function(a){function c(){}c.prototype=a;return new c};t.g.Y=function(a,c,d){for(var e in a)v.call(a,e)&&c.call(d||this,e,a[e])};t.g.z=function(a,c){if(!c)return a;for(var d in c)v.call(c,d)&&(a[d]=c[d]);return a};t.g.od=function(a,c){var d,e,g;a=t.g.copy(a);for(d in c)v.call(c,d)&&(e=a[d],g=c[d],a[d]=t.g.Ta(e)&&t.g.Ta(g)?t.g.od(e,g):c[d]);return a};t.g.copy=function(a){return t.g.z({},a)};
t.g.Ta=function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};t.g.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};t.Bd=function(a){return a!==a};t.bind=function(a,c,d){function e(){return c.apply(a,arguments)}c.w||(c.w=t.w++);e.w=d?d+"_"+c.w:c.w;return e};t.ua={};t.w=1;t.expando="vdata"+(new Date).getTime();t.getData=function(a){var c=a[t.expando];c||(c=a[t.expando]=t.w++,t.ua[c]={});return t.ua[c]};
t.tc=function(a){a=a[t.expando];return!(!a||t.Hb(t.ua[a]))};t.Hc=function(a){var c=a[t.expando];if(c){delete t.ua[c];try{delete a[t.expando]}catch(d){a.removeAttribute?a.removeAttribute(t.expando):a[t.expando]=j}}};t.Hb=function(a){for(var c in a)if(a[c]!==j)return l;return f};t.Sa=function(a,c){return-1!==(" "+a.className+" ").indexOf(" "+c+" ")};t.m=function(a,c){t.Sa(a,c)||(a.className=""===a.className?c:a.className+" "+c)};
t.p=function(a,c){var d,e;if(t.Sa(a,c)){d=a.className.split(" ");for(e=d.length-1;0<=e;e--)d[e]===c&&d.splice(e,1);a.className=d.join(" ")}};t.A=t.e("video");t.N=navigator.userAgent;t.$c=/iPhone/i.test(t.N);t.Zc=/iPad/i.test(t.N);t.ad=/iPod/i.test(t.N);t.Yc=t.$c||t.Zc||t.ad;var aa=t,x;var y=t.N.match(/OS (\d+)_/i);x=y&&y[1]?y[1]:b;aa.le=x;t.Wc=/Android/i.test(t.N);var ba=t,z;var A=t.N.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),B,C;
A?(B=A[1]&&parseFloat(A[1]),C=A[2]&&parseFloat(A[2]),z=B&&C?parseFloat(A[1]+"."+A[2]):B?B:j):z=j;ba.Tb=z;t.bd=t.Wc&&/webkit/i.test(t.N)&&2.3>t.Tb;t.Xc=/Firefox/i.test(t.N);t.me=/Chrome/i.test(t.N);t.dc=!!("ontouchstart"in window||window.Vc&&document instanceof window.Vc);t.Jc=function(a,c){t.g.Y(c,function(c,e){e===j||"undefined"===typeof e||e===l?a.removeAttribute(c):a.setAttribute(c,e===f?"":e)})};
t.za=function(a){var c,d,e,g;c={};if(a&&a.attributes&&0<a.attributes.length){d=a.attributes;for(var h=d.length-1;0<=h;h--){e=d[h].name;g=d[h].value;if("boolean"===typeof a[e]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+e+","))g=g!==j?f:l;c[e]=g}}return c};
t.se=function(a,c){var d="";document.defaultView&&document.defaultView.getComputedStyle?d=document.defaultView.getComputedStyle(a,"").getPropertyValue(c):a.currentStyle&&(d=a["client"+c.substr(0,1).toUpperCase()+c.substr(1)]+"px");return d};t.Gb=function(a,c){c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)};t.Oa={};t.v=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};
t.ya=function(a,c){c=c||a;var d=Math.floor(a%60),e=Math.floor(a/60%60),g=Math.floor(a/3600),h=Math.floor(c/60%60),k=Math.floor(c/3600);if(isNaN(a)||Infinity===a)g=e=d="-";g=0<g||0<k?g+":":"";return g+(((g||10<=h)&&10>e?"0"+e:e)+":")+(10>d?"0"+d:d)};t.hd=function(){document.body.focus();document.onselectstart=q(l)};t.he=function(){document.onselectstart=q(f)};t.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")};t.round=function(a,c){c||(c=0);return Math.round(a*Math.pow(10,c))/Math.pow(10,c)};
t.zb=function(a,c){return{length:1,start:function(){return a},end:function(){return c}}};
t.get=function(a,c,d,e){var g,h,k,n;d=d||m();"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(c){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(d){}throw Error("This browser does not support XMLHttpRequest.");});h=new XMLHttpRequest;k=t.Ud(a);n=window.location;k.protocol+k.host!==n.protocol+n.host&&window.XDomainRequest&&!("withCredentials"in
h)?(h=new window.XDomainRequest,h.onload=function(){c(h.responseText)},h.onerror=d,h.onprogress=m(),h.ontimeout=d):(g="file:"==k.protocol||"file:"==n.protocol,h.onreadystatechange=function(){4===h.readyState&&(200===h.status||g&&0===h.status?c(h.responseText):d(h.responseText))});try{h.open("GET",a,f),e&&(h.withCredentials=f)}catch(r){d(r);return}try{h.send()}catch(w){d(w)}};
t.Yd=function(a){try{var c=window.localStorage||l;c&&(c.volume=a)}catch(d){22==d.code||1014==d.code?t.log("LocalStorage Full (VideoJS)",d):18==d.code?t.log("LocalStorage not allowed (VideoJS)",d):t.log("LocalStorage Error (VideoJS)",d)}};t.sc=function(a){a.match(/^https?:\/\//)||(a=t.e("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href);return a};
t.Ud=function(a){var c,d,e,g;g="protocol hostname port pathname search hash host".split(" ");d=t.e("a",{href:a});if(e=""===d.host&&"file:"!==d.protocol)c=t.e("div"),c.innerHTML='<a href="'+a+'"></a>',d=c.firstChild,c.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(c);a={};for(var h=0;h<g.length;h++)a[g[h]]=d[g[h]];e&&document.body.removeChild(c);return a};
function D(a,c){var d,e;d=Array.prototype.slice.call(c);e=m();e=window.console||{log:e,warn:e,error:e};a?d.unshift(a.toUpperCase()+":"):a="log";t.log.history.push(d);d.unshift("VIDEOJS:");if(e[a].apply)e[a].apply(e,d);else e[a](d.join(" "))}t.log=function(){D(j,arguments)};t.log.history=[];t.log.error=function(){D("error",arguments)};t.log.warn=function(){D("warn",arguments)};
t.vd=function(a){var c,d;a.getBoundingClientRect&&a.parentNode&&(c=a.getBoundingClientRect());if(!c)return{left:0,top:0};a=document.documentElement;d=document.body;return{left:t.round(c.left+(window.pageXOffset||d.scrollLeft)-(a.clientLeft||d.clientLeft||0)),top:t.round(c.top+(window.pageYOffset||d.scrollTop)-(a.clientTop||d.clientTop||0))}};t.hc={};t.hc.forEach=function(a,c,d){if(t.g.isArray(a)&&c instanceof Function)for(var e=0,g=a.length;e<g;++e)c.call(d||t,a[e],e,a);return a};t.ga={};
t.ga.Va=function(a,c){var d,e,g;a=t.g.copy(a);for(d in c)c.hasOwnProperty(d)&&(e=a[d],g=c[d],a[d]=t.g.Ta(e)&&t.g.Ta(g)?t.ga.Va(e,g):c[d]);return a};
t.a=t.qa.extend({i:function(a,c,d){this.c=a;this.l=t.g.copy(this.l);c=this.options(c);this.U=c.id||(c.el&&c.el.id?c.el.id:a.id()+"_component_"+t.w++);this.Hd=c.name||j;this.b=c.el||this.e();this.O=[];this.Pa={};this.Qa={};this.vc();this.J(d);if(c.Ic!==l){var e,g;e=t.bind(this.j(),this.j().reportUserActivity);this.d("touchstart",function(){e();clearInterval(g);g=setInterval(e,250)});a=function(){e();clearInterval(g)};this.d("touchmove",e);this.d("touchend",a);this.d("touchcancel",a)}}});s=t.a.prototype;
s.dispose=function(){this.k({type:"dispose",bubbles:l});if(this.O)for(var a=this.O.length-1;0<=a;a--)this.O[a].dispose&&this.O[a].dispose();this.Qa=this.Pa=this.O=j;this.o();this.b.parentNode&&this.b.parentNode.removeChild(this.b);t.Hc(this.b);this.b=j};s.c=f;s.j=p("c");s.options=function(a){return a===b?this.l:this.l=t.ga.Va(this.l,a)};s.e=function(a,c){return t.e(a,c)};s.s=function(a){var c=this.c.language(),d=this.c.languages();return d&&d[c]&&d[c][a]?d[c][a]:a};s.v=p("b");
s.ja=function(){return this.u||this.b};s.id=p("U");s.name=p("Hd");s.children=p("O");s.xd=function(a){return this.Pa[a]};s.ka=function(a){return this.Qa[a]};s.S=function(a,c){var d,e;"string"===typeof a?(e=a,c=c||{},d=c.componentClass||t.ba(e),c.name=e,d=new window.videojs[d](this.c||this,c)):d=a;this.O.push(d);"function"===typeof d.id&&(this.Pa[d.id()]=d);(e=e||d.name&&d.name())&&(this.Qa[e]=d);"function"===typeof d.el&&d.el()&&this.ja().appendChild(d.el());return d};
s.removeChild=function(a){"string"===typeof a&&(a=this.ka(a));if(a&&this.O){for(var c=l,d=this.O.length-1;0<=d;d--)if(this.O[d]===a){c=f;this.O.splice(d,1);break}c&&(this.Pa[a.id]=j,this.Qa[a.name]=j,(c=a.v())&&c.parentNode===this.ja()&&this.ja().removeChild(a.v()))}};s.vc=function(){var a,c,d,e;a=this;if(c=this.options().children)if(t.g.isArray(c))for(var g=0;g<c.length;g++)d=c[g],"string"==typeof d?(e=d,d={}):e=d.name,a[e]=a.S(e,d);else t.g.Y(c,function(c,d){d!==l&&(a[c]=a.S(c,d))})};s.T=q("");
s.d=function(a,c){t.d(this.b,a,t.bind(this,c));return this};s.o=function(a,c){t.o(this.b,a,c);return this};s.Q=function(a,c){t.Q(this.b,a,t.bind(this,c));return this};s.k=function(a){t.k(this.b,a);return this};s.J=function(a){a&&(this.la?a.call(this):(this.ab===b&&(this.ab=[]),this.ab.push(a)));return this};s.Fa=function(){this.la=f;var a=this.ab;if(a&&0<a.length){for(var c=0,d=a.length;c<d;c++)a[c].call(this);this.ab=[];this.k("ready")}};s.Sa=function(a){return t.Sa(this.b,a)};
s.m=function(a){t.m(this.b,a);return this};s.p=function(a){t.p(this.b,a);return this};s.show=function(){this.b.style.display="block";return this};s.W=function(){this.b.style.display="none";return this};function E(a){a.p("vjs-lock-showing")}s.disable=function(){this.W();this.show=m()};s.width=function(a,c){return F(this,"width",a,c)};s.height=function(a,c){return F(this,"height",a,c)};s.rd=function(a,c){return this.width(a,f).height(c)};
function F(a,c,d,e){if(d!==b){if(d===j||t.Bd(d))d=0;a.b.style[c]=-1!==(""+d).indexOf("%")||-1!==(""+d).indexOf("px")?d:"auto"===d?"":d+"px";e||a.k("resize");return a}if(!a.b)return 0;d=a.b.style[c];e=d.indexOf("px");return-1!==e?parseInt(d.slice(0,e),10):parseInt(a.b["offset"+t.ba(c)],10)}
function G(a){var c,d,e,g,h,k,n,r;c=0;d=j;a.d("touchstart",function(a){1===a.touches.length&&(d=a.touches[0],c=(new Date).getTime(),g=f)});a.d("touchmove",function(a){1<a.touches.length?g=l:d&&(k=a.touches[0].pageX-d.pageX,n=a.touches[0].pageY-d.pageY,r=Math.sqrt(k*k+n*n),22<r&&(g=l))});h=function(){g=l};a.d("touchleave",h);a.d("touchcancel",h);a.d("touchend",function(a){d=j;g===f&&(e=(new Date).getTime()-c,250>e&&(a.preventDefault(),this.k("tap")))})}
t.t=t.a.extend({i:function(a,c){t.a.call(this,a,c);G(this);this.d("tap",this.r);this.d("click",this.r);this.d("focus",this.Ya);this.d("blur",this.Xa)}});s=t.t.prototype;
s.e=function(a,c){var d;c=t.g.z({className:this.T(),role:"button","aria-live":"polite",tabIndex:0},c);d=t.a.prototype.e.call(this,a,c);c.innerHTML||(this.u=t.e("div",{className:"vjs-control-content"}),this.xb=t.e("span",{className:"vjs-control-text",innerHTML:this.s(this.ta)||"Need Text"}),this.u.appendChild(this.xb),d.appendChild(this.u));return d};s.T=function(){return"vjs-control "+t.a.prototype.T.call(this)};s.r=m();s.Ya=function(){t.d(document,"keydown",t.bind(this,this.Z))};
s.Z=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.r()};s.Xa=function(){t.o(document,"keydown",t.bind(this,this.Z))};
t.R=t.a.extend({i:function(a,c){t.a.call(this,a,c);this.gd=this.ka(this.l.barName);this.handle=this.ka(this.l.handleName);this.d("mousedown",this.Za);this.d("touchstart",this.Za);this.d("focus",this.Ya);this.d("blur",this.Xa);this.d("click",this.r);this.c.d("controlsvisible",t.bind(this,this.update));a.d(this.Dc,t.bind(this,this.update));this.F={};this.F.move=t.bind(this,this.$a);this.F.end=t.bind(this,this.Lb)}});s=t.R.prototype;
s.dispose=function(){t.o(document,"mousemove",this.F.move,l);t.o(document,"mouseup",this.F.end,l);t.o(document,"touchmove",this.F.move,l);t.o(document,"touchend",this.F.end,l);t.o(document,"keyup",t.bind(this,this.Z));t.a.prototype.dispose.call(this)};s.e=function(a,c){c=c||{};c.className+=" vjs-slider";c=t.g.z({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c);return t.a.prototype.e.call(this,a,c)};
s.Za=function(a){a.preventDefault();t.hd();this.m("vjs-sliding");t.d(document,"mousemove",this.F.move);t.d(document,"mouseup",this.F.end);t.d(document,"touchmove",this.F.move);t.d(document,"touchend",this.F.end);this.$a(a)};s.$a=m();s.Lb=function(){t.he();this.p("vjs-sliding");t.o(document,"mousemove",this.F.move,l);t.o(document,"mouseup",this.F.end,l);t.o(document,"touchmove",this.F.move,l);t.o(document,"touchend",this.F.end,l);this.update()};
s.update=function(){if(this.b){var a,c=this.Fb(),d=this.handle,e=this.gd;isNaN(c)&&(c=0);a=c;if(d){a=this.b.offsetWidth;var g=d.v().offsetWidth;a=g?g/a:0;c*=1-a;a=c+a/2;d.v().style.left=t.round(100*c,2)+"%"}e&&(e.v().style.width=t.round(100*a,2)+"%")}};
function H(a,c){var d,e,g,h;d=a.b;e=t.vd(d);h=g=d.offsetWidth;d=a.handle;if(a.options().vertical)return h=e.top,e=c.changedTouches?c.changedTouches[0].pageY:c.pageY,d&&(d=d.v().offsetHeight,h+=d/2,g-=d),Math.max(0,Math.min(1,(h-e+g)/g));g=e.left;e=c.changedTouches?c.changedTouches[0].pageX:c.pageX;d&&(d=d.v().offsetWidth,g+=d/2,h-=d);return Math.max(0,Math.min(1,(e-g)/h))}s.Ya=function(){t.d(document,"keyup",t.bind(this,this.Z))};
s.Z=function(a){if(37==a.which||40==a.which)a.preventDefault(),this.Mc();else if(38==a.which||39==a.which)a.preventDefault(),this.Nc()};s.Xa=function(){t.o(document,"keyup",t.bind(this,this.Z))};s.r=function(a){a.stopImmediatePropagation();a.preventDefault()};t.$=t.a.extend();t.$.prototype.defaultValue=0;
t.$.prototype.e=function(a,c){c=c||{};c.className+=" vjs-slider-handle";c=t.g.z({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},c);return t.a.prototype.e.call(this,"div",c)};t.ha=t.a.extend();function ca(a,c){a.S(c);c.d("click",t.bind(a,function(){E(this)}))}
t.ha.prototype.e=function(){var a=this.options().kc||"ul";this.u=t.e(a,{className:"vjs-menu-content"});a=t.a.prototype.e.call(this,"div",{append:this.u,className:"vjs-menu"});a.appendChild(this.u);t.d(a,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return a};t.I=t.t.extend({i:function(a,c){t.t.call(this,a,c);this.selected(c.selected)}});t.I.prototype.e=function(a,c){return t.t.prototype.e.call(this,"li",t.g.z({className:"vjs-menu-item",innerHTML:this.l.label},c))};
t.I.prototype.r=function(){this.selected(f)};t.I.prototype.selected=function(a){a?(this.m("vjs-selected"),this.b.setAttribute("aria-selected",f)):(this.p("vjs-selected"),this.b.setAttribute("aria-selected",l))};t.M=t.t.extend({i:function(a,c){t.t.call(this,a,c);this.Aa=this.wa();this.S(this.Aa);this.P&&0===this.P.length&&this.W();this.d("keyup",this.Z);this.b.setAttribute("aria-haspopup",f);this.b.setAttribute("role","button")}});s=t.M.prototype;s.sa=l;
s.wa=function(){var a=new t.ha(this.c);this.options().title&&a.ja().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.ba(this.options().title),ee:-1}));if(this.P=this.createItems())for(var c=0;c<this.P.length;c++)ca(a,this.P[c]);return a};s.va=m();s.T=function(){return this.className+" vjs-menu-button "+t.t.prototype.T.call(this)};s.Ya=m();s.Xa=m();s.r=function(){this.Q("mouseout",t.bind(this,function(){E(this.Aa);this.b.blur()}));this.sa?I(this):J(this)};
s.Z=function(a){a.preventDefault();32==a.which||13==a.which?this.sa?I(this):J(this):27==a.which&&this.sa&&I(this)};function J(a){a.sa=f;a.Aa.m("vjs-lock-showing");a.b.setAttribute("aria-pressed",f);a.P&&0<a.P.length&&a.P[0].v().focus()}function I(a){a.sa=l;E(a.Aa);a.b.setAttribute("aria-pressed",l)}t.D=function(a){"number"===typeof a?this.code=a:"string"===typeof a?this.message=a:"object"===typeof a&&t.g.z(this,a);this.message||(this.message=t.D.pd[this.code]||"")};t.D.prototype.code=0;
t.D.prototype.message="";t.D.prototype.status=j;t.D.Ra="MEDIA_ERR_CUSTOM MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_ERR_ENCRYPTED".split(" ");
t.D.pd={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var K=0;K<t.D.Ra.length;K++)t.D[t.D.Ra[K]]=K,t.D.prototype[t.D.Ra[K]]=K;
var L,M,N,O;
L=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")];
M=L[0];for(O=0;O<L.length;O++)if(L[O][1]in document){N=L[O];break}if(N){t.Oa.Eb={};for(O=0;O<N.length;O++)t.Oa.Eb[M[O]]=N[O]}
t.Player=t.a.extend({i:function(a,c,d){this.L=a;a.id=a.id||"vjs_video_"+t.w++;this.fe=a&&t.za(a);c=t.g.z(da(a),c);this.Ua=c.language||t.options.language;this.Fd=c.languages||t.options.languages;this.G={};this.Ec=c.poster;this.yb=c.controls;a.controls=l;c.Ic=l;P(this,"audio"===this.L.nodeName.toLowerCase());t.a.call(this,this,c,d);this.controls()?this.m("vjs-controls-enabled"):this.m("vjs-controls-disabled");P(this)&&this.m("vjs-audio");t.Ba[this.U]=this;c.plugins&&t.g.Y(c.plugins,function(a,c){this[a](c)},
this);var e,g,h,k,n,r;e=t.bind(this,this.reportUserActivity);this.d("mousedown",function(){e();clearInterval(g);g=setInterval(e,250)});this.d("mousemove",function(a){if(a.screenX!=n||a.screenY!=r)n=a.screenX,r=a.screenY,e()});this.d("mouseup",function(){e();clearInterval(g)});this.d("keydown",e);this.d("keyup",e);h=setInterval(t.bind(this,function(){if(this.pa){this.pa=l;this.userActive(f);clearTimeout(k);var a=this.options().inactivityTimeout;0<a&&(k=setTimeout(t.bind(this,function(){this.pa||this.userActive(l)}),
a))}}),250);this.d("dispose",function(){clearInterval(h);clearTimeout(k)})}});s=t.Player.prototype;s.language=function(a){if(a===b)return this.Ua;this.Ua=a;return this};s.languages=p("Fd");s.l=t.options;s.dispose=function(){this.k("dispose");this.o("dispose");t.Ba[this.U]=j;this.L&&this.L.player&&(this.L.player=j);this.b&&this.b.player&&(this.b.player=j);this.n&&this.n.dispose();t.a.prototype.dispose.call(this)};
function da(a){var c,d,e={sources:[],tracks:[]};c=t.za(a);d=c["data-setup"];d!==j&&t.g.z(c,t.JSON.parse(d||"{}"));t.g.z(e,c);if(a.hasChildNodes()){var g,h;a=a.childNodes;g=0;for(h=a.length;g<h;g++)c=a[g],d=c.nodeName.toLowerCase(),"source"===d?e.sources.push(t.za(c)):"track"===d&&e.tracks.push(t.za(c))}return e}
s.e=function(){var a=this.b=t.a.prototype.e.call(this,"div"),c=this.L,d;c.removeAttribute("width");c.removeAttribute("height");if(c.hasChildNodes()){var e,g,h,k,n;e=c.childNodes;g=e.length;for(n=[];g--;)h=e[g],k=h.nodeName.toLowerCase(),"track"===k&&n.push(h);for(e=0;e<n.length;e++)c.removeChild(n[e])}d=t.za(c);t.g.Y(d,function(c){"class"==c?a.className=d[c]:a.setAttribute(c,d[c])});c.id+="_html5_api";c.className="vjs-tech";c.player=a.player=this;this.m("vjs-paused");this.width(this.l.width,f);this.height(this.l.height,
f);c.parentNode&&c.parentNode.insertBefore(a,c);t.Gb(c,a);this.b=a;this.d("loadstart",this.Md);this.d("waiting",this.Sd);this.d(["canplay","canplaythrough","playing","ended"],this.Rd);this.d("seeking",this.Pd);this.d("seeked",this.Od);this.d("ended",this.Id);this.d("play",this.Nb);this.d("firstplay",this.Kd);this.d("pause",this.Mb);this.d("progress",this.Nd);this.d("durationchange",this.Bc);this.d("fullscreenchange",this.Ld);return a};
function Q(a,c,d){a.n&&(a.la=l,a.n.dispose(),a.n=l);"Html5"!==c&&a.L&&(t.h.Bb(a.L),a.L=j);a.eb=c;a.la=l;var e=t.g.z({source:d,parentEl:a.b},a.l[c.toLowerCase()]);d&&(a.mc=d.type,d.src==a.G.src&&0<a.G.currentTime&&(e.startTime=a.G.currentTime),a.G.src=d.src);a.n=new window.videojs[c](a,e);a.n.J(function(){this.c.Fa()})}s.Md=function(){this.error(j);this.paused()?(R(this,l),this.Q("play",function(){R(this,f)})):this.k("firstplay")};s.uc=l;
function R(a,c){c!==b&&a.uc!==c&&((a.uc=c)?(a.m("vjs-has-started"),a.k("firstplay")):a.p("vjs-has-started"))}s.Nb=function(){this.p("vjs-paused");this.m("vjs-playing")};s.Sd=function(){this.m("vjs-waiting")};s.Rd=function(){this.p("vjs-waiting")};s.Pd=function(){this.m("vjs-seeking")};s.Od=function(){this.p("vjs-seeking")};s.Kd=function(){this.l.starttime&&this.currentTime(this.l.starttime);this.m("vjs-has-started")};s.Mb=function(){this.p("vjs-playing");this.m("vjs-paused")};
s.Nd=function(){1==this.bufferedPercent()&&this.k("loadedalldata")};s.Id=function(){this.l.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()};s.Bc=function(){var a=S(this,"duration");a&&(0>a&&(a=Infinity),this.duration(a),Infinity===a?this.m("vjs-live"):this.p("vjs-live"))};s.Ld=function(){this.isFullscreen()?this.m("vjs-fullscreen"):this.p("vjs-fullscreen")};function T(a,c,d){if(a.n&&!a.n.la)a.n.J(function(){this[c](d)});else try{a.n[c](d)}catch(e){throw t.log(e),e;}}
function S(a,c){if(a.n&&a.n.la)try{return a.n[c]()}catch(d){throw a.n[c]===b?t.log("Video.js: "+c+" method not defined for "+a.eb+" playback technology.",d):"TypeError"==d.name?(t.log("Video.js: "+c+" unavailable on "+a.eb+" playback technology element.",d),a.n.la=l):t.log(d),d;}}s.play=function(){T(this,"play");return this};s.pause=function(){T(this,"pause");return this};s.paused=function(){return S(this,"paused")===l?l:f};
s.currentTime=function(a){return a!==b?(T(this,"setCurrentTime",a),this):this.G.currentTime=S(this,"currentTime")||0};s.duration=function(a){if(a!==b)return this.G.duration=parseFloat(a),this;this.G.duration===b&&this.Bc();return this.G.duration||0};s.remainingTime=function(){return this.duration()-this.currentTime()};s.buffered=function(){var a=S(this,"buffered");if(!a||!a.length)a=t.zb(0,0);return a};
s.bufferedPercent=function(){var a=this.duration(),c=this.buffered(),d=0,e,g;if(!a)return 0;for(var h=0;h<c.length;h++)e=c.start(h),g=c.end(h),g>a&&(g=a),d+=g-e;return d/a};s.volume=function(a){if(a!==b)return a=Math.max(0,Math.min(1,parseFloat(a))),this.G.volume=a,T(this,"setVolume",a),t.Yd(a),this;a=parseFloat(S(this,"volume"));return isNaN(a)?1:a};s.muted=function(a){return a!==b?(T(this,"setMuted",a),this):S(this,"muted")||l};s.Da=function(){return S(this,"supportsFullScreen")||l};s.xc=l;
s.isFullscreen=function(a){return a!==b?(this.xc=!!a,this):this.xc};s.isFullScreen=function(a){t.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")');return this.isFullscreen(a)};
s.requestFullscreen=function(){var a=t.Oa.Eb;this.isFullscreen(f);a?(t.d(document,a.fullscreenchange,t.bind(this,function(c){this.isFullscreen(document[a.fullscreenElement]);this.isFullscreen()===l&&t.o(document,a.fullscreenchange,arguments.callee);this.k("fullscreenchange")})),this.b[a.requestFullscreen]()):this.n.Da()?T(this,"enterFullScreen"):(this.pc(),this.k("fullscreenchange"));return this};
s.requestFullScreen=function(){t.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")');return this.requestFullscreen()};s.exitFullscreen=function(){var a=t.Oa.Eb;this.isFullscreen(l);if(a)document[a.exitFullscreen]();else this.n.Da()?T(this,"exitFullScreen"):(this.Cb(),this.k("fullscreenchange"));return this};s.cancelFullScreen=function(){t.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()");return this.exitFullscreen()};
s.pc=function(){this.Ad=f;this.sd=document.documentElement.style.overflow;t.d(document,"keydown",t.bind(this,this.rc));document.documentElement.style.overflow="hidden";t.m(document.body,"vjs-full-window");this.k("enterFullWindow")};s.rc=function(a){27===a.keyCode&&(this.isFullscreen()===f?this.exitFullscreen():this.Cb())};s.Cb=function(){this.Ad=l;t.o(document,"keydown",this.rc);document.documentElement.style.overflow=this.sd;t.p(document.body,"vjs-full-window");this.k("exitFullWindow")};
s.selectSource=function(a){for(var c=0,d=this.l.techOrder;c<d.length;c++){var e=t.ba(d[c]),g=window.videojs[e];if(g){if(g.isSupported())for(var h=0,k=a;h<k.length;h++){var n=k[h];if(g.canPlaySource(n))return{source:n,n:e}}}else t.log.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.')}return l};
s.src=function(a){if(a===b)return S(this,"src");t.g.isArray(a)?U(this,a):"string"===typeof a?this.src({src:a}):a instanceof Object&&(a.type&&!window.videojs[this.eb].canPlaySource(a)?U(this,[a]):(this.G.src=a.src,this.mc=a.type||"",this.J(function(){T(this,"src",a.src);"auto"==this.l.preload&&this.load();this.l.autoplay&&this.play()})));return this};
function U(a,c){var d=a.selectSource(c),e;d?d.n===a.eb?a.src(d.source):Q(a,d.n,d.source):(e=setTimeout(t.bind(a,function(){this.error({code:4,message:this.s(this.options().notSupportedMessage)})}),0),a.Fa(),a.d("dispose",function(){clearTimeout(e)}))}s.load=function(){T(this,"load");return this};s.currentSrc=function(){return S(this,"currentSrc")||this.G.src||""};s.nd=function(){return this.mc||""};s.Ca=function(a){return a!==b?(T(this,"setPreload",a),this.l.preload=a,this):S(this,"preload")};
s.autoplay=function(a){return a!==b?(T(this,"setAutoplay",a),this.l.autoplay=a,this):S(this,"autoplay")};s.loop=function(a){return a!==b?(T(this,"setLoop",a),this.l.loop=a,this):S(this,"loop")};s.poster=function(a){if(a===b)return this.Ec;this.Ec=a;T(this,"setPoster",a);this.k("posterchange");return this};
s.controls=function(a){return a!==b?(a=!!a,this.yb!==a&&((this.yb=a)?(this.p("vjs-controls-disabled"),this.m("vjs-controls-enabled"),this.k("controlsenabled")):(this.p("vjs-controls-enabled"),this.m("vjs-controls-disabled"),this.k("controlsdisabled"))),this):this.yb};t.Player.prototype.Sb;s=t.Player.prototype;
s.usingNativeControls=function(a){return a!==b?(a=!!a,this.Sb!==a&&((this.Sb=a)?(this.m("vjs-using-native-controls"),this.k("usingnativecontrols")):(this.p("vjs-using-native-controls"),this.k("usingcustomcontrols"))),this):this.Sb};s.da=j;s.error=function(a){if(a===b)return this.da;if(a===j)return this.da=a,this.p("vjs-error"),this;this.da=a instanceof t.D?a:new t.D(a);this.k("error");this.m("vjs-error");t.log.error("(CODE:"+this.da.code+" "+t.D.Ra[this.da.code]+")",this.da.message,this.da);return this};
s.ended=function(){return S(this,"ended")};s.seeking=function(){return S(this,"seeking")};s.pa=f;s.reportUserActivity=function(){this.pa=f};s.Rb=f;s.userActive=function(a){return a!==b?(a=!!a,a!==this.Rb&&((this.Rb=a)?(this.pa=f,this.p("vjs-user-inactive"),this.m("vjs-user-active"),this.k("useractive")):(this.pa=l,this.n&&this.n.Q("mousemove",function(a){a.stopPropagation();a.preventDefault()}),this.p("vjs-user-active"),this.m("vjs-user-inactive"),this.k("userinactive"))),this):this.Rb};
s.playbackRate=function(a){return a!==b?(T(this,"setPlaybackRate",a),this):this.n&&this.n.featuresPlaybackRate?S(this,"playbackRate"):1};s.wc=l;function P(a,c){return c!==b?(a.wc=!!c,a):a.wc}t.Ia=t.a.extend();t.Ia.prototype.l={te:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{}}};t.Ia.prototype.e=function(){return t.e("div",{className:"vjs-control-bar"})};
t.Xb=t.a.extend({i:function(a,c){t.a.call(this,a,c)}});t.Xb.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-live-controls vjs-control"});this.u=t.e("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.s("Stream Type")+"</span>"+this.s("LIVE"),"aria-live":"off"});a.appendChild(this.u);return a};t.$b=t.t.extend({i:function(a,c){t.t.call(this,a,c);a.d("play",t.bind(this,this.Nb));a.d("pause",t.bind(this,this.Mb))}});s=t.$b.prototype;s.ta="Play";
s.T=function(){return"vjs-play-control "+t.t.prototype.T.call(this)};s.r=function(){this.c.paused()?this.c.play():this.c.pause()};s.Nb=function(){t.p(this.b,"vjs-paused");t.m(this.b,"vjs-playing");this.b.children[0].children[0].innerHTML=this.s("Pause")};s.Mb=function(){t.p(this.b,"vjs-playing");t.m(this.b,"vjs-paused");this.b.children[0].children[0].innerHTML=this.s("Play")};t.hb=t.a.extend({i:function(a,c){t.a.call(this,a,c);a.d("timeupdate",t.bind(this,this.fa))}});
t.hb.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.u=t.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});a.appendChild(this.u);return a};t.hb.prototype.fa=function(){var a=this.c.bb?this.c.G.currentTime:this.c.currentTime();this.u.innerHTML='<span class="vjs-control-text">'+this.s("Current Time")+"</span> "+t.ya(a,this.c.duration())};
t.ib=t.a.extend({i:function(a,c){t.a.call(this,a,c);a.d("timeupdate",t.bind(this,this.fa))}});t.ib.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.u=t.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.s("Duration Time")+"</span> 0:00","aria-live":"off"});a.appendChild(this.u);return a};
t.ib.prototype.fa=function(){var a=this.c.duration();a&&(this.u.innerHTML='<span class="vjs-control-text">'+this.s("Duration Time")+"</span> "+t.ya(a))};t.fc=t.a.extend({i:function(a,c){t.a.call(this,a,c)}});t.fc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};t.pb=t.a.extend({i:function(a,c){t.a.call(this,a,c);a.d("timeupdate",t.bind(this,this.fa))}});
t.pb.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});this.u=t.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.s("Remaining Time")+"</span> -0:00","aria-live":"off"});a.appendChild(this.u);return a};t.pb.prototype.fa=function(){this.c.duration()&&(this.u.innerHTML='<span class="vjs-control-text">'+this.s("Remaining Time")+"</span> -"+t.ya(this.c.remainingTime()))};
t.Ja=t.t.extend({i:function(a,c){t.t.call(this,a,c)}});t.Ja.prototype.ta="Fullscreen";t.Ja.prototype.T=function(){return"vjs-fullscreen-control "+t.t.prototype.T.call(this)};t.Ja.prototype.r=function(){this.c.isFullscreen()?(this.c.exitFullscreen(),this.xb.innerHTML=this.s("Fullscreen")):(this.c.requestFullscreen(),this.xb.innerHTML=this.s("Non-Fullscreen"))};t.ob=t.a.extend({i:function(a,c){t.a.call(this,a,c)}});t.ob.prototype.l={children:{seekBar:{}}};
t.ob.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})};t.bc=t.R.extend({i:function(a,c){t.R.call(this,a,c);a.d("timeupdate",t.bind(this,this.oa));a.J(t.bind(this,this.oa))}});s=t.bc.prototype;s.l={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};s.Dc="timeupdate";s.e=function(){return t.R.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};
s.oa=function(){var a=this.c.bb?this.c.G.currentTime:this.c.currentTime();this.b.setAttribute("aria-valuenow",t.round(100*this.Fb(),2));this.b.setAttribute("aria-valuetext",t.ya(a,this.c.duration()))};s.Fb=function(){return this.c.currentTime()/this.c.duration()};s.Za=function(a){t.R.prototype.Za.call(this,a);this.c.bb=f;this.je=!this.c.paused();this.c.pause()};s.$a=function(a){a=H(this,a)*this.c.duration();a==this.c.duration()&&(a-=0.1);this.c.currentTime(a)};
s.Lb=function(a){t.R.prototype.Lb.call(this,a);this.c.bb=l;this.je&&this.c.play()};s.Nc=function(){this.c.currentTime(this.c.currentTime()+5)};s.Mc=function(){this.c.currentTime(this.c.currentTime()-5)};t.lb=t.a.extend({i:function(a,c){t.a.call(this,a,c);a.d("progress",t.bind(this,this.update))}});t.lb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.s("Loaded")+"</span>: 0%</span>"})};
t.lb.prototype.update=function(){var a,c,d,e,g=this.c.buffered();a=this.c.duration();var h,k=this.c;h=k.buffered();k=k.duration();h=h.end(h.length-1);h>k&&(h=k);k=this.b.children;this.b.style.width=100*(h/a||0)+"%";for(a=0;a<g.length;a++)c=g.start(a),d=g.end(a),(e=k[a])||(e=this.b.appendChild(t.e())),e.style.left=100*(c/h||0)+"%",e.style.width=100*((d-c)/h||0)+"%";for(a=k.length;a>g.length;a--)this.b.removeChild(k[a-1])};t.Zb=t.a.extend({i:function(a,c){t.a.call(this,a,c)}});
t.Zb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.s("Progress")+"</span>: 0%</span>"})};t.La=t.$.extend({i:function(a,c){t.$.call(this,a,c);a.d("timeupdate",t.bind(this,this.fa))}});t.La.prototype.defaultValue="00:00";t.La.prototype.e=function(){return t.$.prototype.e.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})};
t.La.prototype.fa=function(){var a=this.c.bb?this.c.G.currentTime:this.c.currentTime();this.b.innerHTML='<span class="vjs-control-text">'+t.ya(a,this.c.duration())+"</span>"};t.rb=t.a.extend({i:function(a,c){t.a.call(this,a,c);a.n&&a.n.featuresVolumeControl===l&&this.m("vjs-hidden");a.d("loadstart",t.bind(this,function(){a.n.featuresVolumeControl===l?this.m("vjs-hidden"):this.p("vjs-hidden")}))}});t.rb.prototype.l={children:{volumeBar:{}}};
t.rb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})};t.qb=t.R.extend({i:function(a,c){t.R.call(this,a,c);a.d("volumechange",t.bind(this,this.oa));a.J(t.bind(this,this.oa))}});s=t.qb.prototype;s.oa=function(){this.b.setAttribute("aria-valuenow",t.round(100*this.c.volume(),2));this.b.setAttribute("aria-valuetext",t.round(100*this.c.volume(),2)+"%")};s.l={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};
s.Dc="volumechange";s.e=function(){return t.R.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};s.$a=function(a){this.c.muted()&&this.c.muted(l);this.c.volume(H(this,a))};s.Fb=function(){return this.c.muted()?0:this.c.volume()};s.Nc=function(){this.c.volume(this.c.volume()+0.1)};s.Mc=function(){this.c.volume(this.c.volume()-0.1)};t.gc=t.a.extend({i:function(a,c){t.a.call(this,a,c)}});
t.gc.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};t.sb=t.$.extend();t.sb.prototype.defaultValue="00:00";t.sb.prototype.e=function(){return t.$.prototype.e.call(this,"div",{className:"vjs-volume-handle"})};
t.ia=t.t.extend({i:function(a,c){t.t.call(this,a,c);a.d("volumechange",t.bind(this,this.update));a.n&&a.n.featuresVolumeControl===l&&this.m("vjs-hidden");a.d("loadstart",t.bind(this,function(){a.n.featuresVolumeControl===l?this.m("vjs-hidden"):this.p("vjs-hidden")}))}});t.ia.prototype.e=function(){return t.t.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.s("Mute")+"</span></div>"})};
t.ia.prototype.r=function(){this.c.muted(this.c.muted()?l:f)};t.ia.prototype.update=function(){var a=this.c.volume(),c=3;0===a||this.c.muted()?c=0:0.33>a?c=1:0.67>a&&(c=2);this.c.muted()?this.b.children[0].children[0].innerHTML!=this.s("Unmute")&&(this.b.children[0].children[0].innerHTML=this.s("Unmute")):this.b.children[0].children[0].innerHTML!=this.s("Mute")&&(this.b.children[0].children[0].innerHTML=this.s("Mute"));for(a=0;4>a;a++)t.p(this.b,"vjs-vol-"+a);t.m(this.b,"vjs-vol-"+c)};
t.ra=t.M.extend({i:function(a,c){t.M.call(this,a,c);a.d("volumechange",t.bind(this,this.update));a.n&&a.n.featuresVolumeControl===l&&this.m("vjs-hidden");a.d("loadstart",t.bind(this,function(){a.n.featuresVolumeControl===l?this.m("vjs-hidden"):this.p("vjs-hidden")}));this.m("vjs-menu-button")}});t.ra.prototype.wa=function(){var a=new t.ha(this.c,{kc:"div"}),c=new t.qb(this.c,t.g.z({vertical:f},this.l.xe));c.d("focus",function(){a.m("vjs-lock-showing")});c.d("blur",function(){E(a)});a.S(c);return a};
t.ra.prototype.r=function(){t.ia.prototype.r.call(this);t.M.prototype.r.call(this)};t.ra.prototype.e=function(){return t.t.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.s("Mute")+"</span></div>"})};t.ra.prototype.update=t.ia.prototype.update;t.ac=t.M.extend({i:function(a,c){t.M.call(this,a,c);this.Sc();this.Rc();a.d("loadstart",t.bind(this,this.Sc));a.d("ratechange",t.bind(this,this.Rc))}});s=t.ac.prototype;
s.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-playback-rate vjs-menu-button vjs-control",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+this.s("Playback Rate")+"</span></div>"});this.zc=t.e("div",{className:"vjs-playback-rate-value",innerHTML:1});a.appendChild(this.zc);return a};s.wa=function(){var a=new t.ha(this.j()),c=this.j().options().playbackRates;if(c)for(var d=c.length-1;0<=d;d--)a.S(new t.nb(this.j(),{rate:c[d]+"x"}));return a};
s.oa=function(){this.v().setAttribute("aria-valuenow",this.j().playbackRate())};s.r=function(){for(var a=this.j().playbackRate(),c=this.j().options().playbackRates,d=c[0],e=0;e<c.length;e++)if(c[e]>a){d=c[e];break}this.j().playbackRate(d)};function ea(a){return a.j().n&&a.j().n.featuresPlaybackRate&&a.j().options().playbackRates&&0<a.j().options().playbackRates.length}s.Sc=function(){ea(this)?this.p("vjs-hidden"):this.m("vjs-hidden")};
s.Rc=function(){ea(this)&&(this.zc.innerHTML=this.j().playbackRate()+"x")};t.nb=t.I.extend({kc:"button",i:function(a,c){var d=this.label=c.rate,e=this.Gc=parseFloat(d,10);c.label=d;c.selected=1===e;t.I.call(this,a,c);this.j().d("ratechange",t.bind(this,this.update))}});t.nb.prototype.r=function(){t.I.prototype.r.call(this);this.j().playbackRate(this.Gc)};t.nb.prototype.update=function(){this.selected(this.j().playbackRate()==this.Gc)};
t.Ka=t.t.extend({i:function(a,c){t.t.call(this,a,c);a.poster()&&this.src(a.poster());(!a.poster()||!a.controls())&&this.W();a.d("posterchange",t.bind(this,function(){this.src(a.poster())}));P(a)||a.d("play",t.bind(this,this.W))}});var fa="backgroundSize"in t.A.style;t.Ka.prototype.e=function(){var a=t.e("div",{className:"vjs-poster",tabIndex:-1});fa||a.appendChild(t.e("img"));return a};
t.Ka.prototype.src=function(a){var c=this.v();a!==b&&(fa?c.style.backgroundImage='url("'+a+'")':c.firstChild.src=a)};t.Ka.prototype.r=function(){this.j().controls()&&this.c.play()};t.Yb=t.a.extend({i:function(a,c){t.a.call(this,a,c)}});t.Yb.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})};t.fb=t.t.extend();
t.fb.prototype.e=function(){return t.t.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})};t.fb.prototype.r=function(){this.c.play()};t.jb=t.a.extend({i:function(a,c){t.a.call(this,a,c);this.update();a.d("error",t.bind(this,this.update))}});t.jb.prototype.e=function(){var a=t.a.prototype.e.call(this,"div",{className:"vjs-error-display"});this.u=t.e("div");a.appendChild(this.u);return a};
t.jb.prototype.update=function(){this.j().error()&&(this.u.innerHTML=this.s(this.j().error().message))};
t.q=t.a.extend({i:function(a,c,d){c=c||{};c.Ic=l;t.a.call(this,a,c,d);this.featuresProgressEvents||(this.Ac=f,this.Fc=setInterval(t.bind(this,function(){var a=this.j().bufferedPercent();this.jd!=a&&this.j().k("progress");this.jd=a;1===a&&clearInterval(this.Fc)}),500));this.featuresTimeupdateEvents||(this.Kb=f,this.j().d("play",t.bind(this,this.Qc)),this.j().d("pause",t.bind(this,this.cb)),this.Q("timeupdate",function(){this.featuresTimeupdateEvents=f;ga(this)}));var e,g;g=this;e=this.j();a=function(){if(e.controls()&&
!e.usingNativeControls()){var a;g.d("mousedown",g.r);g.d("touchstart",function(){a=this.c.userActive()});g.d("touchmove",function(){a&&this.j().reportUserActivity()});g.d("touchend",function(a){a.preventDefault()});G(g);g.d("tap",g.Qd)}};c=t.bind(g,g.Wd);this.J(a);e.d("controlsenabled",a);e.d("controlsdisabled",c);this.J(function(){this.networkState&&0<this.networkState()&&this.j().k("loadstart")})}});s=t.q.prototype;
s.Wd=function(){this.o("tap");this.o("touchstart");this.o("touchmove");this.o("touchleave");this.o("touchcancel");this.o("touchend");this.o("click");this.o("mousedown")};s.r=function(a){0===a.button&&this.j().controls()&&(this.j().paused()?this.j().play():this.j().pause())};s.Qd=function(){this.j().userActive(!this.j().userActive())};function ga(a){a.Kb=l;a.cb();a.o("play",a.Qc);a.o("pause",a.cb)}
s.Qc=function(){this.lc&&this.cb();this.lc=setInterval(t.bind(this,function(){this.j().k("timeupdate")}),250)};s.cb=function(){clearInterval(this.lc);this.j().k("timeupdate")};s.dispose=function(){this.Ac&&(this.Ac=l,clearInterval(this.Fc));this.Kb&&ga(this);t.a.prototype.dispose.call(this)};s.Pb=function(){this.Kb&&this.j().k("timeupdate")};s.Kc=m();t.q.prototype.featuresVolumeControl=f;t.q.prototype.featuresFullscreenResize=l;t.q.prototype.featuresPlaybackRate=l;
t.q.prototype.featuresProgressEvents=l;t.q.prototype.featuresTimeupdateEvents=l;t.media={};
t.h=t.q.extend({i:function(a,c,d){this.featuresVolumeControl=t.h.ld();this.featuresPlaybackRate=t.h.kd();this.movingMediaElementInDOM=!t.Yc;this.featuresProgressEvents=this.featuresFullscreenResize=f;t.q.call(this,a,c,d);for(d=t.h.kb.length-1;0<=d;d--)t.d(this.b,t.h.kb[d],t.bind(this,this.td));if((c=c.source)&&this.b.currentSrc!==c.src)this.b.src=c.src;if(t.dc&&a.options().nativeControlsForTouch!==l){var e,g,h,k;e=this;g=this.j();c=g.controls();e.b.controls=!!c;h=function(){e.b.controls=f};k=function(){e.b.controls=
l};g.d("controlsenabled",h);g.d("controlsdisabled",k);c=function(){g.o("controlsenabled",h);g.o("controlsdisabled",k)};e.d("dispose",c);g.d("usingcustomcontrols",c);g.usingNativeControls(f)}a.J(function(){this.L&&(this.l.autoplay&&this.paused())&&(delete this.L.poster,this.play())});this.Fa()}});s=t.h.prototype;s.dispose=function(){t.h.Bb(this.b);t.q.prototype.dispose.call(this)};
s.e=function(){var a=this.c,c=a.L,d;if(!c||this.movingMediaElementInDOM===l)c?(d=c.cloneNode(l),t.h.Bb(c),c=d,a.L=j):(c=t.e("video"),t.Jc(c,t.g.z(a.fe||{},{id:a.id()+"_html5_api","class":"vjs-tech"}))),c.player=a,t.Gb(c,a.v());d=["autoplay","preload","loop","muted"];for(var e=d.length-1;0<=e;e--){var g=d[e],h={};"undefined"!==typeof a.l[g]&&(h[g]=a.l[g]);t.Jc(c,h)}return c};s.td=function(a){"error"==a.type&&this.error()?this.j().error(this.error().code):(a.bubbles=l,this.j().k(a))};s.play=function(){this.b.play()};
s.pause=function(){this.b.pause()};s.paused=function(){return this.b.paused};s.currentTime=function(){return this.b.currentTime};s.Pb=function(a){try{this.b.currentTime=a}catch(c){t.log(c,"Video is not ready. (Video.js)")}};s.duration=function(){return this.b.duration||0};s.buffered=function(){return this.b.buffered};s.volume=function(){return this.b.volume};s.ce=function(a){this.b.volume=a};s.muted=function(){return this.b.muted};s.$d=function(a){this.b.muted=a};s.width=function(){return this.b.offsetWidth};
s.height=function(){return this.b.offsetHeight};s.Da=function(){return"function"==typeof this.b.webkitEnterFullScreen&&(/Android/.test(t.N)||!/Chrome|Mac OS X 10.5/.test(t.N))?f:l};
s.oc=function(){var a=this.b;"webkitDisplayingFullscreen"in a&&this.Q("webkitbeginfullscreen",t.bind(this,function(){this.c.isFullscreen(f);this.Q("webkitendfullscreen",t.bind(this,function(){this.c.isFullscreen(l);this.c.k("fullscreenchange")}));this.c.k("fullscreenchange")}));a.paused&&a.networkState<=a.ke?(this.b.play(),setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};s.ud=function(){this.b.webkitExitFullScreen()};
s.src=function(a){if(a===b)return this.b.src;this.b.src=a};s.load=function(){this.b.load()};s.currentSrc=function(){return this.b.currentSrc};s.poster=function(){return this.b.poster};s.Kc=function(a){this.b.poster=a};s.Ca=function(){return this.b.Ca};s.be=function(a){this.b.Ca=a};s.autoplay=function(){return this.b.autoplay};s.Xd=function(a){this.b.autoplay=a};s.controls=function(){return this.b.controls};s.loop=function(){return this.b.loop};s.Zd=function(a){this.b.loop=a};s.error=function(){return this.b.error};
s.seeking=function(){return this.b.seeking};s.ended=function(){return this.b.ended};s.playbackRate=function(){return this.b.playbackRate};s.ae=function(a){this.b.playbackRate=a};s.networkState=function(){return this.b.networkState};t.h.isSupported=function(){try{t.A.volume=0.5}catch(a){return l}return!!t.A.canPlayType};t.h.vb=function(a){try{return!!t.A.canPlayType(a.type)}catch(c){return""}};t.h.ld=function(){var a=t.A.volume;t.A.volume=a/2+0.1;return a!==t.A.volume};
t.h.kd=function(){var a=t.A.playbackRate;t.A.playbackRate=a/2+0.1;return a!==t.A.playbackRate};var V,ha=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,ia=/^video\/mp4/i;t.h.Cc=function(){4<=t.Tb&&(V||(V=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(a){return a&&ha.test(a)?"maybe":V.call(this,a)});t.bd&&(V||(V=t.A.constructor.prototype.canPlayType),t.A.constructor.prototype.canPlayType=function(a){return a&&ia.test(a)?"maybe":V.call(this,a)})};
t.h.ie=function(){var a=t.A.constructor.prototype.canPlayType;t.A.constructor.prototype.canPlayType=V;V=j;return a};t.h.Cc();t.h.kb="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");
t.h.Bb=function(a){if(a){a.player=j;for(a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src");if("function"===typeof a.load)try{a.load()}catch(c){}}};
t.f=t.q.extend({i:function(a,c,d){t.q.call(this,a,c,d);var e=c.source;d=c.parentEl;var g=this.b=t.e("div",{id:a.id()+"_temp_flash"}),h=a.id()+"_flash_api",k=a.l,k=t.g.z({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:k.autoplay,preload:k.Ca,loop:k.loop,muted:k.muted},c.flashVars),n=t.g.z({wmode:"opaque",bgcolor:"#000000"},c.params),h=t.g.z({id:h,name:h,"class":"vjs-tech"},c.attributes);e&&(e.type&&t.f.Dd(e.type)?
(e=t.f.Oc(e.src),k.rtmpConnection=encodeURIComponent(e.wb),k.rtmpStream=encodeURIComponent(e.Qb)):k.src=encodeURIComponent(t.sc(e.src)));t.Gb(g,d);c.startTime&&this.J(function(){this.load();this.play();this.currentTime(c.startTime)});t.Xc&&this.J(function(){t.d(this.v(),"mousemove",t.bind(this,function(){this.j().k({type:"mousemove",bubbles:l})}))});a.d("stageclick",a.reportUserActivity);this.b=t.f.nc(c.swf,g,k,n,h)}});t.f.prototype.dispose=function(){t.q.prototype.dispose.call(this)};
t.f.prototype.play=function(){this.b.vjs_play()};t.f.prototype.pause=function(){this.b.vjs_pause()};t.f.prototype.src=function(a){if(a===b)return this.currentSrc();t.f.Cd(a)?(a=t.f.Oc(a),this.ue(a.wb),this.ve(a.Qb)):(a=t.sc(a),this.b.vjs_src(a));if(this.c.autoplay()){var c=this;setTimeout(function(){c.play()},0)}};t.f.prototype.setCurrentTime=function(a){this.Gd=a;this.b.vjs_setProperty("currentTime",a);t.q.prototype.Pb.call(this)};
t.f.prototype.currentTime=function(){return this.seeking()?this.Gd||0:this.b.vjs_getProperty("currentTime")};t.f.prototype.currentSrc=function(){var a=this.b.vjs_getProperty("currentSrc");if(a==j){var c=this.rtmpConnection(),d=this.rtmpStream();c&&d&&(a=t.f.de(c,d))}return a};t.f.prototype.load=function(){this.b.vjs_load()};t.f.prototype.poster=function(){this.b.vjs_getProperty("poster")};t.f.prototype.setPoster=m();t.f.prototype.buffered=function(){return t.zb(0,this.b.vjs_getProperty("buffered"))};
t.f.prototype.Da=q(l);t.f.prototype.oc=q(l);function ja(){var a=W[X],c=a.charAt(0).toUpperCase()+a.slice(1);ka["set"+c]=function(c){return this.b.vjs_setProperty(a,c)}}function la(a){ka[a]=function(){return this.b.vjs_getProperty(a)}}
var ka=t.f.prototype,W="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" "),ma="error networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" "),X;for(X=0;X<W.length;X++)la(W[X]),ja();for(X=0;X<ma.length;X++)la(ma[X]);t.f.isSupported=function(){return 10<=t.f.version()[0]};
t.f.vb=function(a){if(!a.type)return"";a=a.type.replace(/;.*/,"").toLowerCase();if(a in t.f.wd||a in t.f.Pc)return"maybe"};t.f.wd={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};t.f.Pc={"rtmp/mp4":"MP4","rtmp/flv":"FLV"};t.f.onReady=function(a){var c;if(c=(a=t.v(a))&&a.parentNode&&a.parentNode.player)a.player=c,t.f.checkReady(c.n)};t.f.checkReady=function(a){a.v()&&(a.v().vjs_getProperty?a.Fa():setTimeout(function(){t.f.checkReady(a)},50))};t.f.onEvent=function(a,c){t.v(a).player.k(c)};
t.f.onError=function(a,c){var d=t.v(a).player,e="FLASH: "+c;"srcnotfound"==c?d.error({code:4,message:e}):d.error(e)};t.f.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(c){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(d){}}return a.split(",")};
t.f.nc=function(a,c,d,e,g){a=t.f.yd(a,d,e,g);a=t.e("div",{innerHTML:a}).childNodes[0];d=c.parentNode;c.parentNode.replaceChild(a,c);var h=d.childNodes[0];setTimeout(function(){h.style.display="block"},1E3);return a};
t.f.yd=function(a,c,d,e){var g="",h="",k="";c&&t.g.Y(c,function(a,c){g+=a+"="+c+"&amp;"});d=t.g.z({movie:a,flashvars:g,allowScriptAccess:"always",allowNetworking:"all"},d);t.g.Y(d,function(a,c){h+='<param name="'+a+'" value="'+c+'" />'});e=t.g.z({data:a,width:"100%",height:"100%"},e);t.g.Y(e,function(a,c){k+=a+'="'+c+'" '});return'<object type="application/x-shockwave-flash"'+k+">"+h+"</object>"};t.f.de=function(a,c){return a+"&"+c};
t.f.Oc=function(a){var c={wb:"",Qb:""};if(!a)return c;var d=a.indexOf("&"),e;-1!==d?e=d+1:(d=e=a.lastIndexOf("/")+1,0===d&&(d=e=a.length));c.wb=a.substring(0,d);c.Qb=a.substring(e,a.length);return c};t.f.Dd=function(a){return a in t.f.Pc};t.f.dd=/^rtmp[set]?:\/\//i;t.f.Cd=function(a){return t.f.dd.test(a)};
t.cd=t.a.extend({i:function(a,c,d){t.a.call(this,a,c,d);if(!a.l.sources||0===a.l.sources.length){c=0;for(d=a.l.techOrder;c<d.length;c++){var e=t.ba(d[c]),g=window.videojs[e];if(g&&g.isSupported()){Q(a,e);break}}}else a.src(a.l.sources)}});t.Player.prototype.textTracks=function(){return this.Ea=this.Ea||[]};
function na(a,c,d,e,g){var h=a.Ea=a.Ea||[];g=g||{};g.kind=c;g.label=d;g.language=e;c=t.ba(c||"subtitles");var k=new window.videojs[c+"Track"](a,g);h.push(k);k.Ab()&&a.J(function(){setTimeout(function(){Y(k.j(),k.id())},0)})}function Y(a,c,d){for(var e=a.Ea,g=0,h=e.length,k,n;g<h;g++)k=e[g],k.id()===c?(k.show(),n=k):d&&(k.K()==d&&0<k.mode())&&k.disable();(c=n?n.K():d?d:l)&&a.k(c+"trackchange")}
t.B=t.a.extend({i:function(a,c){t.a.call(this,a,c);this.U=c.id||"vjs_"+c.kind+"_"+c.language+"_"+t.w++;this.Lc=c.src;this.qd=c["default"]||c.dflt;this.ge=c.title;this.Ua=c.srclang;this.Ed=c.label;this.ca=[];this.tb=[];this.ma=this.na=0}});s=t.B.prototype;s.K=p("H");s.src=p("Lc");s.Ab=p("qd");s.title=p("ge");s.language=p("Ua");s.label=p("Ed");s.md=p("ca");s.ed=p("tb");s.readyState=p("na");s.mode=p("ma");s.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-"+this.H+" vjs-text-track"})};
s.show=function(){oa(this);this.ma=2;t.a.prototype.show.call(this)};s.W=function(){oa(this);this.ma=1;t.a.prototype.W.call(this)};s.disable=function(){2==this.ma&&this.W();this.c.o("timeupdate",t.bind(this,this.update,this.U));this.c.o("ended",t.bind(this,this.reset,this.U));this.reset();this.c.ka("textTrackDisplay").removeChild(this);this.ma=0};
function oa(a){0===a.na&&a.load();0===a.ma&&(a.c.d("timeupdate",t.bind(a,a.update,a.U)),a.c.d("ended",t.bind(a,a.reset,a.U)),("captions"===a.H||"subtitles"===a.H)&&a.c.ka("textTrackDisplay").S(a))}s.load=function(){0===this.na&&(this.na=1,t.get(this.Lc,t.bind(this,this.Td),t.bind(this,this.Jd)))};s.Jd=function(a){this.error=a;this.na=3;this.k("error")};
s.Td=function(a){var c,d;a=a.split("\n");for(var e="",g=1,h=a.length;g<h;g++)if(e=t.trim(a[g])){-1==e.indexOf("--\x3e")?(c=e,e=t.trim(a[++g])):c=this.ca.length;c={id:c,index:this.ca.length};d=e.split(/[\t ]+/);c.startTime=pa(d[0]);c.xa=pa(d[2]);for(d=[];a[++g]&&(e=t.trim(a[g]));)d.push(e);c.text=d.join("<br/>");this.ca.push(c)}this.na=2;this.k("loaded")};
function pa(a){var c=a.split(":");a=0;var d,e,g;3==c.length?(d=c[0],e=c[1],c=c[2]):(d=0,e=c[0],c=c[1]);c=c.split(/\s+/);c=c.splice(0,1)[0];c=c.split(/\.|,/);g=parseFloat(c[1]);c=c[0];a+=3600*parseFloat(d);a+=60*parseFloat(e);a+=parseFloat(c);g&&(a+=g/1E3);return a}
s.update=function(){if(0<this.ca.length){var a=this.c.options().trackTimeOffset||0,a=this.c.currentTime()+a;if(this.Ob===b||a<this.Ob||this.Wa<=a){var c=this.ca,d=this.c.duration(),e=0,g=l,h=[],k,n,r,w;a>=this.Wa||this.Wa===b?w=this.Db!==b?this.Db:0:(g=f,w=this.Jb!==b?this.Jb:c.length-1);for(;;){r=c[w];if(r.xa<=a)e=Math.max(e,r.xa),r.Na&&(r.Na=l);else if(a<r.startTime){if(d=Math.min(d,r.startTime),r.Na&&(r.Na=l),!g)break}else g?(h.splice(0,0,r),n===b&&(n=w),k=w):(h.push(r),k===b&&(k=w),n=w),d=Math.min(d,
r.xa),e=Math.max(e,r.startTime),r.Na=f;if(g)if(0===w)break;else w--;else if(w===c.length-1)break;else w++}this.tb=h;this.Wa=d;this.Ob=e;this.Db=k;this.Jb=n;k=this.tb;n="";a=0;for(c=k.length;a<c;a++)n+='<span class="vjs-tt-cue">'+k[a].text+"</span>";this.b.innerHTML=n;this.k("cuechange")}}};s.reset=function(){this.Wa=0;this.Ob=this.c.duration();this.Jb=this.Db=0};t.Vb=t.B.extend();t.Vb.prototype.H="captions";t.cc=t.B.extend();t.cc.prototype.H="subtitles";t.Wb=t.B.extend();t.Wb.prototype.H="chapters";
t.ec=t.a.extend({i:function(a,c,d){t.a.call(this,a,c,d);if(a.l.tracks&&0<a.l.tracks.length){c=this.c;a=a.l.tracks;for(var e=0;e<a.length;e++)d=a[e],na(c,d.kind,d.label,d.language,d)}}});t.ec.prototype.e=function(){return t.a.prototype.e.call(this,"div",{className:"vjs-text-track-display"})};t.aa=t.I.extend({i:function(a,c){var d=this.ea=c.track;c.label=d.label();c.selected=d.Ab();t.I.call(this,a,c);this.c.d(d.K()+"trackchange",t.bind(this,this.update))}});
t.aa.prototype.r=function(){t.I.prototype.r.call(this);Y(this.c,this.ea.U,this.ea.K())};t.aa.prototype.update=function(){this.selected(2==this.ea.mode())};t.mb=t.aa.extend({i:function(a,c){c.track={K:function(){return c.kind},j:a,label:function(){return c.kind+" off"},Ab:q(l),mode:q(l)};t.aa.call(this,a,c);this.selected(f)}});t.mb.prototype.r=function(){t.aa.prototype.r.call(this);Y(this.c,this.ea.U,this.ea.K())};
t.mb.prototype.update=function(){for(var a=this.c.textTracks(),c=0,d=a.length,e,g=f;c<d;c++)e=a[c],e.K()==this.ea.K()&&2==e.mode()&&(g=l);this.selected(g)};t.V=t.M.extend({i:function(a,c){t.M.call(this,a,c);1>=this.P.length&&this.W()}});t.V.prototype.va=function(){var a=[],c;a.push(new t.mb(this.c,{kind:this.H}));for(var d=0;d<this.c.textTracks().length;d++)c=this.c.textTracks()[d],c.K()===this.H&&a.push(new t.aa(this.c,{track:c}));return a};
t.Ga=t.V.extend({i:function(a,c,d){t.V.call(this,a,c,d);this.b.setAttribute("aria-label","Captions Menu")}});t.Ga.prototype.H="captions";t.Ga.prototype.ta="Captions";t.Ga.prototype.className="vjs-captions-button";t.Ma=t.V.extend({i:function(a,c,d){t.V.call(this,a,c,d);this.b.setAttribute("aria-label","Subtitles Menu")}});t.Ma.prototype.H="subtitles";t.Ma.prototype.ta="Subtitles";t.Ma.prototype.className="vjs-subtitles-button";
t.Ha=t.V.extend({i:function(a,c,d){t.V.call(this,a,c,d);this.b.setAttribute("aria-label","Chapters Menu")}});s=t.Ha.prototype;s.H="chapters";s.ta="Chapters";s.className="vjs-chapters-button";s.va=function(){for(var a=[],c,d=0;d<this.c.textTracks().length;d++)c=this.c.textTracks()[d],c.K()===this.H&&a.push(new t.aa(this.c,{track:c}));return a};
s.wa=function(){for(var a=this.c.textTracks(),c=0,d=a.length,e,g,h=this.P=[];c<d;c++)if(e=a[c],e.K()==this.H)if(0===e.readyState())e.load(),e.d("loaded",t.bind(this,this.wa));else{g=e;break}a=this.Aa;a===b&&(a=new t.ha(this.c),a.ja().appendChild(t.e("li",{className:"vjs-menu-title",innerHTML:t.ba(this.H),ee:-1})));if(g){e=g.ca;for(var k,c=0,d=e.length;c<d;c++)k=e[c],k=new t.gb(this.c,{track:g,cue:k}),h.push(k),a.S(k);this.S(a)}0<this.P.length&&this.show();return a};
t.gb=t.I.extend({i:function(a,c){var d=this.ea=c.track,e=this.cue=c.cue,g=a.currentTime();c.label=e.text;c.selected=e.startTime<=g&&g<e.xa;t.I.call(this,a,c);d.d("cuechange",t.bind(this,this.update))}});t.gb.prototype.r=function(){t.I.prototype.r.call(this);this.c.currentTime(this.cue.startTime);this.update(this.cue.startTime)};t.gb.prototype.update=function(){var a=this.cue,c=this.c.currentTime();this.selected(a.startTime<=c&&c<a.xa)};
t.g.z(t.Ia.prototype.l.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});
if("undefined"!==typeof window.JSON&&"function"===window.JSON.parse)t.JSON=window.JSON;else{t.JSON={};var Z=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;t.JSON.parse=function(a,c){function d(a,e){var k,n,r=a[e];if(r&&"object"===typeof r)for(k in r)Object.prototype.hasOwnProperty.call(r,k)&&(n=d(r,k),n!==b?r[k]=n:delete r[k]);return c.call(a,e,r)}var e;a=String(a);Z.lastIndex=0;Z.test(a)&&(a=a.replace(Z,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));
if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}
t.ic=function(){var a,c,d,e;a=document.getElementsByTagName("video");c=document.getElementsByTagName("audio");var g=[];if(a&&0<a.length){d=0;for(e=a.length;d<e;d++)g.push(a[d])}if(c&&0<c.length){d=0;for(e=c.length;d<e;d++)g.push(c[d])}if(g&&0<g.length){d=0;for(e=g.length;d<e;d++)if((c=g[d])&&c.getAttribute)c.player===b&&(a=c.getAttribute("data-setup"),a!==j&&videojs(c));else{t.ub();break}}else t.Tc||t.ub()};t.ub=function(){setTimeout(t.ic,1)};
"complete"===document.readyState?t.Tc=f:t.Q(window,"load",function(){t.Tc=f});t.ub();t.Vd=function(a,c){t.Player.prototype[a]=c};var qa=this;function $(a,c){var d=a.split("."),e=qa;!(d[0]in e)&&e.execScript&&e.execScript("var "+d[0]);for(var g;d.length&&(g=d.shift());)!d.length&&c!==b?e[g]=c:e=e[g]?e[g]:e[g]={}};$("videojs",t);$("_V_",t);$("videojs.options",t.options);$("videojs.players",t.Ba);$("videojs.TOUCH_ENABLED",t.dc);$("videojs.cache",t.ua);$("videojs.Component",t.a);t.a.prototype.player=t.a.prototype.j;t.a.prototype.options=t.a.prototype.options;t.a.prototype.init=t.a.prototype.i;t.a.prototype.dispose=t.a.prototype.dispose;t.a.prototype.createEl=t.a.prototype.e;t.a.prototype.contentEl=t.a.prototype.ja;t.a.prototype.el=t.a.prototype.v;t.a.prototype.addChild=t.a.prototype.S;
t.a.prototype.getChild=t.a.prototype.ka;t.a.prototype.getChildById=t.a.prototype.xd;t.a.prototype.children=t.a.prototype.children;t.a.prototype.initChildren=t.a.prototype.vc;t.a.prototype.removeChild=t.a.prototype.removeChild;t.a.prototype.on=t.a.prototype.d;t.a.prototype.off=t.a.prototype.o;t.a.prototype.one=t.a.prototype.Q;t.a.prototype.trigger=t.a.prototype.k;t.a.prototype.triggerReady=t.a.prototype.Fa;t.a.prototype.show=t.a.prototype.show;t.a.prototype.hide=t.a.prototype.W;
t.a.prototype.width=t.a.prototype.width;t.a.prototype.height=t.a.prototype.height;t.a.prototype.dimensions=t.a.prototype.rd;t.a.prototype.ready=t.a.prototype.J;t.a.prototype.addClass=t.a.prototype.m;t.a.prototype.removeClass=t.a.prototype.p;t.a.prototype.buildCSSClass=t.a.prototype.T;t.a.prototype.localize=t.a.prototype.s;t.Player.prototype.ended=t.Player.prototype.ended;t.Player.prototype.enterFullWindow=t.Player.prototype.pc;t.Player.prototype.exitFullWindow=t.Player.prototype.Cb;
t.Player.prototype.preload=t.Player.prototype.Ca;t.Player.prototype.remainingTime=t.Player.prototype.remainingTime;t.Player.prototype.supportsFullScreen=t.Player.prototype.Da;t.Player.prototype.currentType=t.Player.prototype.nd;t.Player.prototype.requestFullScreen=t.Player.prototype.requestFullScreen;t.Player.prototype.requestFullscreen=t.Player.prototype.requestFullscreen;t.Player.prototype.cancelFullScreen=t.Player.prototype.cancelFullScreen;t.Player.prototype.exitFullscreen=t.Player.prototype.exitFullscreen;
t.Player.prototype.isFullScreen=t.Player.prototype.isFullScreen;t.Player.prototype.isFullscreen=t.Player.prototype.isFullscreen;$("videojs.MediaLoader",t.cd);$("videojs.TextTrackDisplay",t.ec);$("videojs.ControlBar",t.Ia);$("videojs.Button",t.t);$("videojs.PlayToggle",t.$b);$("videojs.FullscreenToggle",t.Ja);$("videojs.BigPlayButton",t.fb);$("videojs.LoadingSpinner",t.Yb);$("videojs.CurrentTimeDisplay",t.hb);$("videojs.DurationDisplay",t.ib);$("videojs.TimeDivider",t.fc);
$("videojs.RemainingTimeDisplay",t.pb);$("videojs.LiveDisplay",t.Xb);$("videojs.ErrorDisplay",t.jb);$("videojs.Slider",t.R);$("videojs.ProgressControl",t.ob);$("videojs.SeekBar",t.bc);$("videojs.LoadProgressBar",t.lb);$("videojs.PlayProgressBar",t.Zb);$("videojs.SeekHandle",t.La);$("videojs.VolumeControl",t.rb);$("videojs.VolumeBar",t.qb);$("videojs.VolumeLevel",t.gc);$("videojs.VolumeMenuButton",t.ra);$("videojs.VolumeHandle",t.sb);$("videojs.MuteToggle",t.ia);$("videojs.PosterImage",t.Ka);
$("videojs.Menu",t.ha);$("videojs.MenuItem",t.I);$("videojs.MenuButton",t.M);$("videojs.PlaybackRateMenuButton",t.ac);t.M.prototype.createItems=t.M.prototype.va;t.V.prototype.createItems=t.V.prototype.va;t.Ha.prototype.createItems=t.Ha.prototype.va;$("videojs.SubtitlesButton",t.Ma);$("videojs.CaptionsButton",t.Ga);$("videojs.ChaptersButton",t.Ha);$("videojs.MediaTechController",t.q);t.q.prototype.featuresVolumeControl=t.q.prototype.re;t.q.prototype.featuresFullscreenResize=t.q.prototype.ne;
t.q.prototype.featuresPlaybackRate=t.q.prototype.oe;t.q.prototype.featuresProgressEvents=t.q.prototype.pe;t.q.prototype.featuresTimeupdateEvents=t.q.prototype.qe;t.q.prototype.setPoster=t.q.prototype.Kc;$("videojs.Html5",t.h);t.h.Events=t.h.kb;t.h.isSupported=t.h.isSupported;t.h.canPlaySource=t.h.vb;t.h.patchCanPlayType=t.h.Cc;t.h.unpatchCanPlayType=t.h.ie;t.h.prototype.setCurrentTime=t.h.prototype.Pb;t.h.prototype.setVolume=t.h.prototype.ce;t.h.prototype.setMuted=t.h.prototype.$d;
t.h.prototype.setPreload=t.h.prototype.be;t.h.prototype.setAutoplay=t.h.prototype.Xd;t.h.prototype.setLoop=t.h.prototype.Zd;t.h.prototype.enterFullScreen=t.h.prototype.oc;t.h.prototype.exitFullScreen=t.h.prototype.ud;t.h.prototype.playbackRate=t.h.prototype.playbackRate;t.h.prototype.setPlaybackRate=t.h.prototype.ae;$("videojs.Flash",t.f);t.f.isSupported=t.f.isSupported;t.f.canPlaySource=t.f.vb;t.f.onReady=t.f.onReady;t.f.embed=t.f.nc;t.f.version=t.f.version;$("videojs.TextTrack",t.B);
t.B.prototype.label=t.B.prototype.label;t.B.prototype.kind=t.B.prototype.K;t.B.prototype.mode=t.B.prototype.mode;t.B.prototype.cues=t.B.prototype.md;t.B.prototype.activeCues=t.B.prototype.ed;$("videojs.CaptionsTrack",t.Vb);$("videojs.SubtitlesTrack",t.cc);$("videojs.ChaptersTrack",t.Wb);$("videojs.autoSetup",t.ic);$("videojs.plugin",t.Vd);$("videojs.createTimeRange",t.zb);$("videojs.util",t.ga);t.ga.mergeOptions=t.ga.Va;t.addLanguage=t.fd;})();

!function(){function addEventListener(element,event,cb){element.addEventListener?element.addEventListener(event,cb,!0):element.attachEvent(event,cb)}function setInnerText(element,text){if("undefined"==typeof element)return!1;var textProperty="innerText"in element?"innerText":"textContent";try{element[textProperty]=text}catch(anException){element.setAttribute("innerText",text)}}videojs.Youtube=videojs.MediaTechController.extend({init:function(player,options,ready){if(this.featuresProgressEvents=!1,this.featuresTimeupdateEvents=!1,videojs.MediaTechController.call(this,player,options,ready),this.isIos=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),this.isAndroid=/(Android)/g.test(navigator.userAgent),this.playVideoIsAllowed=!(this.isIos||this.isAndroid),"undefined"!=typeof options.source)for(var key in options.source)options.source.hasOwnProperty(key)&&(player.options()[key]=options.source[key]);this.userQuality=videojs.Youtube.convertQualityName(player.options().quality),this.player_=player,this.playerEl_=document.getElementById(player.id()),this.playerEl_.className+=" vjs-youtube",this.qualityButton=document.createElement("div"),this.qualityButton.setAttribute("class","vjs-quality-button vjs-menu-button vjs-control"),this.qualityButton.setAttribute("tabindex",0);var qualityContent=document.createElement("div");this.qualityButton.appendChild(qualityContent),this.qualityTitle=document.createElement("span"),qualityContent.appendChild(this.qualityTitle),"undefined"!==player.options().quality&&setInnerText(this.qualityTitle,player.options().quality||"auto");var qualityMenu=document.createElement("div");if(qualityMenu.setAttribute("class","vjs-menu"),this.qualityButton.appendChild(qualityMenu),this.qualityMenuContent=document.createElement("ul"),this.qualityMenuContent.setAttribute("class","vjs-menu-content"),qualityMenu.appendChild(this.qualityMenuContent),this.id_=this.player_.id()+"_youtube_api",this.el_=videojs.Component.prototype.createEl("iframe",{id:this.id_,className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0}),this.el_.setAttribute("allowFullScreen",""),this.playerEl_.insertBefore(this.el_,this.playerEl_.firstChild),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var ieVersion=Number(RegExp.$1);this.addIframeBlocker(ieVersion)}else/(iPad|iPhone|iPod|android)/g.test(navigator.userAgent)||(this.el_.className+=" onDesktop",this.addIframeBlocker());this.parseSrc(player.options().src),this.playOnReady=this.player_.options().autoplay||!1,this.forceSSL=!("undefined"!=typeof this.player_.options().forceSSL&&this.player_.options().forceSSL!==!0),this.forceHTML5=!("undefined"!=typeof this.player_.options().forceHTML5&&this.player_.options().forceHTML5!==!0),this.updateIframeSrc();var self=this;player.ready(function(){var controlBar=self.playerEl_.querySelectorAll(".vjs-control-bar")[0];controlBar.appendChild(self.qualityButton),self.playOnReady&&!self.player_.options().ytcontrols&&("undefined"!=typeof self.player_.loadingSpinner&&self.player_.loadingSpinner.show(),"undefined"!=typeof self.player_.bigPlayButton&&self.player_.bigPlayButton.hide()),player.trigger("loadstart")}),this.on("dispose",function(){this.ytplayer&&this.ytplayer.destroy(),this.player_.options().ytcontrols||this.player_.off("waiting",this.bindedWaiting),this.playerEl_.querySelectorAll(".vjs-poster")[0].style.backgroundImage="none",this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.qualityButton.parentNode&&this.qualityButton.parentNode.removeChild(this.qualityButton),"undefined"!=typeof this.player_.loadingSpinner&&this.player_.loadingSpinner.hide(),"undefined"!=typeof this.player_.bigPlayButton&&this.player_.bigPlayButton.hide(),this.iframeblocker&&this.playerEl_.removeChild(this.iframeblocker)})}}),videojs.Youtube.prototype.updateIframeSrc=function(){var params={enablejsapi:1,iv_load_policy:3,playerapiid:this.id(),disablekb:1,wmode:"transparent",controls:this.player_.options().ytcontrols?1:0,html5:this.player_.options().forceHTML5?1:null,playsinline:this.player_.options().playsInline?1:0,showinfo:0,rel:0,autoplay:this.playOnReady?1:0,loop:this.player_.options().loop?1:0,list:this.playlistId,vq:this.userQuality,origin:window.location.protocol+"//"+window.location.host};"file:"===window.location.protocol&&delete params.origin;for(var prop in params)!params.hasOwnProperty(prop)||"undefined"!=typeof params[prop]&&null!==params[prop]||delete params[prop];var self=this;if(null===this.videoId)this.el_.src="about:blank",setTimeout(function(){self.triggerReady()},500);else if(this.el_.src=(this.forceSSL||"file:"===window.location.protocol?"https:":window.location.protocol)+"//www.youtube.com/embed/"+this.videoId+"?"+videojs.Youtube.makeQueryString(params),this.player_.options().ytcontrols?this.player_.controls(!1):"undefined"==typeof this.player_.poster()&&setTimeout(function(){var posterEl=self.playerEl_.querySelectorAll(".vjs-poster")[0];posterEl.style.backgroundImage="url(https://img.youtube.com/vi/"+self.videoId+"/0.jpg)",posterEl.style.display=""},100),this.bindedWaiting=function(){self.onWaiting()},this.player_.on("waiting",this.bindedWaiting),videojs.Youtube.apiReady)this.loadYoutube();else if(videojs.Youtube.loadingQueue.push(this),!videojs.Youtube.apiLoading){var tag=document.createElement("script");tag.onerror=function(e){self.onError(e)},tag.src=this.forceSSL||"file:"===window.location.protocol?"https://www.youtube.com/iframe_api":"//www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),videojs.Youtube.apiLoading=!0}},videojs.Youtube.prototype.onWaiting=function(){this.player_.bigPlayButton.hide()},videojs.Youtube.prototype.addIframeBlocker=function(ieVersion){this.iframeblocker=videojs.Component.prototype.createEl("div"),this.iframeblocker.className="iframeblocker",this.iframeblocker.style.position="absolute",this.iframeblocker.style.left=0,this.iframeblocker.style.right=0,this.iframeblocker.style.top=0,this.iframeblocker.style.bottom=0,this.iframeblocker.style.zIndex=9999,ieVersion&&9>ieVersion?this.iframeblocker.style.opacity=.01:this.iframeblocker.style.background="rgba(255, 255, 255, 0.01)";var self=this;addEventListener(this.iframeblocker,"mousemove",function(e){self.player_.userActive()||self.player_.userActive(!0),e.stopPropagation(),e.preventDefault()}),addEventListener(this.iframeblocker,"click",function(){self.paused()?self.play():self.pause()}),this.playerEl_.insertBefore(this.iframeblocker,this.el_.nextSibling)},videojs.Youtube.prototype.parseSrc=function(src){if(this.srcVal=src,src){var regId=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,match=src.match(regId);this.videoId=match&&11===match[2].length?match[2]:null;var regPlaylist=/[?&]list=([^#\&\?]+)/;match=src.match(regPlaylist),null!==match&&match.length>1?this.playlistId=match[1]:this.playlistId&&delete this.playlistId;var regVideoQuality=/[?&]vq=([^#\&\?]+)/;match=src.match(regVideoQuality),null!==match&&match.length>1&&(this.userQuality=match[1],setInnerText(this.qualityTitle,videojs.Youtube.parseQualityName(this.userQuality)))}},videojs.Youtube.prototype.src=function(src){if("undefined"!=typeof src){if(this.parseSrc(src),"about:blank"===this.el_.src)return void this.updateIframeSrc();delete this.defaultQuality,null!==this.videoId&&(this.player_.options().autoplay&&this.playVideoIsAllowed?this.ytplayer.loadVideoById({videoId:this.videoId,suggestedQuality:this.userQuality}):this.ytplayer.cueVideoById({videoId:this.videoId,suggestedQuality:this.userQuality}),this.playerEl_.querySelectorAll(".vjs-poster")[0].style.backgroundImage="url(https://img.youtube.com/vi/"+this.videoId+"/0.jpg)",this.player_.poster("https://img.youtube.com/vi/"+this.videoId+"/0.jpg"))}return this.srcVal},videojs.Youtube.prototype.load=function(){},videojs.Youtube.prototype.play=function(){null!==this.videoId&&(this.player_.options().ytcontrols||this.player_.trigger("waiting"),this.isReady_?(this.ytplayer.setVolume(100*this.player_.volume()),this.volumeVal>0?this.ytplayer.unMute():this.ytplayer.mute(),this.playVideoIsAllowed&&this.ytplayer.playVideo()):this.playOnReady=!0)},videojs.Youtube.prototype.pause=function(){this.ytplayer.pauseVideo()},videojs.Youtube.prototype.paused=function(){return this.ytplayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0},videojs.Youtube.prototype.currentTime=function(){return this.ytplayer&&this.ytplayer.getCurrentTime?this.ytplayer.getCurrentTime():0},videojs.Youtube.prototype.setCurrentTime=function(seconds){this.ytplayer.seekTo(seconds,!0),this.player_.trigger("timeupdate")},videojs.Youtube.prototype.duration=function(){return this.ytplayer&&this.ytplayer.getDuration?this.ytplayer.getDuration():0},videojs.Youtube.prototype.currentSrc=function(){return this.srcVal},videojs.Youtube.prototype.ended=function(){return this.ytplayer?this.lastState===YT.PlayerState.ENDED:!1},videojs.Youtube.prototype.volume=function(){return this.ytplayer&&isNaN(this.volumeVal)&&(this.volumeVal=this.ytplayer.getVolume()/100,this.player_.volume(this.volumeVal)),this.volumeVal},videojs.Youtube.prototype.setVolume=function(percentAsDecimal){"undefined"!=typeof percentAsDecimal&&percentAsDecimal!==this.volumeVal&&(this.ytplayer.setVolume(100*percentAsDecimal),this.volumeVal=percentAsDecimal,this.player_.trigger("volumechange"))},videojs.Youtube.prototype.muted=function(){return this.mutedVal},videojs.Youtube.prototype.setMuted=function(muted){muted?(this.storedVolume=this.volumeVal,this.ytplayer.mute(),this.player_.volume(0)):(this.ytplayer.unMute(),this.player_.volume(this.storedVolume)),this.mutedVal=muted,this.player_.trigger("volumechange")},videojs.Youtube.prototype.buffered=function(){if(this.ytplayer&&this.ytplayer.getVideoBytesLoaded){var loadedBytes=this.ytplayer.getVideoBytesLoaded(),totalBytes=this.ytplayer.getVideoBytesTotal();if(!loadedBytes||!totalBytes)return 0;var duration=this.ytplayer.getDuration(),secondsBuffered=loadedBytes/totalBytes*duration,secondsOffset=this.ytplayer.getVideoStartBytes()/totalBytes*duration;return videojs.createTimeRange(secondsOffset,secondsOffset+secondsBuffered)}return videojs.createTimeRange(0,0)},videojs.Youtube.prototype.supportsFullScreen=function(){return"function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(videojs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(videojs.USER_AGENT)?!1:!0},videojs.Youtube.isSupported=function(){return!0},videojs.Youtube.canPlaySource=function(srcObj){return"video/youtube"===srcObj.type},videojs.Youtube.canControlVolume=function(){return!0},videojs.Youtube.loadingQueue=[],videojs.Youtube.prototype.loadYoutube=function(){this.ytplayer=new YT.Player(this.id_,{events:{onReady:function(e){e.target.vjsTech.onReady()},onStateChange:function(e){e.target.vjsTech.onStateChange(e.data)},onPlaybackQualityChange:function(e){e.target.vjsTech.onPlaybackQualityChange(e.data)},onError:function(e){e.target.vjsTech.onError(e.data)}}}),this.ytplayer.vjsTech=this},videojs.Youtube.makeQueryString=function(args){var array=["modestbranding=1"];for(var key in args)args.hasOwnProperty(key)&&array.push(key+"="+args[key]);return array.join("&")},window.onYouTubeIframeAPIReady=function(){for(var yt;yt=videojs.Youtube.loadingQueue.shift();)yt.loadYoutube();videojs.Youtube.loadingQueue=[],videojs.Youtube.apiReady=!0},videojs.Youtube.prototype.onReady=function(){this.isReady_=!0,this.triggerReady(),this.player_.trigger("loadedmetadata"),this.player_.trigger("durationchange"),this.player_.trigger("timeupdate"),"undefined"==typeof this.player_.loadingSpinner||this.isIos||this.isAndroid||this.player_.loadingSpinner.hide(),this.player_.options().muted&&this.setMuted(!0),this.playOnReady&&(this.playOnReady=!1,this.play())},videojs.Youtube.prototype.updateQualities=function(){function setupEventListener(el){addEventListener(el,"click",function(){var quality=this.getAttribute("data-val");self.ytplayer.setPlaybackQuality(quality),self.userQuality=quality,setInnerText(self.qualityTitle,videojs.Youtube.parseQualityName(quality));var selected=self.qualityMenuContent.querySelector(".vjs-selected");selected&&videojs.Youtube.removeClass(selected,"vjs-selected"),videojs.Youtube.addClass(this,"vjs-selected")})}var qualities=this.ytplayer.getAvailableQualityLevels(),self=this;if(qualities.indexOf(this.userQuality)<0&&setInnerText(self.qualityTitle,videojs.Youtube.parseQualityName(this.defaultQuality)),0===qualities.length)this.qualityButton.style.display="none";else{for(this.qualityButton.style.display="";this.qualityMenuContent.hasChildNodes();)this.qualityMenuContent.removeChild(this.qualityMenuContent.lastChild);for(var i=0;i<qualities.length;++i){var el=document.createElement("li");el.setAttribute("class","vjs-menu-item"),setInnerText(el,videojs.Youtube.parseQualityName(qualities[i])),el.setAttribute("data-val",qualities[i]),qualities[i]===this.quality&&videojs.Youtube.addClass(el,"vjs-selected"),setupEventListener(el),this.qualityMenuContent.appendChild(el)}}},videojs.Youtube.prototype.onStateChange=function(state){if(state!==this.lastState){switch(state){case-1:this.player_.trigger("durationchange");break;case YT.PlayerState.ENDED:this.player_.options().ytcontrols||(this.playerEl_.querySelectorAll(".vjs-poster")[0].style.display="block","undefined"!=typeof this.player_.bigPlayButton&&this.player_.bigPlayButton.show()),this.player_.trigger("ended");break;case YT.PlayerState.PLAYING:this.playVideoIsAllowed=!0,this.updateQualities(),this.player_.trigger("timeupdate"),this.player_.trigger("durationchange"),this.player_.trigger("playing"),this.player_.trigger("play");break;case YT.PlayerState.PAUSED:this.player_.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.options().ytcontrols||this.player_.trigger("waiting");break;case YT.PlayerState.CUED:}this.lastState=state}},videojs.Youtube.convertQualityName=function(name){switch(name){case"144p":return"tiny";case"240p":return"small";case"360p":return"medium";case"480p":return"large";case"720p":return"hd720";case"1080p":return"hd1080"}return"auto"},videojs.Youtube.parseQualityName=function(name){switch(name){case"tiny":return"144p";case"small":return"240p";case"medium":return"360p";case"large":return"480p";case"hd720":return"720p";case"hd1080":return"1080p"}return"auto"},videojs.Youtube.prototype.onPlaybackQualityChange=function(quality){if("undefined"!=typeof this.defaultQuality||(this.defaultQuality=quality,"undefined"==typeof this.userQuality)){switch(this.quality=quality,setInnerText(this.qualityTitle,videojs.Youtube.parseQualityName(quality)),quality){case"medium":this.player_.videoWidth=480,this.player_.videoHeight=360;break;case"large":this.player_.videoWidth=640,this.player_.videoHeight=480;break;case"hd720":this.player_.videoWidth=960,this.player_.videoHeight=720;break;case"hd1080":this.player_.videoWidth=1440,this.player_.videoHeight=1080;break;case"highres":this.player_.videoWidth=1920,this.player_.videoHeight=1080;break;case"small":this.player_.videoWidth=320,this.player_.videoHeight=240;break;case"tiny":this.player_.videoWidth=144,this.player_.videoHeight=108;break;default:this.player_.videoWidth=0,this.player_.videoHeight=0}this.player_.trigger("ratechange")}},videojs.Youtube.prototype.onError=function(error){this.player_.error(error),(100===error||101===error||150===error)&&(this.player_.bigPlayButton.hide(),this.player_.loadingSpinner.hide(),this.player_.posterImage.hide())},videojs.Youtube.addClass=function(element,classToAdd){-1===(" "+element.className+" ").indexOf(" "+classToAdd+" ")&&(element.className=""===element.className?classToAdd:element.className+" "+classToAdd)},videojs.Youtube.removeClass=function(element,classToRemove){var classNames,i;if(-1!==element.className.indexOf(classToRemove)){for(classNames=element.className.split(" "),i=classNames.length-1;i>=0;i--)classNames[i]===classToRemove&&classNames.splice(i,1);element.className=classNames.join(" ")}};var style=document.createElement("style"),def=" .vjs-youtube .vjs-poster { background-size: 100%!important; }.vjs-youtube .vjs-poster, .vjs-youtube .vjs-loading-spinner, .vjs-youtube .vjs-big-play-button, .vjs-youtube .vjs-text-track-display{ pointer-events: none !important; }.vjs-youtube.vjs-user-active .iframeblocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-tech.onDesktop { pointer-events: none; }.vjs-quality-button > div:first-child > span:first-child { position:relative;top:7px }";style.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(style),style.styleSheet?style.styleSheet.cssText=def:style.appendChild(document.createTextNode(def)),Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length>>>0,from=Number(arguments[1])||0;for(from=0>from?Math.ceil(from):Math.floor(from),0>from&&(from+=len);len>from;from++)if(from in this&&this[from]===elt)return from;return-1})}();
player.define("videojsyoutube", function(){});

var VimeoState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3};
videojs.Vimeo=videojs.MediaTechController.extend({init:function(a,d,e){videojs.MediaTechController.call(this,a,d,e);this.player_=a;this.player_el_=document.getElementById(this.player_.id());this.player_.controls(!1);this.id_=this.player_.id()+"_vimeo_api";this.el_=videojs.Component.prototype.createEl("iframe",{id:this.id_,className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0,webkitAllowFullScreen:"true",mozallowfullscreen:"true",allowFullScreen:"true"});this.player_el_.insertBefore(this.el_,
this.player_el_.firstChild);this.baseUrl="https"==document.location.protocol?"https://secure.vimeo.com/video/":"http://player.vimeo.com/video/";this.vimeo={};this.vimeoInfo={};var h=this;this.el_.onload=function(){h.onLoad()};this.startMuted=a.options().muted;this.src(a.options().src)}});videojs.Vimeo.prototype.dispose=function(){this.vimeo.api("unload");delete this.vimeo;this.el_.parentNode.removeChild(this.el_);videojs.MediaTechController.prototype.dispose.call(this)};
videojs.Vimeo.prototype.src=function(a){this.isReady_=!1;if(a=a.match(/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/))this.videoId=a[5];a={api:1,byline:0,portrait:0,show_title:0,show_byline:0,show_portait:0,fullscreen:1,player_id:this.id_,autoplay:this.player_.options().autoplay?1:0,loop:this.player_.options().loop?1:0};this.el_.src=this.baseUrl+this.videoId+"?"+videojs.Vimeo.makeQueryString(a)};videojs.Vimeo.prototype.load=function(){};
videojs.Vimeo.prototype.play=function(){this.vimeo.api("play")};videojs.Vimeo.prototype.pause=function(){this.vimeo.api("pause")};videojs.Vimeo.prototype.paused=function(){return this.lastState!==VimeoState.PLAYING&&this.lastState!==VimeoState.BUFFERING};videojs.Vimeo.prototype.currentTime=function(){return this.vimeoInfo.time||0};videojs.Vimeo.prototype.setCurrentTime=function(a){this.vimeo.api("seekTo",a);this.player_.trigger("timeupdate")};
videojs.Vimeo.prototype.duration=function(){return this.vimeoInfo.duration||0};videojs.Vimeo.prototype.buffered=function(){return videojs.createTimeRange(0,this.vimeoInfo.buffered||0)};videojs.Vimeo.prototype.volume=function(){return this.vimeoInfo.muted?this.vimeoInfo.muteVolume:this.vimeoInfo.volume};videojs.Vimeo.prototype.setVolume=function(a){this.vimeo.api("setvolume",a);this.vimeoInfo.volume=a;this.player_.trigger("volumechange")};
videojs.Vimeo.prototype.muted=function(){return this.vimeoInfo.muted||!1};videojs.Vimeo.prototype.setMuted=function(a){a?(this.vimeoInfo.muteVolume=this.vimeoInfo.volume,this.setVolume(0)):this.setVolume(this.vimeoInfo.muteVolume);this.vimeoInfo.muted=a;this.player_.trigger("volumechange")};videojs.Vimeo.prototype.onReady=function(){this.isReady_=!0;this.triggerReady();this.startMuted&&(this.setMuted(!0),this.startMuted=!1)};
videojs.Vimeo.prototype.onLoad=function(){this.vimeo.api&&(this.vimeo.api("unload"),delete this.vimeo);this.vimeo=$f(this.el_);this.vimeoInfo={state:VimeoState.UNSTARTED,volume:1,muted:!1,muteVolume:1,time:0,duration:0,buffered:0,url:this.baseUrl+this.videoId,error:null};var a=this;this.vimeo.addEvent("ready",function(d){a.onReady()});this.vimeo.addEvent("loadProgress",function(d,e){a.onLoadProgress(d)});this.vimeo.addEvent("playProgress",function(d,e){a.onPlayProgress(d)});this.vimeo.addEvent("play",
function(d){a.onPlay()});this.vimeo.addEvent("pause",function(d){a.onPause()});this.vimeo.addEvent("finish",function(d){a.onFinish()});this.vimeo.addEvent("seek",function(d,e){a.onSeek(d)})};videojs.Vimeo.prototype.onLoadProgress=function(a){var d=!this.vimeoInfo.duration;this.vimeoInfo.duration=a.duration;this.vimeoInfo.buffered=a.percent;this.player_.trigger("progress");d&&this.player_.trigger("durationchange")};videojs.Vimeo.prototype.onPlayProgress=function(a){this.vimeoInfo.time=a.seconds;this.player_.trigger("timeupdate")};
videojs.Vimeo.prototype.onPlay=function(){this.vimeoInfo.state=VimeoState.PLAYING;this.player_.trigger("play")};videojs.Vimeo.prototype.onPause=function(){this.vimeoInfo.state=VimeoState.PAUSED;this.player_.trigger("pause")};videojs.Vimeo.prototype.onFinish=function(){this.vimeoInfo.state=VimeoState.ENDED;this.player_.trigger("ended")};videojs.Vimeo.prototype.onSeek=function(a){this.vimeoInfo.time=a.seconds;this.player_.trigger("timeupdate");this.player_.trigger("seeked")};
videojs.Vimeo.prototype.onError=function(a){this.player_.error=a;this.player_.trigger("error")};videojs.Vimeo.isSupported=function(){return!0};videojs.Vimeo.prototype.supportsFullScreen=function(){return!1};videojs.Vimeo.canPlaySource=function(a){return"video/vimeo"==a.type};videojs.Vimeo.makeQueryString=function(a){var d=[],e;for(e in a)a.hasOwnProperty(e)&&d.push(encodeURIComponent(e)+"="+encodeURIComponent(a[e]));return d.join("&")};
var Froogaloop=function(){function a(m){return new a.fn.init(m)}function d(a,c,b){if(!b.contentWindow.postMessage)return!1;var d=b.getAttribute("src").split("?")[0];a=JSON.stringify({method:a,value:c});"//"===d.substr(0,2)&&(d=window.location.protocol+d);b.contentWindow.postMessage(a,d)}function e(a){var c,b;try{c=JSON.parse(a.data),b=c.event||c.method}catch(d){}"ready"!=b||k||(k=!0);if(a.origin!=l)return!1;a=c.value;var e=c.data,g=""===g?null:c.player_id;c=g?f[g][b]:f[b];b=[];if(!c)return!1;void 0!==
a&&b.push(a);e&&b.push(e);g&&b.push(g);return 0<b.length?c.apply(null,b):c.call()}function h(a,c,b){b?(f[b]||(f[b]={}),f[b][a]=c):f[a]=c}var f={},k=!1,l="";a.fn=a.prototype={element:null,init:function(a){"string"===typeof a&&(a=document.getElementById(a));this.element=a;a=this.element.getAttribute("src");"//"===a.substr(0,2)&&(a=window.location.protocol+a);a=a.split("/");for(var c="",b=0,d=a.length;b<d;b++){if(3>b)c+=a[b];else break;2>b&&(c+="/")}l=c;return this},api:function(a,c){if(!this.element||
!a)return!1;var b=this.element,e=""!==b.id?b.id:null,f=c&&c.constructor&&c.call&&c.apply?null:c,g=c&&c.constructor&&c.call&&c.apply?c:null;g&&h(a,g,e);d(a,f,b);return this},addEvent:function(a,c){if(!this.element)return!1;var b=this.element,e=""!==b.id?b.id:null;h(a,c,e);"ready"!=a?d("addEventListener",a,b):"ready"==a&&k&&c.call(null,e);return this},removeEvent:function(a){if(!this.element)return!1;var c=this.element,b=""!==c.id?c.id:null;a:{if(b&&f[b]){if(!f[b][a]){b=!1;break a}f[b][a]=null}else{if(!f[a]){b=
!1;break a}f[a]=null}b=!0}"ready"!=a&&b&&d("removeEventListener",a,c)}};a.fn.init.prototype=a.fn;window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e);return window.Froogaloop=window.$f=a}();
player.define("videojsvimeo", function(){});

/* 
Para recursos de inicializao dinmica onde precisamos inicializar um plugin para obter a visualizao
final de um recursos criamos um modulo de inicializao geral que deve ser usado tando para player quando 
para o editor.

Cuidados devem ser tomados pois o escopo das duas chamadas  diferente
*/
player.define('../../../../_baseClient/_base/js/desktop/resources/audio/generalInit',[
	"videojs",
	'videojsyoutube',
	'videojsvimeo'
], function(videojs, videojsyoutube, videojsvimeo) {
	var init = function(source) { //source  a flag que indica a origem da chamada: "player" || "editor"
		console.log('[rec]audio [method]init [var]this, source', this, source);
		
		var me = this,
			data = me.model ? me.model.toJSON() : me.data,
			$el = me.$el,
			el_html = $el.html();

		this.renderAudiojs = function() {

			if (source === "player") {
				// reset content
				$el.html(el_html);
			}

			var el = $el.find('audio')[0],
				player;

			if (!data.src) {
				player = videojs(el);

			} else {
				player = videojs(el, {
					src: data.src,
					techOrder: ['html5', 'flash'],
					controls: true
				});

				player.src({
					type: data.type,
					src: data.src
				});
			}

			me.$el.toggleClass('noContent', !data.src);
			return player;
		}

		if (source === "player") {
			Player.Elements.$content.on({
				contentReady: function() {
					me.player = me.renderAudiojs();
				}
			});
		} else {
			me.renderAudiojs();
		}
	}

	return init;
});

player.define('text!../../../../_baseClient/_base/js/desktop/resources/multimedia/template.html',[],function () { return '<div id="{{_id}}" class="{{class}} {{^src}}noContent{{/src}}" style="{{style}}" >\n\t<iframe src="{{#src}} {{src}} {{/src}}" width="100%" height="100%" style="border: 0px;">\n\t\t<p>Your browser does not support iframes.</p>\n\t</iframe>\n\t\t\t\t\t\n\t<div class="bgMultimediaIEfix"></div>\n\t<span class="glyphicon glyphicon-edit"></span>\n</div>\n';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/multimedia/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recVideoPicker" class="editionBlock" data-position="left top+10|left bottom">\n\t\t<div class="mbTypeVideoBox">\n\n\t\t\t<div id="editionVideoSource" class="btn-group" >\n\t\t\t\t<button id="editionExternalLink" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="(" class="icon"></div>\n\t\t\t\t\t<span>Inserir Link</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="recMultimediaPicker" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="r" class="icon"></div>\n\t\t\t\t\t<span>Escolher arquivo</span>\n\t\t\t\t</button>\t\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class="input-group mbInputMultBox" style="display: none">\n\t\t\t\t<input id="editionMultURL" type="text" class="form-control mbInputMult" placeholder="Insira um link aqui...">\n\t\t\t\t<span class="input-group-btn okBtnInputMult">\n\t\t\t\t\t<button id="editionVideoOk" class="btn btn-default" type="button">OK</button>\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\t\n<!-- </div> -->\n\n';});


player.define("json!../../../../_baseClient/_base/js/desktop/resources/multimedia/config.json", function(){ return {
	"defaults": {
		"template": "multimedia",
		"src": "",
		"styleObj": {
			"position": "absolute",
			"width": "283px",
			"height": "208px",
			"top": "36px",
			"left": "52px"
		}
	},

	"validators": [
		"_template === multimedia"
	],

	"editor": {
		"restrictions": {
			"width": true,
			"height": true,
			"top": true,
			"left": true
		}
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/resources/multimedia/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization imagem -------', this);
			var me = this;

			this.addElements({
				'multimediaPicker': '#recMultimediaPicker',
				'URL': '#editionVideoURL',
				'ok': '#editionVideoOk',
				'addLinkMultBtn': '#editionExternalLink',
				'inputMultBox': '.mbInputMultBox',
				'editionMultURL': '#editionMultURL'
			});

			this.events = _.extend(this.events, {
				'click _multimediaPicker': 'fileManeger',
				'click _ok': 'setSource',
				'click _addLinkMultBtn': 'addExternalLink'
			});

			_.bindAll(this, 'handlerPickedMultimedia');

			/*
			Processo de renderizao ir ocorrer aps o encerramento das aes de inicializao
 			*/
		},

		showing: function() {
			console.log('showing texto', this);
			var me = this,
				model = me.recView.model;

			this.recView.delegateEvents();
		},

		addExternalLink: function() {
			var me = this,
				$btnInsertLink = this.elems.$addLinkMultBtn,
				$inputMultBox = this.elems.$inputMultBox;

			if ($btnInsertLink.hasClass('actived')) {
				$btnInsertLink.removeClass('actived');
			} else {
				$btnInsertLink.addClass('actived');
			}

			$inputMultBox
				.toggle();
		},

		setSource: function() {
			var me = this,
				model = me.recView.model,
				$editionMultURL = me.elems.$editionMultURL,
				value = $editionMultURL.val();

			console.log('[rec]multimedia [method]setSource [var]value: ', value, me);
			model.set('src', value);
		},

		fileManeger: function() {
			var fileManager = window.Editor.Views.Modals.fileManager;

			fileManager.show({
				type: 2,
				callback: this.handlerPickedMultimedia
			});
		},

		handlerPickedMultimedia: function(data) {
			console.log('[rec]audio [method]handlerPickedMultimedia: ', data);
			var me = this,
				recView = this.recView,
				url = data.path,
				folder = url.substr(0, url.lastIndexOf('/') + 1),
				file = url.substr(url.lastIndexOf('/') + 1),
				model = this.recView.model;

			/* funo que copia para s3 os arquivos do curso e percisa do modelo do recurso, 
			path para arquivo a ser copiado e atributo que vai ser alterado na finalizao */

			me.copyToS3({
				entity: "resources",
				type: "external",
				model: model,
				src: folder,
				attr: "src",
				callback: function(data) {
					model.set('src', data.dest + "/" + file);
				}
			});
		}
	};

	return View;
});

player.define('text!../../../../_baseClient/_base/js/desktop/resources/caixaDestaque/template.html',[],function () { return '<div id="{{_id}}" class="{{class}} {{type}}" style="{{style}}">\n\t<div class="iconDestaque"></div>\n\t<div class="tituloCaixaDestaque">\n\t\t<h2 id="cdTitle">{{&title}}</h2>\n\t</div>\n\t<div class="textoCaixaDestaque">\n\t\t<div class="tagP" id="cdContent">{{&content}}</div>\n\t</div>\n</div>';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/caixaDestaque/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="cdEditBox" class="editionBlock" data-position="left+5 top|right top">\n\t\t<div class="mbTypeSpotLight editionGroud" data-attr="type">\n\t\t\t<button id="cdAtencao" type="button" class="btn btn-default" value="atencao">\n\t\t\t\t<div data-icon="l" class="icon"></div>\n\t\t\t\t<span>ATENO</span>\n\t\t\t</button>\n\t\t\t<button id="cdInfo" type="button" class="btn btn-default" value="informacao">\n\t\t\t\t<div data-icon="m" class="icon"></div>\n\t\t\t\t<span>INFO</span>\n\t\t\t</button>\n\t\t\t<button id="cdPrograme" type="button" class="btn btn-default" value="programe-se">\n\t\t\t\t<div data-icon="n" class="icon"></div>\n\t\t\t\t<span>PROGRAME-SE</span>\n\t\t\t</button>\n\t\t\t<button id="cdObjectivo" type="button" class="btn btn-default" value="objetivo">\n\t\t\t\t<div data-icon="o" class="icon"></div>\n\t\t\t\t<span>OBJETIVO</span>\n\t\t\t</button>\n\t\t\t<button id="cdImportante" type="button" class="btn btn-default" value="importante">\n\t\t\t\t<div data-icon="I" class="icon"></div>\n\t\t\t\t<span>IMPORTANTE</span>\n\t\t\t</button>\n\t\t\t<button id="cdSaiba" type="button" class="btn btn-default" value="saibaMais">\n\t\t\t\t<div data-icon="p" class="icon"></div>\n\t\t\t\t<span>SAIBA MAIS</span>\n\t\t\t</button>\n\t\t\t<button id="cdPratique" type="button" class="btn btn-default" value="pratique">\n\t\t\t\t<div data-icon="-" class="icon"></div>\n\t\t\t\t<span>PRATIQUE</span>\n\t\t\t</button>\n\t\t\t<button id="cdDica" type="button" class="btn btn-default" value="dica">\n\t\t\t\t<div data-icon="q" class="icon"></div>\n\t\t\t\t<span>DICAS</span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n<!-- </div> -->';});


player.define("json!../../../../_baseClient/_base/js/desktop/resources/caixaDestaque/config.json", function(){ return {
	"defaults": {
		"template": "caixaDestaque",
		"type": "atencao",
		"title": "Ateno",
		"content": "Lorem ipsum Ut exercitation deserunt velit fugiat elit quis nostrud id irure ullamco Excepteur sint sit est consequat exercitation sit.",
		"styleObj": {
			"position": "absolute",
			"width": "283px",
			"top": "36px",
			"left": "51px"
		}
	},

	"validators": [
		"_styleObj.height === undefined",
		"_template === caixaDestaque"
	],

	"editor": {
		"restrictions": {			
			"width": true,
			"height": false,
			"top": true,
			"left": true
		}
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/resources/caixaDestaque/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral
		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/
		initializating: function(e) {
			console.log('initialization caixa de destaque: -------', this);
			var me = this;

			this.addElements({
				"btsContainer": ".mbTypeSpotLight"
			});

			console.log(this, this.recView);

			/*
			Processo de renderizao ir ocorrer aps o encerramento das aes de inicializao
 			*/
		},

		showing: function() {
			console.log('showing');
			var me = this,
				model = me.recView.model;

			/*
			Na exibio de um editor de recursos, so atribuidos os elementos e eventos que sero precisos que a view do recurso tenha
			**** LEMBRAR RETIRAR OS EVENTOS AO ESCONDER O EDITOR '#1' ****
			*/
			this.recView.addElements.call(this.recView, {
				'title': '#cdTitle',
				'content': '#cdContent'
			});

			this.recView.addEvents.call(this.recView, {
				'click _title': me.editTitle,
				'click _content': me.editContent
			});
		},

		hiding: function() {
			console.log('hiding');
			var me = this,
				$title = me.recView.elems.$title,
				$content = me.recView.elems.$content;

			/*
			#1 Retirado eventos inseridos nos elementos do recurso a ser editado
			*/
			this.recView.removeElements.call(this.recView, [
				'title',
				'content'
			]);

			this.recView.removeEvents.call(this.recView, [
				'click _title',
				'click _content'
			]);
		},

		editTitle: function() {
			// console.log('editTitle', this);

			var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
				//Pametros necessrios para que o metodo de textEdition funcione
				params = {
					$el: me.recView.elems.$title, //Elemento wrapped pelo jquery
					attr: 'title', //atributo do modelo
					textEditor: {
						options: [ //opes do editor de texto
							'italic',
							'underline',
							'removeFormat',
							'link',
							'spellchecker'
						]
					}
				};

			//Metodo que  exposto para edio de textos
			me.textEdition(params);
		},

		editContent: function() {
			console.log('editContent ------- ');

			var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
				//Pametros necessrios para que o metodo de textEdition funcione
				params = {
					$el: me.recView.elems.$content,
					attr: 'content',
					textEditor: {
						options: [
							'bold',
							'italic',
							'underline',
							'orderedList',
							'unorderedList',
							'removeFormat',
							'link',
							'highlighter',
							'spellchecker'
						]
					}
				};

			//Metodo que  exposto para edio de textos
			me.textEdition(params);

		}
	};

	return View;
});

player.define('text!../../../../_baseClient/_base/js/desktop/resources/imagem/template.html',[],function () { return '<div class="table {{class}} {{#border}}borda{{/border}} {{#zoom}}zoomImg{{/zoom}}" id="{{_id}}" style="{{style}}">\n\t<div class="trow">\n\t\t<div class="tcell">\n\t\t\t<div id="imageWrapper" class="{{^src}}noContent{{/src}}">\n\t\t\t\t<img src="{{#src}} {{src}} {{/src}} {{^src}} https://s3-sa-east-1.amazonaws.com/mobiliza/fix/empty.png {{/src}}"/>\n\t\t\t\t<span class="glyphicon glyphicon-picture"></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t{{#legend.active}}\n\t\t<div class="trow bgLegenda">\n\t\t\t<div class="tcell">\n\t\t\t\t<div id="recImglegendaContent"><span class="legendText">{{&legend.content}}</span></div>\n\t\t\t</div>\n\t\t</div>\n\t{{/legend.active}}\n</div>\n\n';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/imagem/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\n\n\t<div id="recImgEditBox" class="editionBlock" data-position="left top+10|left bottom">\n\t\t<div class="mbOptionsResources mbOptionsImageButton">\n\n\t\t\t<div class="btn-group">\n\t\t\t\t<button id="recImgPicker" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="r" class="icon"></div>\n\t\t\t\t\t<span>Escolher Imagem</span>\n\t\t\t\t</button>\n\n\t\t\t\t<button id="recImgEditar" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="C" class="icon"></div>\n\t\t\t\t\t<span>Editar Imagem</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div class="btn-group">\n\t\t\t\t<button id="recImgLegenda" type="button" class="btn btn-default editionSwitch" data-attr="legend.active" data-value="true|false">\n\t\t\t\t\t<div data-icon="s" class="icon"></div>\n\t\t\t\t\t<span>LEGENDAS</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="recImgMoldura" type="button" class="btn btn-default editionSwitch" data-attr="border" data-value="true|false">\n\t\t\t\t\t<div data-icon="t" class="icon"></div>\n\t\t\t\t\t<span>MOLDURA</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="recImgZoom" type="button" class="btn btn-default editionSwitch" data-attr="zoom" data-value="true|false">\n\t\t\t\t\t<div data-icon="7" class="icon"></div>\n\t\t\t\t\t<span>ZOOM</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n<!-- </div> -->\n\n';});


player.define("json!../../../../_baseClient/_base/js/desktop/resources/imagem/config.json", function(){ return {
	"defaults": {
		"template": "imagem",
		"baseImg": "",
		"src": "",
		"imgHeight": 185,
		"legend": {
			"active": true,
			"content": "Teste : Teste images"
		},
		"border": true,
		"styleObj": {
			"position": "absolute",
			"top": "36px",
			"left": "52px",
			"height": "212px",
			"width": "283px"
		}
	},

	"validators": [
		"_template === imagem"
	],

	"editor": {
		"restrictions": {
			"width": true,
			"height": true,
			"top": true,
			"left": true
		}
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/resources/imagem/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization imagem -------', this);
			var me = this;

			this.addElements({
				'imgPicker': '#recImgPicker',
				'imgEdit': '#recImgEditar',
				'imgLegend': '#recImgLegenda'
			});

			this.events = _.extend(this.events, {
				'click _imgPicker': 'pickImage',
				'click _imgEdit': 'editImage',
				'changeSwitch _main': 'changedSwitch'
			});

			this.recView.addElements.call(this.recView, {
				'img': 'img',
				'legenda': '#recImglegendaContent',
				'imageWrapper': '#imageWrapper'
			});

			_.bindAll(this, 'handlerPickedImage', 'handlerEditedImage');

			/*
			Processo de renderizao ir ocorrer aps o encerramento das aes de inicializao
 			*/
		},

		showing: function() {
			console.log('showing imagem', this);
			var me = this,
				model = me.recView.model;

			model.bind({
				change: function(model) {
					me.checkState();
				}
			});
			me.checkState();

			/*
			Na exibio de um editor de recursos, so atribuidos os elementos e eventos que sero precisos que a view do recurso tenha
			**** LEMBRAR RETIRAR OS EVENTOS AO ESCONDER O EDITOR '#1' ****
			*/

			this.recView.addEvents.call(this.recView, {
				'click _legenda': me.editlegend
			});
		},

		hiding: function() {
			console.log('hiding imagem');
			var me = this,
				$legenda = me.recView.elems.$legenda;

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado	

			this.recView.removeEvents.call(this.recView, [
				'click _legenda'
			]);
		},

		checkState: function() {
			var me = this,
				model = me.recView.model,
				baseImg = model.get('baseImg'),
				$imgEdit = me.elems.$imgEdit;

			if (!baseImg || baseImg === "") {
				$imgEdit.attr("disabled", "disabled");
			} else {
				$imgEdit.removeAttr('disabled');
			}
		},

		changedSwitch: function(data) {
			console.log('[view]edition/imagem [method]changedSwitch [var]data', data);
			this.resizing(null, null);
		},

		warned: false,
		resizing: function(e, ui) {
			console.log('[rec]image [method]resizing: ', e, ui, this);
			var me = this,
				recView = me.recView,
				model = recView.model,
				size = ui && ui.size ? ui.size.height : parseInt(model.get('styleObj.height')),
				$rec = recView.elems.$rec,
				$img = recView.elems.$img,
				$legenda = recView.elems.$legenda,
				recHeight = $rec.outerHeight(),
				legendaHeight = $legenda.outerHeight(),
				height = size - legendaHeight;

			console.log('[rec]image [method]resizing [var]size, recHeight, legendaHeight, height: ', size, recHeight, legendaHeight, height);
			this.recView.model.set('imgHeight', height);

			if (this.recView.model.get("src") !== "" && me.warned === false) {
				me.warned = true;
				Editor.Views.dialogs.insert({
					title: 'Cuidado! ',
					text: 'Voc est alterando as dimenses originais desta imagem',
					dismissable: true,
					timer: 4000
				});
			}
			$img.outerHeight(size - $rec);

			// $img.outerHeight(ui.size.height - legendaHeight - (recPadding));
		},

		pickImage: function() {
			console.log('[rec]image [method]pickImage ------- ');

			var fileManager = window.Editor.Views.Modals.fileManager;

			fileManager.show({
				type: 1,
				callback: this.handlerPickedImage
			});
		},

		handlerPickedImage: function(data) {
			console.log('[rec]image [method]handlerPickedImage: ', data);
			var me = this,
				recView = this.recView,
				model = recView.model,
				$imageWrapper = recView.elems.$imageWrapper,
				url = data.path;

			// data.path = "http://images.aviary.com/imagesv5/feather_default.jpg";

			model.set({
				baseImg: url,
				src: ""
			}, {
				silent: true
			});

			console.log('[rec]image [method]handlerPickedImage [var]$imageWrapper, data.path', $imageWrapper, data, typeof data);
			Editor.Views.Modals.aviary.show({
				$el: $imageWrapper,
				src: data.path,
				callback: me.handlerEditedImage
			});
		},

		handlerEditedImage: function(data) {
			console.log('[rec]image [method]handlerEditedImage: ', data, this);
			if (data.status === 'error') {
				return;
			}

			var me = this,
				recView = this.recView,
				model = this.recView.model,
				id = model.get("_id"),
				src = model.get("src");

			model.set({
				src: data.url
			});

			(data.fit) ? me.fitToWidth(data.width): null;

			/* funo que copia para s3 os arquivos do curso e percisa do modelo do recurso, 
			path para arquivo a ser copiado e atributo que vai ser alterado na finalizao */
			me.copyToS3({
				entity: "resources",
				type: "image",
				model: model,
				src: data.url,
				attr: "src",
				process: false,
				options: data.resize ? data.resize : null
			});
		},

		fitToWidth: function(imgWidth) {
			console.log('[rec]image [method]fitToWidth [var]imgWidth: ', imgWidth);
			var me = this,
				recView = this.recView,
				model = this.recView.model,
				$rec = recView.elems.$rec,
				recPadding = parseInt($rec.css('padding')) || 0,
				width = imgWidth + (2 * recPadding);

			console.log('[rec]image [method]fitToWidth [var]width, recPadding: ', width, recPadding);
			this.recView.model.set({
				"styleObj.width": String(width) + "px"
			});
		},

		editImage: function() {
			console.log('[rec]image [method]editImage: ');
			var me = this,
				model = this.recView.model,
				baseImg = model.get('baseImg'),
				$img = me.recView.elems.$img;

			Editor.Views.Modals.aviary.show({
				$el: $img,
				src: baseImg,
				callback: me.handlerEditedImage
			});
			// Editor.Views.Modals.aviary.show($img, baseImg, me.handlerEditedImage);
		},

		editlegend: function() {
			console.log('editlegend', this);

			var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
				//Pametros necessrios para que o metodo de textEdition funcione
				params = {
					$el: me.recView.elems.$legenda, //Elemento wrapped pelo jquery
					attr: 'legend.content', //atributo do modelo
					// resize: false, //funo a ser chamada caso haja alterao de altura no recurso de texto
					textEditor: {
						options: [ //opes do editor de texto
							'bold',
							'italic',
							'underline',
							'removeFormat',
							'link',
							'spellchecker'
						]
					}
				};

			//Metodo que  exposto para edio de textos
			me.textEdition(params);
		}
	};

	return View;
});

player.define('text!../../../../_baseClient/_base/js/desktop/resources/video/template.html',[],function () { return '<div id="{{_id}}" class="{{class}}" style="{{style}}">\n\t<video class="inVideo video-js vjs-default-skin" width="100%" height="100%" controls></video>\n\t<div class="bgVideoIEfix"></div>\n\t<span class="glyphicon glyphicon-facetime-video"></span>\n</div>\n\n';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/video/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recVideoPicker" class="editionBlock" data-position="left top+10|left bottom">\n\t\t<div class="mbTypeVideoBox">\n\n\t\t\t<div id="editionVideoSource" class="btn-group" >\n\t\t\t\t<button id="editionExternalLink" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="(" class="icon"></div>\n\t\t\t\t\t<span>Inserir Link</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="editionVideoLocal" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="r" class="icon"></div>\n\t\t\t\t\t<span>Escolher arquivo</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="editionLockPlayer" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="~" class="icon"></div>\n\t\t\t\t\t<span>Bloquear player</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div class="input-group mbInputVideoBox" style="display: none">\n\t\t\t\t<input id="editionVideoURL" type="text" class="form-control mbInputVideo" placeholder="Insira um link aqui...">\n\t\t\t\t<span class="input-group-btn okBtnInputVideo">\n\t\t\t\t\t<button id="editionVideoOk" class="btn btn-default" type="button">OK</button>\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\t\n<!-- </div> -->';});


player.define("json!../../../../_baseClient/_base/js/desktop/resources/video/config.json", function(){ return {
	"defaults": {
		"template": "video",
		"styleObj": {
			"position": "absolute",
			"width": "455px",
			"height": "256px",
			"top": "36px",
			"left": "37px"
		},
		"youtube": {
			"active": false,
			"id": "5WqO5u2at-A"
		},
		"vimeo": {
			"active": false,
			"id": "90602247"
		},
		"local": {
			"active": true,
			"src": "",
			"type": "video/mp4"

		},
		"web": {
			"active": false,
			"src": "",
			"type": "video/mp4"
		}
		
	},

	"validators": [
		"_template === video"
	],

	"editor": {
		"restrictions": {
			"width": true,
			"height": true,
			"top": true,
			"left": true
		}
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/resources/video/editor',[
	"videojs",
	'videojsyoutube',
	'videojsvimeo'
], function(videojs, videojsyoutube, videojsvimeo) {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/
		initializating: function(e) {
			console.log('initialization video -------', this);
			var me = this;

			this.addElements({
				// 'bts': '#editionVideoSource .btn',
				'URL': '#editionVideoURL',
				'ok': '#editionVideoOk',
				'videoPicker': '#editionVideoLocal',
				'addLinkVideoBtn': '#editionExternalLink',
				'inputVideoBox': '.mbInputVideoBox',
				'lockPlayerBtn': '#editionLockPlayer'
			});

			this.events = _.extend(this.events, {
				// 'click _bts': 'setTypeByClick',
				'click _ok': 'setSource',
				'click _videoPicker': 'fileManeger',
				'click _addLinkVideoBtn': 'addExternalLinkVideo',
				'click _lockPlayerBtn': 'toggleLockPlayer'
			});

			_.bindAll(this, 'handlerPickedVideo');

			me.recView.addElements.call(me.recView, {
				'player': 'video'
			});

			/*
			Processo de renderizao ir ocorrer aps o encerramento das aes de inicializao
 			*/
		},

		toggleLockPlayer: function() {
			var me = this,
				model = me.recView.model,
				locked = model.get('lock');

			me.lockPlayer(!locked);
		},

		lockPlayer: function(lock) {
			var me = this,
				model = me.recView.model,
				$btnlockPlayer = me.elems.$lockPlayerBtn;

			if (lock !== true && lock !== false) {
				lock = !model.get('lock');
			}

			model.set({
				lock: lock
			});

			$btnlockPlayer.toggleClass('selected', lock);

			return lock;
		},

		addExternalLinkVideo: function() {
			var me = this,
				btnInsertLink = $('#editionExternalLink'),
				$inputVideoBox = this.elems.$inputVideoBox;

			if (btnInsertLink.hasClass('actived')) {
				btnInsertLink.removeClass('actived');
			} else {
				btnInsertLink.addClass('actived');
			}

			$inputVideoBox
				.toggle();
		},

		showing: function() {
			console.log('showing video', this);
			var me = this,
				model = me.recView.model,
				$main = me.recView.elems.$main;

			me.lockPlayer(!!model.get('lock'));
		},

		hiding: function() {

		},

		fileManeger: function() {
			var fileManager = window.Editor.Views.Modals.fileManager;

			fileManager.show({
				type: 3,
				callback: this.handlerPickedVideo
			});
		},

		handlerPickedVideo: function(data) {
			console.log('[rec]audio [method]handlerPickedVideo: ', data);
			var me = this,
				recView = this.recView,
				url = data.path,
				model = this.recView.model;

			/* funo que copia para s3 os arquivos do curso e percisa do modelo do recurso, 
			path para arquivo a ser copiado e atributo que vai ser alterado na finalizao */
			me.copyToS3({
				entity: "resources",
				type: "video",
				model: model,
				src: url,
				attr: "src",
				callback: function(data) {
					var toChange = me.setType('local', {});
					toChange['local.src'] = data.dest;
					model.set(toChange);
				}
			});
		},

		setSource: function() {
			console.log('setSource: ', this);
			var me = this,
				model = me.recView.model,
				$URL = me.elems.$URL,
				URL = $URL.val(),
				toChange,
				type,
				videoType,
				id;

			console.log('setSource: ', $URL, URL);

			if (URL !== "") {
				type = me.detectType(URL);
				toChange = me.setType(type, toChange);
				// console.log('toChange', toChange);

				if (type === "youtube") {
					id = me.getYoutubeIdByUrl(URL);
					toChange["youtube.id"] = id;
					console.log('youtube', id);
				} else if (type === "vimeo") {
					id = me.getVimeoIdByUrl(URL);
					toChange["vimeo.id"] = id;
					console.log('vimeo', id);
				} else if (type === "web") {
					toChange["web.src"] = URL;
					console.log('web');
				}
			}

			console.log('toChange', toChange);
			model.set(toChange);
		},

		detectType: function(URL) {
			console.log('detectType: ', URL);

			var me = this,
				types = [
					{
						type: 'youtube',
						identifiers: [
							'youtube.com',
							'youtu.be'
						]
					},

					{
						type: 'vimeo',
						identifiers: [
							'vimeo.com'
						]
					}
				]

			for (var i = types.length - 1; i >= 0; i--) {
				for (var j = types[i].identifiers.length - 1; j >= 0; j--) {
					if (URL.indexOf(types[i].identifiers[j]) !== -1) {
						me.setType(types[i].type);
						return types[i].type;
					};
				};
			};

			me.setType('web');
			return 'web';
		},

		types: ['youtube', 'vimeo', 'web', 'local'],
		setType: function(type, toChange) {
			console.log('setType: ', type);
			var me = this,
				types = me.types,
				model = me.recView.model,
				modelData = model.toJSON(),
				toChange = toChange ? toChange : {};

			for (var i = types.length - 1; i >= 0; i--) {
				console.log(modelData[types[i]], types[i], types[i] === type);
				if (types[i] === type) {
					toChange[types[i] + '.active'] = true;
				} else {
					toChange[types[i] + '.active'] = false;
				};
			};
			console.log(toChange);
			return toChange;
			// model.set(toChange);
		},

		getType: function(data) {
			var me = this,
				types = me.types,
				model = me.recView.model,
				modelData = model.toJSON();

			for (var i = types.length - 1; i >= 0; i--) {
				console.log(modelData[types[i]], types[i]);
				if (modelData[types[i]].active && modelData[types[i]].active === true) {
					return types[i];
				}
			};
		},

		getSource: function() {
			console.log('getSource', this);
			var me = this,
				model = me.recView.model,
				$URL = me.elems.$URL,
				value = model.get(me.type + '.src');

			console.log('getSource', value, $URL);
			$URL.val(value);
		},

		detectVideoType: function(URL) {
			var me = this,
				model = me.recView.model,
				formats = [
					'mp4',
					'ogv',
					'webm'
				],
				types = [
					"video/mp4; codecs='avc1.42E01E, mp4a.40.2'",
					"video/ogg; codecs='theora, vorbis'",
					"video/webm; codecs='vp8, vorbis'"
				];

			for (var i = formats.length - 1; i >= 0; i--) {
				if (URL.indexOf(formats[i]) !== -1) {
					console.log('detectType as ', formats[i]);
					return types[i];
					// model.set(me.type + '.type', types[i]);
				};
			};
		},

		/*==========  Exatratores de id dos urls para vimeo e youtube  ==========*/
		/*
			Formatos suportados:
				- http://www.youtube.com/watch?v=0zM3nApSvMg&feature=feedrec_grec_index
				- http://www.youtube.com/user/IngridMichaelsonVEVO#p/a/u/1/QdK8U-VIH_o
				- http://www.youtube.com/v/0zM3nApSvMg?fs=1&amp;hl=en_US&amp;rel=0
				- http://www.youtube.com/watch?v=0zM3nApSvMg#t=0m10s
				- http://www.youtube.com/embed/0zM3nApSvMg?rel=0
				- http://www.youtube.com/watch?v=0zM3nApSvMg
				- http://youtu.be/0zM3nApSvMg
		*/
		getYoutubeIdByUrl: function(url) {
			var me = this,
				regExp = /.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/,
				match = url.match(regExp);

			if (match && match[1].length == 11) {
				return match[1];
			} else {
				me.urlNotFound();
			}
		},

		/*
			Formatos suportados:
				- https://vimeo.com/11111111
				- http://vimeo.com/11111111
				- https://www.vimeo.com/11111111
				- http://www.vimeo.com/11111111
				- https://vimeo.com/channels/11111111
				- http://vimeo.com/channels/11111111
				- https://vimeo.com/groups/name/videos/11111111
				- http://vimeo.com/groups/name/videos/11111111
				- https://vimeo.com/album/2222222/video/11111111
				- http://vimeo.com/album/2222222/video/11111111
				- https://vimeo.com/11111111?param=test
				- http://vimeo.com/11111111?param=tes
		*/
		getVimeoIdByUrl: function(url) {
			var me = this,
				regExp = /https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,
				match = url.match(regExp);

			if (match) {
				return match[3];
			} else {
				me.urlNotFound();
			}
		},

		urlNotFound: function() {
			Editor.Views.dialogs.insert({
				title: 'Erro! ',
				text: 'No foi possvel acessar o video atravz deste URL',
				dismissable: true,
				timer: 3000
			});
		}
	};

	return View;
});
/* 
Para recursos de inicializao dinmica onde precisamos inicializar um plugin para obter a visualizao
final de um recursos criamos um modulo de inicializao geral que deve ser usado tando para player quando 
para o editor.

Cuidados devem ser tomados pois o escopo das duas chamadas  diferente
*/

player.define('../../../../_baseClient/_base/js/desktop/resources/video/generalInit',[
	"videojs",
	'videojsyoutube',
	'videojsvimeo'
], function(videojs, videojsyoutube, videojsvimeo) {
	var init = function(source) { //source  a flag que indica a origem da chamada: "player" || "editor"
		console.log('[rec]video [method]init [var]this, source', this, source);

		var me = this,
			data = me.model ? me.model.toJSON() : me.data,
			$el = me.$el,
			el_html = $el.html();

		this.renderVideojs = function() {
			console.log("initVideojs", data);

			if (source === "player") {
				// reset video content
				$el.html(el_html);
			}
			
			var videoData = {},
				el = $el.find('video')[0],
				player;

			if (data.youtube.active) {
				videoData = data.youtube;
				videoData.src = '//www.youtube.com/embed/' + videoData.id;
				videoData.techOrder = ['youtube', 'html5', 'flash'];
			} else if (data.vimeo.active) {
				videoData = data.vimeo;
				videoData.src = '//vimeo.com/' + videoData.id;
				videoData.techOrder = ['vimeo', 'html5', 'flash'];
			} else if (data.local.active) {
				videoData = data.local;
				videoData.techOrder = ['html5', 'flash'];
			} else if (data.web.active) {
				videoData = data.web;
				videoData.techOrder = ['html5', 'flash'];
			}

			if (!videoData.src) {
				player = videojs(el);

			} else {
				player = videojs(el, {
					techOrder: videoData.techOrder,
					src: videoData.src,
					controls: true
				});

				player.src({
					type: videoData.type,
					src: videoData.src
				});
			}

			player._src = videoData.src;

			me.$el.toggleClass('noContent', !videoData.src);

			return player;
		}

		if (source === "player") {
			Player.Elements.$content.on({
				contentReady: function() {
					me.player = me.renderVideojs();
				}
			});
		} else {
			me.renderVideojs();
		}
	}

	return init;
});

player.define('text!../../../../_baseClient/_base/js/desktop/resources/texto/template.html',[],function () { return '<div id="{{_id}}" class="{{class}}{{#normal.active}} normal {{normal.subType}}{{/normal.active}}{{#balao.active}} balao {{balao.subType}}{{/balao.active}}{{#titulo.active}} titulo {{titulo.subType}}{{/titulo.active}}" style="{{style}}">\n\t<div class="tagP">{{&content}}</div>\n</div>';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/texto/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recTextoType" class="editionBlock bottom" data-position="left top+10|left bottom">\n\t\t\n\t\t<div class="mbBalloonOptions parent">\n\t\t\t<div class="btn-group editionGroupSwitch" data-value="true|false">\n\t\t\t\t<button id="normal" type="button" class="btn btn-default selected" data-attr="normal.active">\n\t\t\t\t\t<div data-icon="j" class="icon"></div>\n\t\t\t\t\t<span>TEXTO</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="balao" type="button" class="btn btn-default" data-attr="balao.active">\n\t\t\t\t\t<div data-icon="<" class="icon"></div>\n\t\t\t\t\t<span>BALO</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="titulo" type="button" class="btn btn-default" data-attr="titulo.active">\n\t\t\t\t\t<div data-icon="!" class="icon"></div>\n\t\t\t\t\t<span>TTULO</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="mbBalloonOptions mbBalloonSubOptions recTextoSubType" data-type="normal">\n\t\t\t<div class="btn-group editionGroud" data-attr="normal.subType">\n\t\t\t\t<button value="comFundo" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="=" class="icon"></div>\n\t\t\t\t\t<span>COM FUNDO</span>\n\t\t\t\t</button>\n\t\t\t\t<button value="semFundo" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="+" class="icon"></div>\n\t\t\t\t\t<span>SEM FUNDO</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div id="balaoFala" class="mbBalloonOptions mbBalloonSubOptions  recTextoSubType" data-type="balao">\n\t\t\t<div class="btn-group editionGroud" data-attr="balao.subType">\n\t\t\t\t<button value="left" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="<" class="icon"></div>\n\t\t\t\t\t<span>ESQUERDA</span>\n\t\t\t\t</button>\n\t\t\t\t<button value="right" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon=">" class="icon"></div>\n\t\t\t\t\t<span>DIREITA</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="mbBalloonOptions mbBalloonSubOptions recTextoSubType" data-type="titulo">\n\t\t\t<div class="btn-group editionGroud" data-attr="titulo.subType">\n\t\t\t\t<button value="primario" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="," class="icon"></div>\n\t\t\t\t\t<span>PRIMRIO</span>\n\t\t\t\t</button>\n\t\t\t\t<button value="secundario" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon=";" class="icon"></div>\n\t\t\t\t\t<span>SECUNDRIO</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n<!-- </div> -->\n\n';});


player.define("json!../../../../_baseClient/_base/js/desktop/resources/texto/config.json", function(){ return {
	"defaults": {
		"template": "texto",
		"content": "Lorem ipsum Aliqua nostrud occaecat anim elit culpa ut magna velit esse deserunt.",
		"styleObj": {
			"position": "absolute",
			"width": "284px",
			"top": "36px",
			"left": "51px"
		},		

		"normal": {
			"active": true,
			"subType": "comFundo"
		},

		"balao": {
			"active": false,
			"subType": "left"
		},

		"titulo": {
			"active": false,
			"subType": "primario"
		}
	},

	"validators": [
		"_styleObj.height === undefined",
		"_template === texto"
	],

	"editor": {
		"restrictions": {
			"width": true,
			"height": false,
			"top": true,
			"left": true
		}
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/resources/texto/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization imagem -------', this);
			var me = this;

			this.addElements({
				'subTypesBlocks': '.recTextoSubType'
			});

			this.events = _.extend(this.events, {
				'changeGroupSwitch': 'showSubType'
			});

			// console.log(this, this.recView);

			/*
			Processo de renderizao ir ocorrer aps o encerramento das aes de inicializao
 			*/
		},

		showing: function() {
			var me = this,
				model = me.recView.model;

			this.recView.addElements.call(this.recView, {
				'content': '.tagP'
			});

			this.recView.addEvents.call(this.recView, {
				'click _content': me.editContent
			});
		},

		hiding: function() {			
			var me = this,
				$content = me.recView.elems.$content;

			this.recView.removeElements.call(this.recView, [
				'content'
			]);
			
			this.recView.removeEvents.call(this.recView, [
				'click _content'
			]);
		},

		showSubType: function(e, attr, value) {
			// console.log('showSubType: --- ', e, attr, value);
			var me = this,
				$main = me.elems.$main,
				type = attr.substr(0, attr.indexOf('.')),
				$subTypesBlocks = me.elems.$subTypesBlocks,
				$subTypesBlock = $main.find('[data-type="' + type + '"]');

			// console.log('showSubType', type, $subTypesBlock);
			$subTypesBlocks.hide();
			$subTypesBlock.show();

			/*
				Debugar um dia, no fao a menor ideia com dois funciona e com um no.
			*/
			me.ensurePosition();
			me.ensurePosition();
		},

		editContent: function(e) {
			var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
				//Pametros necessrios para que o metodo de textEdition funcione
				params = {
					$el: me.recView.elems.$content, //Elemento wrapped pelo jquery
					attr: 'content', //atributo do modelo
					textEditor: {
						options: [ //opes do editor de texto
							'bold',
							'italic',
							'underline',
							'removeFormat',
							'align-left',
							'align-center',
							'align-right',
							'justify',
							'link',
							'glossary',
							'unlink',
							'orderedList',
							'unorderedList',
							'highlighter',
							'spellchecker',
						]
					}
				};

			//Metodo que  exposto para edio de textos
			me.textEdition(params);
		}
	};

	return View;
});

player.define('text!../../../../_baseClient/_base/js/desktop/resources/botaoPP/template.html',[],function () { return '<div style="position: absolute; top: 0px;"> <!--Criado um elemento sem altura definida, para o botaoPP poder redimensionar verticalmente de acordo com o texto inserido no Editor.-->\n\t<div id="{{_id}}" class="{{class}} {{#type}}{{type}}{{/type}}" style="{{style}}">\n\t\t<div class="plus"></div>\n\t\t<div class="btnPPLeft">\t\n\t\t\t<div class="iconP3 iconP3-modal"></div>\n\t\t</div>\n\t\t<div class="btnPPRight"> \n\t\t\t<div class="tagP">{{&label}}</span>\n\t\t</div>\n\t</div>\n</div>';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/botaoPP/modal.html',[],function () { return '<div class="primeiroPlano {{^type}}ppGrande{{/type}} {{type}}" style="{{style}}">\n\t<div class="btnFechar">\n\t\t<div class="iconP3 iconP3-fechar"></div>\n\t</div>\n\t<div id="modalContent"></div>\n</div>';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/botaoPP/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="editModal" class="editionBlock bottom" data-position="left top+10|left bottom">\n\t\t\n\t\t<div class="mbOptionsResources mbOptionsBtModal">\n\t\t\t<div class="btn-group editionGroud" data-attr="type">\n\t\t\t\t\t<button id="botaoTexto" type="button" class="btn btn-default" value="btnRetangle">\n\t\t\t\t\t\t<div data-icon="" class="icon"></div>\n\t\t\t\t\t\t<span>Boto Texto</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id="botaoPequeno" type="button" class="btn btn-default" value="btnSmallCircle">\n\t\t\t\t\t\t<div data-icon="/" class="icon"></div>\n\t\t\t\t\t\t<span>Boto Pequeno</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id="botaoGrande" type="button" class="btn btn-default" value="btnMediumCircle">\n\t\t\t\t\t\t<div data-icon="?" class="icon"></div>\n\t\t\t\t\t\t<span>Boto Grande</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id="botaoGrande" type="button" class="btn btn-default" value="btnCapture">\n\t\t\t\t\t\t<div data-icon="?" class="icon"></div>\n\t\t\t\t\t\t<span>Boto Grande</span>\n\t\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<div class="btn-group">\n\t\t\t\t<button id="recEditModal" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="C" class="icon"></div>\n\t\t\t\t\t<span>Editar Modal</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n<!-- </div> -->\n\n\n\n\n';});


player.define("json!../../../../_baseClient/_base/js/desktop/resources/botaoPP/config.json", function(){ return {
	"defaults": {
		"template": "botaoPP",
		"type": "btnRetangle",
		"label": "Seu texto aqui",
		"styleObj": {
			"position": "absolute",
			"top": "36px",
			"left": "53px"
		}
	},

	"modal": {
		"defaults": {
			"type": "ppGrande",
			"name": "Teste Modal",
			"styleObj": {
				"height": "150px"
			}
		},

		"dynamicContent": {
			"entity": "slide",
			"_id": null
		}
	},

	"validators": [
		"_template === botaoPP"
	],

	"editor": {
		"restrictions": {
			"width": false,
			"height": false,
			"top": true,
			"left": true
		}
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/resources/botaoPP/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization botaoPP -------', this);
			var me = this;

			this.addElements({
				'editModal': '#recEditModal'
			});

			this.events = _.extend(this.events, {
				'click _editModal': 'openModal'
			});

			/*
			Processo de renderizao ir ocorrer aps o encerramento das aes de inicializao
 			*/
		},

		openModal: function() {
			var me = this,
				model = me.recView.model,
				slide_id = model.get('modal.dynamicContent._id'),
				resource_id = model.get('_id');

			if (!slide_id) { // slide was not created yet
				me.createSlide(resource_id, function(new_slide) {
					model.set('modal.dynamicContent', {
						_id: new_slide.get('_id'),
						entity: 'slide'
					});
					me.openModal();
				});

				return;
			}

			// cria o slide local que representa o conteudo do modal
			var data = $.extend({
					_id: slide_id
				}, Editor.Player.Resources.botaoPP.config.modal),
				slide_model = new Editor.Models.Slide(data);

			slide_model.fetch().done(function() {
				Editor.Views.playerModal.config.model = slide_model;
				Editor.Views.playerModal.config.resource = me;
				Editor.Views.playerModal.render().open();
			});
		},

		createSlide: function(resource_id, callback) {
			var new_slide_model = new Editor.Models.Slide({
				_resource_id: resource_id
			});

			new_slide_model.save().done(function() {
				callback(new_slide_model);
			});

		},

		showing: function() {
			var me = this,
				model = me.recView.model;

			this.recView.addElements.call(this.recView, {
				'content': '.tagP'
			});

			this.recView.addEvents.call(this.recView, {
				'click _content': me.editContent
			});
		},

		hiding: function() {
			var me = this,
				$content = me.recView.elems.$content;

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado

			this.recView.removeElements.call(this.recView, [
				'content'
			]);
			this.recView.removeEvents.call(this.recView, [
				'click _content'
			]);
		},

		editContent: function(e) {
			var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
				//Pametros necessrios para que o metodo de textEdition funcione
				params = {
					$el: me.recView.elems.$content, //Elemento wrapped pelo jquery
					attr: 'label', //atributo do modelo
					textEditor: {
						options: [ //opes do editor de texto
							'bold',
							'italic',
							'underline',
							'removeFormat',
							'align-left',
							'align-center',
							'align-right',
							'justify',
							'spellchecker'
						]
					}
				};

			//Metodo que  exposto para edio de textos
			me.textEdition(params);
		}

	};

	return View;
});

player.define('text!../../../../_baseClient/_base/js/desktop/resources/atividade/template.html',[],function () { return '<div id="{{_id}}" class="{{class}}" style="{{style}}">\n\t<div class="pergunta_atividade">\n\t\t<div class="tagP recTitleAtividade">{{&title}}</div>\n\t</div>\n\n\t<div class="alternativa_atividade">\n\t\t<ul>\n\t\t\t{{#alternativas}}\n\t\t\t<li> \n                <div class="checkOnDiv"> \n                    <input class="chkOrRadio" type="{{#tipo.subType}}{{tipo.subType}}{{/tipo.subType}}" name="alt{{_id}}" value="{{numberAlt}}" {{#checked}}checked{{/checked}}> \n                    <div class="tagP recContentAtividade alt{{numberAlt}}">{{&alt}}</div>\n                </div> \n      \t\t</li> \n\t\t\t{{/alternativas}}\n\t\t</ul>\n\t</div>\n\n\t<div class="enviaResposta desativado">\n\t\t<strong>ENVIE SUA RESPOSTA</strong>\n\t</div>\n\n\t<div class="serverMsg">\n\t\t<strong>*Resposta salva com sucesso</strong>\n\t</div>\n</div>\n\n';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/atividade/modal.html',[],function () { return '<div class="caixaResposta {{type}}" style="{{style}}">\n\t<div class="btnFechar"><div class="iconP3 iconP3-fechar"></div></div>\n\t<h2>{{title}}</h2>\n</div> ';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/atividade/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="editAtividade" class="editionBlock bottom" data-position="left top+10|left bottom">\n\n\t\t<h6>Selecione as alternativas que estaro corretas para esta questo.</h6>\n\t\t\n\t\t<div class="mbBalloonOptions parent">\n\t\t\t<div class="btn-group editionGroupSwitch" data-value="true|false">\n\t\t\t\t<button id="tipo" class="btn btn-default selected" type="button" data-attr="tipo.active">\n\t\t\t\t\t<div data-icon="_" class="icon"></div>\n\t\t\t\t\t<span>TIPO</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="nota" class="btn btn-default" type="button" data-attr="nota.active">\n\t\t\t\t\t<div data-icon="{" class="icon"></div>\n\t\t\t\t\t<span>NOTA</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="mbBalloonOptions mbBalloonSubOptions recAtividadeSubType" data-type="tipo">\n\t\t\t<div class="btn-group editionGroud" data-attr="tipo.subType">\n\t\t\t\t<button id="tipoRadio" class="btn btn-default" type="button" value="radio">\n\t\t\t\t\t<div data-icon="v" class="icon"></div>\n\t\t\t\t\t<span>nica Escolha</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="tipoCheckbox" class="btn btn-default" type="button" value="checkbox">\n\t\t\t\t\t<div data-icon="x" class="icon"></div>\n\t\t\t\t\t<span>Mltipla Escolha</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="mbBalloonOptions mbBalloonSubOptions recAtividadeSubType" data-type="nota" style="display:none;">\n\t\t\t<div class="btn-group editionGroud" data-attr="nota.subType">\n\t\t\t\t<button id="notaSemNota" class="btn btn-default" type="button" value="semNota">\n\t\t\t\t\t<div data-icon="[" class="icon"></div>\n\t\t\t\t\t<span>Sem Nota</span>\n\t\t\t\t</button>\n\t\t\t\t<button id="notaComNota" class="btn btn-default" type="button" value="comNota">\n\t\t\t\t\t<div data-icon="}" class="icon"></div>\n\t\t\t\t\t<span>Com Nota</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="mbActivityProp">\n\t\t\t<div class="btn-group">\n\t\t\t\t<button id="editionLockPlayer" type="button" class="btn btn-default">\n\t\t\t\t\t<div data-icon="~" class="icon"></div>\n\t\t\t\t\t<span>Bloquear player</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t</div>\n\t\n\n\n<!-- \t<div class="editionBlock bottom" data-position="right top+10|right bottom" style="display: none">\n\t\t<div class="mbTrueFalseButton">\n\t\t\t<div class="btn-group">\n\t\t\t\t<button class="btn btn-default" id="mbTrueAnswer" value="true" type="button">\n\t\t\t\t\t<div data-icon="B" class="icon"></div>\n\t\t\t\t</button>\n\t\t\t\t<button class="btn btn-default" id="mbWrongAnswer" value="false" type="button">\n\t\t\t\t\t<div data-icon="F" class="icon"></div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div> -->\n\n\t<div id="addRemoveBlock" class="bottom">\n\t\t<div id="addRemoveTemplate" class="addRemoveTemplate">\n\t\t\t<div class="btn-group">\n\t\t\t\t<button class="btn btn-default" id="mbAddAlternative" value="add" type="button">\n\t\t\t\t\t<div data-icon="0" class="icon"></div>\n\t\t\t\t</button>\n\t\t\t\t<button class="btn btn-default" id="mbRemoveAlternative" value="remove" type="button">\n\t\t\t\t\t<div data-icon="1" class="icon"></div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n<!-- </div> -->';});


player.define("json!../../../../_baseClient/_base/js/desktop/resources/atividade/config.json", function(){ return {
	"defaults": {
		"template": "atividade",
		"title": "Digite aqui sua pergunta.",
		"parametros": {	
			"gabarito": [], 
			"tentativas": "1"
		},
		"alternativas": [
			{
				"numberAlt": 0,
				"alt": "Edite as alternativas dando dois cliques.",
				"checked" : false
			},

			{
				"numberAlt": 1,
				"alt": "Edite as alternativas dando dois cliques.",
				"checked" : false
			}
		],
		"feedbackCerto" : {
			"type": "respostaCerta",
	    	"title" : "Resposta Certa"
	 	 },
		"feedbackErrado": {
			"type": "respostaErrada",
	    	"title" : "Resposta Errada"
		},

		"feedback": {
			"modal": true, 
			"circundado": true
		},
		
		"tipo": {
			"active": true,
			"subType": "radio"
		},

		"nota": {
			"active": true,
			"subType": "comNota"
		},

		"styleObj": {
			"position": "absolute",
			"top": "36px",
			"left": "37px",
			"width": "609px"
		}
	},

	"validators": [
		"_template === atividade"
	],

	"editor": {
		"restrictions": {
			"width": true,
			"height": false,
			"top": true,
			"left": true
		}
	}
}

;});

player.define('../../../../_baseClient/_base/js/desktop/resources/atividade/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization imagem -------', this);
			var me = this,
				model = me.recView.model,
				recView = me.recView,
				$gabarito = model.attributes.parametros.gabarito;

			//Uma maneira de deixar setado as alternativas que esto no gabarito de cada questo, 
			//no afetando o modelo que ir pro player.
			for (var i = $gabarito.length - 1; i >= 0; i--) {
				recView.elems.$rec.find('[value="' + $gabarito[i] + '"]').prop("checked", true);
			}

			this.addElements({
				'subTypesBlocks': '.recAtividadeSubType',
				'mbTrueFalseButton': '.mbTrueFalseButton',

				'mbAddAlternative': '#mbAddAlternative',
				'mbRemoveAlternative': '#mbRemoveAlternative',

				// 
				'addRemoveBlock': '#addRemoveBlock',
				'addRemoveTemplate': '#addRemoveTemplate',

				'lockPlayerBtn': '#editionLockPlayer'
			});

			this.events = _.extend(this.events, {
				'changeGroupSwitch': 'showSubType',
				'click _mbAddAlternative': 'addAlt',
				'click _mbRemoveAlternative': 'removeAlt',
				'click _mbTrueFalseButton': 'trueOrFalse',
				'click _lockPlayerBtn': 'toggleLockPlayer'
			});

			// reseleciona as opes apos renderizar
			me.recView.$el.on('rendered', function() {
				var model = me.recView.model,
					gabarito = model.attributes.parametros.gabarito,
					$rec = me.recView.elems.$rec;

				for (var i = gabarito.length - 1; i >= 0; i--) {
					$rec.find('[value="' + gabarito[i] + '"]').prop("checked", true);
				}

				me.showBtns();
			});

			/*
			Processo de renderizao ir ocorrer aps o encerramento das aes de inicializao
 			*/
		},

		toggleLockPlayer: function() {
			var me = this,
				model = me.recView.model,
				locked = model.get('lock');

			me.lockPlayer(!locked);
		},

		lockPlayer: function(lock) {
			var me = this,
				model = me.recView.model,
				$btnlockPlayer = me.elems.$lockPlayerBtn;

			if (lock !== true && lock !== false) {
				lock = !model.get('lock');
			}

			model.set({
				lock: lock
			});

			$btnlockPlayer.toggleClass('selected', lock);

			return lock;
		},

		showing: function() {
			console.log('showing texto', this);
			var me = this,
				model = me.recView.model,
				$addClassEdition = me.recView.elems.$main;

			this.recView.addElements.call(this.recView, {
				'title': '.recTitleAtividade',
				'content': '.recContentAtividade',
				'chkOrRadio': '.chkOrRadio'
			});

			this.recView.addEvents.call(this.recView, {
				'click _title': me.editTitle,
				'click _content': me.editContent,
				'change _chkOrRadio': function() {
					me.trueOrFalse();
				}
			});

			me.lockPlayer(!!model.get('lock'));

			// me.insertBtns(); //Respectivo aos botes de adicionar/remover questes e verdadeiro/falso
			me.showBtns();

			//Adiciona a classe onEdition2, ao entrar na area de edio da atividade.
			//Criado para adicionar o border-bottom nas alternativas
			$addClassEdition.addClass('onEdition2');
		},

		hiding: function() {
			var me = this,
				recView = me.recView,
				model = recView.model,
				$title = me.recView.elems.$title,
				$content = me.recView.elems.$content,
				$chkOrRadio = me.recView.elems.$chkOrRadio,
				$addClassEdition = me.recView.elems.$main;

			this.recView.removeElements.call(this.recView, [
				'title',
				'content',
				'chkOrRadio'
			]);

			this.recView.removeEvents.call(this.recView, [
				'click _title',
				'click _content',
				'change _chkOrRadio'
			]);
			
			$addClassEdition.removeClass('onEdition2');

			if (model.get("parametros.gabarito").length <= 0) {
				Editor.Views.dialogs.insert({
					icon: '4',
					title: 'Aviso! ',
					text: 'Voc deve selecionar uma alternativa correta.',
					dismissable: true,
					timer: 3000,
					type: 'warning'
				});
			}
		},

		showSubType: function(e, attr, value) {
			// console.log('showSubType: --- ', e, attr, value);
			var me = this,
				$main = me.elems.$main,
				textEditor = Editor.Views.textEditor,
				type = attr.substr(0, attr.indexOf('.')),
				$subTypesBlocks = me.elems.$subTypesBlocks,
				$subTypesBlock = $main.find('[data-type="' + type + '"]');

			// console.log('showSubType', type, $subTypesBlock);
			$subTypesBlocks.hide();
			$subTypesBlock.show();

			/*
				Debugar um dia, no fao a menor ideia com dois funciona e com um no.
			*/

			textEditor.$el.hide();

			me.ensurePosition();
			me.ensurePosition();

		},

		showBtns: function() {

			var me = this,
				recView = me.recView,
				$addRemoveBlock = me.elems.$addRemoveBlock,
				$addRemoveTemplate = me.elems.$addRemoveTemplate,
				model = recView.model,
				viewAlts = recView.$el.find('li'),
				altClass = "mbAddRemoveAlternative",
				altsArray = model.get('alternativas');

			recView.$el.find('.addRemoveTemplate').remove();

			$.each(altsArray, function(i, alt) {
				var $addRmv = $addRemoveTemplate.clone(),
					viewAlt = viewAlts.eq(i);

				$addRmv
				.find('button#mbAddAlternative')
					.on('click', function() {
						me.addAlt();
					})
					.end()
				.find('button#mbRemoveAlternative')
					.on('click', function() {
						me.removeAlt();
					})
					.end()
					.prependTo(viewAlt);
			});
		},

		addAlt: function() {
			var me = this,
				$addRemoveBlock = me.elems.$addRemoveBlock,

				model = me.recView.model,
				alts = model.get('alternativas'),
				length = alts.length,
				item = {
					"numberAlt": alts.length,
					"alt": "Edite as alternativas dando dois cliques.",
					"checked": false
				};

			model.set('alternativas[' + length + ']', item);
			me.showBtns();

		},

		removeAlt: function(e) {
			var me = this,
				$addRemoveBlock = me.elems.$addRemoveBlock,
				model = me.recView.model,
				alts = model.get('alternativas'),
				length = alts.length;

			// array.splice(index, 1);

			model.set('alternativas[' + (length - 1) + ']');
			me.showBtns();
		},

		trueOrFalse: function(e) {
			var me = this,
				recView = me.recView,
				model = recView.model,
				gabaritoModel = model.get('parametros.gabarito'),
				atividade = recView.elems.$rec,
				altAssinaladas = atividade.find(".chkOrRadio:checked"),
				gabarito = [];

			altAssinaladas.each(function() {
				gabarito.push($(this).val());
			});

			model.set({
				"parametros.gabarito": gabarito,
			});

			for (var i = gabarito.length - 1; i >= 0; i--) {
				recView.elems.$rec.find('[value="' + gabarito[i] + '"]').prop("checked", true);
			}
		},

		editTitle: function() {
			// console.log('editTitle', this);

			var me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
				//Pametros necessrios para que o metodo de textEdition funcione
				params = {
					$el: me.recView.elems.$title, //Elemento wrapped pelo jquery
					attr: 'title', //atributo do modelo
					textEditor: {
						options: [ //opes do editor de texto
							'italic',
							'underline',
							'removeFormat',
							'link',
							'spellchecker'
						]
					}
				};

			//Metodo que  exposto para edio de textos
			me.textEdition(params);
		},

		editContent: function(e) {
			var $el = $(e.currentTarget),
				index = $el[0].className.substr(28, 3),
				$el = this.elems.$content.eq(index),
				me = this.edition, //Eventos atrelados a view do recurso tem que voltar a ter a referencia a view da edio
				//Pametros necessrios para que o metodo de textEdition funcione
				$hideBtn = this.elems.$rec.find('.addRemoveTemplate'),

				params = {
					$el: $el, //Elemento onde as es vo ser realizadas (wrapped pelo jquery)
					attr: 'alternativas[' + index + '].alt', // atributo do modelo que vai ser alterado pela ao 
					textEditor: {
						options: [
							'bold',
							'italic',
							'underline',
							'orderedList',
							'unorderedList',
							'removeFormat',
							'link',
							'spellchecker'
						]
					}
				};

			//Metodo que  exposto para edio de textos
			me.textEdition(params);

			$hideBtn.hide();
		}
	};

	return View;
});

player.define('text!../../../../_baseClient/_base/js/desktop/resources/tabs/template.html',[],function () { return '<div id="{{_id}}" class="{{class}}" style="{{style}}">\n\n\t<div class="theTab {{#horizontal.active}}horizontal {{horizontal.position}}{{/horizontal.active}} {{#vertical.active}}vertical {{vertical.position}}{{/vertical.active}}">\n\t\t\n\t\t<div class="tab-prev"></div>\n\t\t<ul class="tabs-nav">\n\t\t\t{{#tabs}}\n\t\t\t<li><a class="anchor" href="#"><div class="tagP">{{&tab}}</div></a></li>\n\t\t\t{{/tabs}}\n\t\t</ul>\n\t\t<div class="tab-next"></div>\n\t\t\n\t\t<div class="tabs-content">\n\t\t\t{{#tabs}}\n\t\t\t<div class="tab-content"></div>\n\t\t\t{{/tabs}}\n\t\t</div>\n\t</div>\n</div>';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/tabs/edition.html',[],function () { return '<div id="recTabsType" class="editionBlock right" data-position="left+5 top|right top">\n\t\n\t<div class="mbBalloonOptions parent">\n\t\t<div class="btn-group editionGroupSwitch" data-value="true|false">\n\t\t\t<button id="horizontal" type="button" class="btn btn-default selected" data-attr="horizontal.active">\n\t\t\t\t<div data-icon="" class="icon"></div>\n\t\t\t\t<span>Horizontal</span>\n\t\t\t</button>\n\t\t\t<button id="vertical" type="button" class="btn btn-default" data-attr="vertical.active">\n\t\t\t\t<div data-icon="" class="icon"></div>\n\t\t\t\t<span>Vertical</span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n\t<div class="mbBalloonOptions mbBalloonSubOptions recTabsSubType" data-type="horizontal">\n\t\t<div class="btn-group editionGroud" data-attr="horizontal.position">\n\t\t\t<button value="top" type="button" class="btn btn-default">\n\t\t\t\t<div data-icon="" class="icon"></div>\n\t\t\t\t<span>Acima</span>\n\t\t\t</button>\n\t\t\t<button value="bottom" type="button" class="btn btn-default">\n\t\t\t\t<div data-icon="" class="icon"></div>\n\t\t\t\t<span>Abaixo</span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n\t<div class="mbBalloonOptions mbBalloonSubOptions recTabsSubType" data-type="vertical">\n\t\t<div class="btn-group editionGroud" data-attr="vertical.position">\n\t\t\t<button value="left" type="button" class="btn btn-default">\n\t\t\t\t<div data-icon="" class="icon"></div>\n\t\t\t\t<span>A esquerda</span>\n\t\t\t</button>\n\t\t\t<button value="right" type="button" class="btn btn-default">\n\t\t\t\t<div data-icon="" class="icon"></div>\n\t\t\t\t<span>A direita</span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n\t<div class="mbChangeContent">\n\t\t<button id="editionLockPlayer" type="button" class="btn btn-default">\n\t\t\t<div data-icon="~" class="icon"></div>\n\t\t\t<span>Bloquear player</span>\n\t\t</button>\t\n\t</div>\n\n</div>\n\n<div class="addRemoveTabs">\n\t<div class="btn-group">\n\t\t<button class="btn btn-default" id="mbAddTab" value="add" type="button">\n\t\t\t<div data-icon="0" class="icon"></div>\n\t\t</button>\n\t\t<button class="btn btn-default" id="mbRemoveTab" value="remove" type="button">\n\t\t\t<div data-icon="1" class="icon"></div>\n\t\t</button>\n\t</div>\n </div>';});


player.define("json!../../../../_baseClient/_base/js/desktop/resources/tabs/config.json", function(){ return {
	"defaults": {
		"template": "tabs",
		"styleObj": {
			"position": "absolute",
			"top": "36px",
			"left": "53px",
			"width": "330px",
			"height": "230px"
		},
		"horizontal": {
			"active": true,
			"position": "top"
		},
		"vertical": {
			"active": false,
			"position": "left"
		},
		"tabs": [{
			"tab": "Aba #1",
			"dynamicContent": {
				"entity": "slide",
				"_id": null
			}
		}, {
			"tab": "Aba #2",
			"dynamicContent": {
				"entity": "slide",
				"_id": null
			}
		}, {
			"tab": "Aba #3",
			"dynamicContent": {
				"entity": "slide",
				"_id": null
			}
		}]
	},

	"editor": {
		"restrictions": {
			"width": true,
			"height": true,
			"top": true,
			"left": true
		}
	}
};});

player.define('../../../../_baseClient/_base/js/desktop/resources/tabs/editor',[], function() {
	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization Tabs -------', this);
			var me = this,
				recView = me.recView,
				model = recView.model,
				$rec = $(recView.elems.main);

			me.tabStage = new Editor.Views.TabsStage({
				dependencies: {
					playerData: playerData,
					slidesData: Editor.Collections.slides
				},
				insertToDom: {
					method: 'append',
					selector: '.mbViewport'
				}
			});

			model.on('remove', function() {
				Editor.Views.Stage.destroy(me.tabStage.stageInstance);
			});

			this.addElements({
				'addRemoveTabs': '.addRemoveTabs',
				'subTypesBlocks': '.recTabsSubType',
				'lockPlayerBtn': '#editionLockPlayer'
			});

			this.events = _.extend(this.events, {
				'changeGroupSwitch': 'showSubType',
				'click _lockPlayerBtn': 'toggleLockPlayer'
			});

			recView.$el
				.on('beforeRender', function() {
					me.tabStage.$el.detach();
				})
				.on('rendered', function() {
					var $rec = $(recView.elems.rec),
						$theTab = recView.elems.$theTab,
						active_tab = $theTab.tabs('option', 'active');

					recView.addElements.call(recView, {
						'tabs': '.tabs-nav li',
						'tabsText': '.tabs-nav .tagP',
						'contents': '.tabs-content > .tab-content'
					});

					recView.addEvents.call(recView, {
						'dblclick _tabsText': me.editContent
					});

					me.openTab(active_tab);

					$rec
						.off('tabsactivate')
						.on('tabsactivate', function() {
							var $rec = $(recView.elems.rec),
								$theTab = recView.elems.$theTab,
								active_tab = $theTab.tabs('option', 'active');

							me.openTab(active_tab);
						});

					me.showBtns();
				})
				.on('reposition', function() {
					me.recView.scrollTabs(me.recView.scrollPosition || 0);
				});
		},

		toggleLockPlayer: function() {
			var me = this,
				model = me.recView.model,
				locked = model.get('lock');

			me.lockPlayer(!locked);
		},

		lockPlayer: function(lock) {
			var me = this,
				model = me.recView.model,
				$btnlockPlayer = me.elems.$lockPlayerBtn;

			if (lock !== true && lock !== false) {
				lock = !model.get('lock');
			}

			model.set({
				lock: lock
			});

			$btnlockPlayer.toggleClass('selected', lock);

			return lock;
		},

		showing: function() {
			var me = this,
				$main = me.recView.elems.$main,
				$rec = me.recView.$el,
				$recTabs = $rec.find('.ui-tabs-nav'),
				tabs_stage = me.tabStage,
				model = me.recView.model;

			tabs_stage.stageInstance.enable();

			Editor.Views.Stage.setActive(tabs_stage.stageInstance);
			me.checkDisableStage();

			me.lockPlayer(!!model.get('lock'));
			
			$main.addClass('onEdition2');
			$recTabs.sortable('option', 'disabled', false);
		},

		hiding: function() {
			var me = this,
				$main = me.recView.elems.$main,
				$rec = me.recView.$el,
				$recTabs = $rec.find('.ui-tabs-nav');

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado

			this.recView.removeElements.call(this.recView, [
				'tabs'
			]);
			this.recView.removeEvents.call(this.recView, [
				'dblclick _tabs'
			]);

			$main.removeClass('onEdition2');
			me.tabStage.stageInstance.disable().hideBoundingBoxes();
			Editor.Views.Stage.setActive('main');
			$recTabs.sortable('option', 'disabled', true);
		},

		showSubType: function(e, attr, value) {
			// console.log('showSubType: --- ', e, attr, value);
			var me = this,
				$main = me.elems.$main,
				type = attr.substr(0, attr.indexOf('.')),
				$subTypesBlocks = me.elems.$subTypesBlocks,
				$subTypesBlock = $main.find('[data-type="' + type + '"]');

			// console.log('showSubType', type, $subTypesBlock);
			$subTypesBlocks.hide();
			$subTypesBlock.show();
		},

		checkDisableStage: function() {
			var me = this,
				tabs_stage = me.tabStage.stageInstance,
				model = me.recView.model,
				$main = me.recView.elems.$main,
				data = model.toJSON();

			if (data.tabs.length <= 0) {
				tabs_stage.disable();
			} else if ($main.hasClass('onEdition2')){
				tabs_stage.enable();
			}

		},

		editContent: function(e) {
			var me = this.edition,
				$rec = me.recView.$el,
				tabs = me.recView.elems.$tabsText,
				tab = $(e.currentTarget),
				tab_index = tabs.index(tab),

				params = {
					$el: tab, //Elemento wrapped pelo jquery
					attr: 'tabs[' + tab_index + '].tab', //atributo do modelo
					textEditor: {
						options: [ //opes do editor de texto
							'bold',
							'italic',
							'underline',
							'removeFormat',
							'align-left',
							'align-center',
							'align-right',
							'justify',
							'spellchecker'
						]
					}
				};

			// jQuery UI tem uma funcionalidade para acessibilidade
			// que  a navegao pelos tabs usando as setas do teclado
			// a rotina abaixo  para impedir essa funcionalidade quando editando texto
			tab
				.off('keydown.preventJqueryUIBehaviour')
				.on('keydown.preventJqueryUIBehaviour', function(e) {
					e.stopPropagation();
					e.stopImmediatePropagation();
				});

			// desabilita sortable enquanto estiver editando texto
			$rec
				.find('.ui-tabs-nav')
				.sortable('disable');

			// quando editar texto, substituir a tag `a.anchor`
			// por `div.anchor`
			// isso previne bugs ao selecionar o texto com o mouse
			var atag = $('<a class="anchor"></a>'),
				div = $('<div class="anchor"></div>'),
				anchor = tab.parent('.anchor');

			anchor.replaceWith(div.append(tab));

			// quando sair da edio de texto:
			tab
				.off('editableOff.tabWorkaround')
				.on('editableOff.tabWorkaround', function() {
					// habilita sortable
					$rec
						.find('.ui-tabs-nav')
						.sortable('enable');

					// substitui o elemento `div.anchor` por `a.anchor`
					// (inverso da operao acima)
					var anchor = tab.parent('.anchor');
					anchor.replaceWith(atag.append(tab));
				});

			//Metodo que  exposto para edio de textos
			me.textEdition(params);
		},

		showBtns: function() {
			var me = this,
				recView = me.recView,
				$addRemoveTabs = me.elems.$addRemoveTabs,
				model = recView.model,
				data = model.toJSON(),
				$rec = recView.$el,
				tabs = $rec.find('li'),
				ul = $rec.find('ul'),
				$addRmv = cloneAddRemoveTabs();

			function cloneAddRemoveTabs(i) {
				var $addRmv = $addRemoveTabs.clone(),
					i = (i === undefined ? $rec.find('li').length : i);

				return $addRmv
					.find('button#mbAddTab')
					.show()
					.on('click', function() {
						me.addTab(i + 1);
					})
					.end()
					.find('button#mbRemoveTab')
					.show()
					.on('click', function() {
						me.removeTab(i);
						console.log('foo removendo tab');
					})
					.end();
			}

			function moveTab(from, to) {
				var data = model.toJSON(),
					tabs = data.tabs;

				tabs.splice(to, 0, tabs.splice(from, 1)[0]);

				model.set('tabs', data.tabs);

				return data;
			}

			// make tabs sortable
			var old_index = null,
				new_index = null;

			$rec
				.find('.ui-tabs-nav')
				.sortable({
					delay: 200,
					disabled: !me.recView.elems.$main.hasClass('onEdition2'),
					distance: 25,
					axis: (data.vertical.active ? 'y' : 'x'),
					start: function(e, ui) {
						old_index = $rec.find('li').index(ui.item);
					},
					update: function(e, ui) {
						new_index = $rec.find('li').index(ui.item);

						moveTab(old_index, new_index);
					}
				});

			// cria botoes de exclusao para todas as tabs
			$.each(tabs, function(i) {
				var $addRmv = cloneAddRemoveTabs(i),
					tab = tabs.eq(i);

				$addRmv.prependTo(tab);
			});

			// cria insero de tabs
			$addRmv.appendTo(ul);
		},

		addTab: function(index) {
			var me = this,
				model = me.recView.model,
				data = model.toJSON();

			data.tabs.splice(index, 0, {
				tab: 'Nova aba',
				dynamicContent: {
					entity: "slide",
					_id: null
				}
			});
			data.active = index;  // set created tab as active
			model.set(data);
			
			me.checkDisableStage();
		},

		removeTab: function(index) {
			var me = this,
				model = me.recView.model,
				data = model.toJSON();

			data.tabs.splice(index, 1);
			model.set('tabs', data.tabs);

			me.checkDisableStage();
		},

		openTab: function(tab_index) {
			var me = this,
				recView = me.recView,
				model = recView.model,
				$rec = $(recView.elems.main),
				tabs = model.get('tabs'),
				tab = tabs[tab_index],
				slide_id;

			if (!tab) return; // tab doesn't exist
			slide_id = tab.dynamicContent._id;
			
			if (!slide_id) { // slide was not created yet
				me.createSlide(model.get('_id'), function(new_slide) {
					model.set('tabs[' + tab_index + '].dynamicContent._id', new_slide.get('_id'), {
						silent: true
					});
					model.set({
						active: tab_index
					});
					
					me.openTab(tab_index);
				});

				return;
			}

			model.set({
				active: tab_index
			});

			// cria o slide local que representa o conteudo do tab clicado
			var slide_model = new Editor.Models.Slide({
				_id: slide_id
			});

			slide_model.fetch().done(function() {
				me.appendStage(slide_model, tab_index);
			});
		},

		createSlide: function(resource_id, callback) {
			var new_slide_model = new Editor.Models.Slide({
				_resource_id: resource_id
			});

			new_slide_model.save().done(function() {
				callback(new_slide_model);
			});

		},

		// append stage to the opened content tab
		appendStage: function(slide_model, tab_index) {
			var me = this,
				recView = me.recView,
				$el = $(recView.elems.rec),
				tabs_stage = me.tabStage,
				tabs_content = recView.elems.$contents,
				content_tab = tabs_content.eq(tab_index);

			// insert stage at the tab's content
			tabs_stage
				.render(slide_model)
				.$el.prependTo(content_tab);

			me.checkDisableStage();
		}

	};

	return View;
});
/*!
 * jQuery UI Core @VERSION
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function( $, undefined ) {

var uuid = 0,
	runiqueId = /^ui-id-\d+$/;

// $.ui might exist from components with no dependencies, e.g., $.ui.position
$.ui = $.ui || {};

$.extend( $.ui, {
	version: "@VERSION",

	keyCode: {
		BACKSPACE: 8,
		COMMA: 188,
		DELETE: 46,
		DOWN: 40,
		END: 35,
		ENTER: 13,
		ESCAPE: 27,
		HOME: 36,
		LEFT: 37,
		NUMPAD_ADD: 107,
		NUMPAD_DECIMAL: 110,
		NUMPAD_DIVIDE: 111,
		NUMPAD_ENTER: 108,
		NUMPAD_MULTIPLY: 106,
		NUMPAD_SUBTRACT: 109,
		PAGE_DOWN: 34,
		PAGE_UP: 33,
		PERIOD: 190,
		RIGHT: 39,
		SPACE: 32,
		TAB: 9,
		UP: 38
	}
});

// plugins
$.fn.extend({
	focus: (function( orig ) {
		return function( delay, fn ) {
			return typeof delay === "number" ?
				this.each(function() {
					var elem = this;
					setTimeout(function() {
						$( elem ).focus();
						if ( fn ) {
							fn.call( elem );
						}
					}, delay );
				}) :
				orig.apply( this, arguments );
		};
	})( $.fn.focus ),

	scrollParent: function() {
		var scrollParent;
		if (($.ui.ie && (/(static|relative)/).test(this.css("position"))) || (/absolute/).test(this.css("position"))) {
			scrollParent = this.parents().filter(function() {
				return (/(relative|absolute|fixed)/).test($.css(this,"position")) && (/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));
			}).eq(0);
		} else {
			scrollParent = this.parents().filter(function() {
				return (/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));
			}).eq(0);
		}

		return (/fixed/).test(this.css("position")) || !scrollParent.length ? $(document) : scrollParent;
	},

	zIndex: function( zIndex ) {
		if ( zIndex !== undefined ) {
			return this.css( "zIndex", zIndex );
		}

		if ( this.length ) {
			var elem = $( this[ 0 ] ), position, value;
			while ( elem.length && elem[ 0 ] !== document ) {
				// Ignore z-index if position is set to a value where z-index is ignored by the browser
				// This makes behavior of this function consistent across browsers
				// WebKit always returns auto if the element is positioned
				position = elem.css( "position" );
				if ( position === "absolute" || position === "relative" || position === "fixed" ) {
					// IE returns 0 when zIndex is not specified
					// other browsers return a string
					// we ignore the case of nested elements with an explicit value of 0
					// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
					value = parseInt( elem.css( "zIndex" ), 10 );
					if ( !isNaN( value ) && value !== 0 ) {
						return value;
					}
				}
				elem = elem.parent();
			}
		}

		return 0;
	},

	uniqueId: function() {
		return this.each(function() {
			if ( !this.id ) {
				this.id = "ui-id-" + (++uuid);
			}
		});
	},

	removeUniqueId: function() {
		return this.each(function() {
			if ( runiqueId.test( this.id ) ) {
				$( this ).removeAttr( "id" );
			}
		});
	}
});

// selectors
function focusable( element, isTabIndexNotNaN ) {
	var map, mapName, img,
		nodeName = element.nodeName.toLowerCase();
	if ( "area" === nodeName ) {
		map = element.parentNode;
		mapName = map.name;
		if ( !element.href || !mapName || map.nodeName.toLowerCase() !== "map" ) {
			return false;
		}
		img = $( "img[usemap=#" + mapName + "]" )[0];
		return !!img && visible( img );
	}
	return ( /input|select|textarea|button|object/.test( nodeName ) ?
		!element.disabled :
		"a" === nodeName ?
			element.href || isTabIndexNotNaN :
			isTabIndexNotNaN) &&
		// the element and all of its ancestors must be visible
		visible( element );
}

function visible( element ) {
	return $.expr.filters.visible( element ) &&
		!$( element ).parents().addBack().filter(function() {
			return $.css( this, "visibility" ) === "hidden";
		}).length;
}

$.extend( $.expr[ ":" ], {
	data: $.expr.createPseudo ?
		$.expr.createPseudo(function( dataName ) {
			return function( elem ) {
				return !!$.data( elem, dataName );
			};
		}) :
		// support: jQuery <1.8
		function( elem, i, match ) {
			return !!$.data( elem, match[ 3 ] );
		},

	focusable: function( element ) {
		return focusable( element, !isNaN( $.attr( element, "tabindex" ) ) );
	},

	tabbable: function( element ) {
		var tabIndex = $.attr( element, "tabindex" ),
			isTabIndexNaN = isNaN( tabIndex );
		return ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );
	}
});

// support: jQuery <1.8
if ( !$( "<a>" ).outerWidth( 1 ).jquery ) {
	$.each( [ "Width", "Height" ], function( i, name ) {
		var side = name === "Width" ? [ "Left", "Right" ] : [ "Top", "Bottom" ],
			type = name.toLowerCase(),
			orig = {
				innerWidth: $.fn.innerWidth,
				innerHeight: $.fn.innerHeight,
				outerWidth: $.fn.outerWidth,
				outerHeight: $.fn.outerHeight
			};

		function reduce( elem, size, border, margin ) {
			$.each( side, function() {
				size -= parseFloat( $.css( elem, "padding" + this ) ) || 0;
				if ( border ) {
					size -= parseFloat( $.css( elem, "border" + this + "Width" ) ) || 0;
				}
				if ( margin ) {
					size -= parseFloat( $.css( elem, "margin" + this ) ) || 0;
				}
			});
			return size;
		}

		$.fn[ "inner" + name ] = function( size ) {
			if ( size === undefined ) {
				return orig[ "inner" + name ].call( this );
			}

			return this.each(function() {
				$( this ).css( type, reduce( this, size ) + "px" );
			});
		};

		$.fn[ "outer" + name] = function( size, margin ) {
			if ( typeof size !== "number" ) {
				return orig[ "outer" + name ].call( this, size );
			}

			return this.each(function() {
				$( this).css( type, reduce( this, size, true, margin ) + "px" );
			});
		};
	});
}

// support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)
if ( $( "<a>" ).data( "a-b", "a" ).removeData( "a-b" ).data( "a-b" ) ) {
	$.fn.removeData = (function( removeData ) {
		return function( key ) {
			if ( arguments.length ) {
				return removeData.call( this, $.camelCase( key ) );
			} else {
				return removeData.call( this );
			}
		};
	})( $.fn.removeData );
}





// deprecated
$.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );

$.support.selectstart = "onselectstart" in document.createElement( "div" );
$.fn.extend({
	disableSelection: function() {
		return this.bind( ( $.support.selectstart ? "selectstart" : "mousedown" ) +
			".ui-disableSelection", function( event ) {
				event.preventDefault();
			});
	},

	enableSelection: function() {
		return this.unbind( ".ui-disableSelection" );
	}
});

$.extend( $.ui, {
	// $.ui.plugin is deprecated. Use $.widget() extensions instead.
	plugin: {
		add: function( module, option, set ) {
			var i,
				proto = $.ui[ module ].prototype;
			for ( i in set ) {
				proto.plugins[ i ] = proto.plugins[ i ] || [];
				proto.plugins[ i ].push( [ option, set[ i ] ] );
			}
		},
		call: function( instance, name, args ) {
			var i,
				set = instance.plugins[ name ];
			if ( !set || !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) {
				return;
			}

			for ( i = 0; i < set.length; i++ ) {
				if ( instance.options[ set[ i ][ 0 ] ] ) {
					set[ i ][ 1 ].apply( instance.element, args );
				}
			}
		}
	},

	// only used by resizable
	hasScroll: function( el, a ) {

		//If overflow is hidden, the element might have extra content, but the user wants to hide it
		if ( $( el ).css( "overflow" ) === "hidden") {
			return false;
		}

		var scroll = ( a && a === "left" ) ? "scrollLeft" : "scrollTop",
			has = false;

		if ( el[ scroll ] > 0 ) {
			return true;
		}

		// TODO: determine which cases actually cause this to happen
		// if the element doesn't have the scroll set, see if it's possible to
		// set the scroll
		el[ scroll ] = 1;
		has = ( el[ scroll ] > 0 );
		el[ scroll ] = 0;
		return has;
	}
});

})( jQuery );

player.define("jqueryUICore", ["jquery"], function(){});

/*!
 * jQuery UI Widget @VERSION
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function( $, undefined ) {

var uuid = 0,
	slice = Array.prototype.slice,
	_cleanData = $.cleanData;
$.cleanData = function( elems ) {
	for ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {
		try {
			$( elem ).triggerHandler( "remove" );
		// http://bugs.jquery.com/ticket/8235
		} catch( e ) {}
	}
	_cleanData( elems );
};

$.widget = function( name, base, prototype ) {
	var fullName, existingConstructor, constructor, basePrototype,
		// proxiedPrototype allows the provided prototype to remain unmodified
		// so that it can be used as a mixin for multiple widgets (#8876)
		proxiedPrototype = {},
		namespace = name.split( "." )[ 0 ];

	name = name.split( "." )[ 1 ];
	fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	// create selector for plugin
	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {
		// allow instantiation without "new" keyword
		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		// allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};
	// extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,
		// copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),
		// track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	});

	basePrototype = new base();
	// we need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = (function() {
			var _super = function() {
					return base.prototype[ prop ].apply( this, arguments );
				},
				_superApply = function( args ) {
					return base.prototype[ prop ].apply( this, args );
				};
			return function() {
				var __super = this._super,
					__superApply = this._superApply,
					returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		})();
	});
	constructor.prototype = $.widget.extend( basePrototype, {
		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	});

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto );
		});
		// remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );
};

$.widget.extend = function( target ) {
	var input = slice.call( arguments, 1 ),
		inputIndex = 0,
		inputLength = input.length,
		key,
		value;
	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {
				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :
						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );
				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string",
			args = slice.call( arguments, 1 ),
			returnValue = this;

		// allow multiple hashes to be passed on init
		options = !isMethodCall && args.length ?
			$.widget.extend.apply( null, [ options ].concat(args) ) :
			options;

		if ( isMethodCall ) {
			this.each(function() {
				var methodValue,
					instance = $.data( this, fullName );
				if ( !instance ) {
					return $.error( "cannot call methods on " + name + " prior to initialization; " +
						"attempted to call method '" + options + "'" );
				}
				if ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === "_" ) {
					return $.error( "no such method '" + options + "' for " + name + " widget instance" );
				}
				methodValue = instance[ options ].apply( instance, args );
				if ( methodValue !== instance && methodValue !== undefined ) {
					returnValue = methodValue && methodValue.jquery ?
						returnValue.pushStack( methodValue.get() ) :
						methodValue;
					return false;
				}
			});
		} else {
			this.each(function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} )._init();
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			});
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",
	options: {
		disabled: false,

		// callbacks
		create: null
	},
	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = uuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;
		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			});
			this.document = $( element.style ?
				// element within the document
				element.ownerDocument :
				// element is window or document
				element.document || element );
			this.window = $( this.document[0].defaultView || this.document[0].parentWindow );
		}

		this._create();
		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},
	_getCreateOptions: $.noop,
	_getCreateEventData: $.noop,
	_create: $.noop,
	_init: $.noop,

	destroy: function() {
		this._destroy();
		// we can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.unbind( this.eventNamespace )
			// 1.9 BC for #7810
			// TODO remove dual storage
			.removeData( this.widgetName )
			.removeData( this.widgetFullName )
			// support: jquery <1.6.3
			// http://bugs.jquery.com/ticket/9413
			.removeData( $.camelCase( this.widgetFullName ) );
		this.widget()
			.unbind( this.eventNamespace )
			.removeAttr( "aria-disabled" )
			.removeClass(
				this.widgetFullName + "-disabled " +
				"ui-state-disabled" );

		// clean up events and states
		this.bindings.unbind( this.eventNamespace );
		this.hoverable.removeClass( "ui-state-hover" );
		this.focusable.removeClass( "ui-state-focus" );
	},
	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key,
			parts,
			curOption,
			i;

		if ( arguments.length === 0 ) {
			// don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {
			// handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},
	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},
	_setOption: function( key, value ) {
		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this.widget()
				.toggleClass( this.widgetFullName + "-disabled ui-state-disabled", !!value )
				.attr( "aria-disabled", value );
			this.hoverable.removeClass( "ui-state-hover" );
			this.focusable.removeClass( "ui-state-focus" );
		}

		return this;
	},

	enable: function() {
		return this._setOption( "disabled", false );
	},
	disable: function() {
		return this._setOption( "disabled", true );
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement,
			instance = this;

		// no suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// no element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			// accept selectors, DOM elements
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {
				// allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
							$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^(\w+)\s*(.*)$/ ),
				eventName = match[1] + instance.eventNamespace,
				selector = match[2];
			if ( selector ) {
				delegateElement.delegate( selector, eventName, handlerProxy );
			} else {
				element.bind( eventName, handlerProxy );
			}
		});
	},

	_off: function( element, eventName ) {
		eventName = (eventName || "").split( " " ).join( this.eventNamespace + " " ) + this.eventNamespace;
		element.unbind( eventName ).undelegate( eventName );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-hover" );
			},
			mouseleave: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-hover" );
			}
		});
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-focus" );
			},
			focusout: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-focus" );
			}
		});
	},

	_trigger: function( type, event, data ) {
		var prop, orig,
			callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();
		// the original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[0], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}
		var hasOptions,
			effectName = !options ?
				method :
				options === true || typeof options === "number" ?
					defaultEffect :
					options.effect || defaultEffect;
		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}
		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;
		if ( options.delay ) {
			element.delay( options.delay );
		}
		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue(function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			});
		}
	};
});

})( jQuery );

player.define("jqueryUIWidget", ["jquery","jqueryUICore"], function(){});

/*!
 * jQuery UI Tabs @VERSION
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function( $, undefined ) {

var tabId = 0,
	rhash = /#.*$/;

function getNextTabId() {
	return ++tabId;
}

function isLocal( anchor ) {
	// support: IE7
	// IE7 doesn't normalize the href property when set via script (#9317)
	anchor = anchor.cloneNode( false );

	return anchor.hash.length > 1 &&
		decodeURIComponent( anchor.href.replace( rhash, "" ) ) ===
			decodeURIComponent( location.href.replace( rhash, "" ) );
}

$.widget( "ui.tabs", {
	version: "@VERSION",
	delay: 300,
	options: {
		active: null,
		collapsible: false,
		event: "click",
		heightStyle: "content",
		hide: null,
		show: null,

		// callbacks
		activate: null,
		beforeActivate: null,
		beforeLoad: null,
		load: null
	},

	_create: function() {
		var that = this,
			options = this.options;

		this.running = false;

		this.element
			.addClass( "ui-tabs ui-widget ui-widget-content ui-corner-all" )
			.toggleClass( "ui-tabs-collapsible", options.collapsible )
			// Prevent users from focusing disabled tabs via click
			.delegate( ".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function( event ) {
				if ( $( this ).is( ".ui-state-disabled" ) ) {
					event.preventDefault();
				}
			})
			// support: IE <9
			// Preventing the default action in mousedown doesn't prevent IE
			// from focusing the element, so if the anchor gets focused, blur.
			// We don't have to worry about focusing the previously focused
			// element since clicking on a non-focusable element should focus
			// the body anyway.
			.delegate( ".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
				if ( $( this ).closest( "li" ).is( ".ui-state-disabled" ) ) {
					this.blur();
				}
			});

		this._processTabs();
		options.active = this._initialActive();

		// Take disabling tabs via class attribute from HTML
		// into account and update option properly.
		if ( $.isArray( options.disabled ) ) {
			options.disabled = $.unique( options.disabled.concat(
				$.map( this.tabs.filter( ".ui-state-disabled" ), function( li ) {
					return that.tabs.index( li );
				})
			) ).sort();
		}

		// check for length avoids error when initializing empty list
		if ( this.options.active !== false && this.anchors.length ) {
			this.active = this._findActive( options.active );
		} else {
			this.active = $();
		}

		this._refresh();

		if ( this.active.length ) {
			this.load( options.active );
		}
	},

	_initialActive: function() {
		var active = this.options.active,
			collapsible = this.options.collapsible,
			locationHash = location.hash.substring( 1 );

		if ( active === null ) {
			// check the fragment identifier in the URL
			if ( locationHash ) {
				this.tabs.each(function( i, tab ) {
					if ( $( tab ).attr( "aria-controls" ) === locationHash ) {
						active = i;
						return false;
					}
				});
			}

			// check for a tab marked active via a class
			if ( active === null ) {
				active = this.tabs.index( this.tabs.filter( ".ui-tabs-active" ) );
			}

			// no active tab, set to false
			if ( active === null || active === -1 ) {
				active = this.tabs.length ? 0 : false;
			}
		}

		// handle numbers: negative, out of range
		if ( active !== false ) {
			active = this.tabs.index( this.tabs.eq( active ) );
			if ( active === -1 ) {
				active = collapsible ? false : 0;
			}
		}

		// don't allow collapsible: false and active: false
		if ( !collapsible && active === false && this.anchors.length ) {
			active = 0;
		}

		return active;
	},

	_getCreateEventData: function() {
		return {
			tab: this.active,
			panel: !this.active.length ? $() : this._getPanelForTab( this.active )
		};
	},

	_tabKeydown: function( event ) {
		var focusedTab = $( this.document[0].activeElement ).closest( "li" ),
			selectedIndex = this.tabs.index( focusedTab ),
			goingForward = true;

		if ( this._handlePageNav( event ) ) {
			return;
		}

		switch ( event.keyCode ) {
			case $.ui.keyCode.RIGHT:
			case $.ui.keyCode.DOWN:
				selectedIndex++;
				break;
			case $.ui.keyCode.UP:
			case $.ui.keyCode.LEFT:
				goingForward = false;
				selectedIndex--;
				break;
			case $.ui.keyCode.END:
				selectedIndex = this.anchors.length - 1;
				break;
			case $.ui.keyCode.HOME:
				selectedIndex = 0;
				break;
			case $.ui.keyCode.SPACE:
				// Activate only, no collapsing
				event.preventDefault();
				clearTimeout( this.activating );
				this._activate( selectedIndex );
				return;
			case $.ui.keyCode.ENTER:
				// Toggle (cancel delayed activation, allow collapsing)
				event.preventDefault();
				clearTimeout( this.activating );
				// Determine if we should collapse or activate
				this._activate( selectedIndex === this.options.active ? false : selectedIndex );
				return;
			default:
				return;
		}

		// Focus the appropriate tab, based on which key was pressed
		event.preventDefault();
		clearTimeout( this.activating );
		selectedIndex = this._focusNextTab( selectedIndex, goingForward );

		// Navigating with control key will prevent automatic activation
		if ( !event.ctrlKey ) {
			// Update aria-selected immediately so that AT think the tab is already selected.
			// Otherwise AT may confuse the user by stating that they need to activate the tab,
			// but the tab will already be activated by the time the announcement finishes.
			focusedTab.attr( "aria-selected", "false" );
			this.tabs.eq( selectedIndex ).attr( "aria-selected", "true" );

			this.activating = this._delay(function() {
				this.option( "active", selectedIndex );
			}, this.delay );
		}
	},

	_panelKeydown: function( event ) {
		if ( this._handlePageNav( event ) ) {
			return;
		}

		// Ctrl+up moves focus to the current tab
		if ( event.ctrlKey && event.keyCode === $.ui.keyCode.UP ) {
			event.preventDefault();
			this.active.focus();
		}
	},

	// Alt+page up/down moves focus to the previous/next tab (and activates)
	_handlePageNav: function( event ) {
		if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP ) {
			this._activate( this._focusNextTab( this.options.active - 1, false ) );
			return true;
		}
		if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN ) {
			this._activate( this._focusNextTab( this.options.active + 1, true ) );
			return true;
		}
	},

	_findNextTab: function( index, goingForward ) {
		var lastTabIndex = this.tabs.length - 1;

		function constrain() {
			if ( index > lastTabIndex ) {
				index = 0;
			}
			if ( index < 0 ) {
				index = lastTabIndex;
			}
			return index;
		}

		while ( $.inArray( constrain(), this.options.disabled ) !== -1 ) {
			index = goingForward ? index + 1 : index - 1;
		}

		return index;
	},

	_focusNextTab: function( index, goingForward ) {
		index = this._findNextTab( index, goingForward );
		this.tabs.eq( index ).focus();
		return index;
	},

	_setOption: function( key, value ) {
		if ( key === "active" ) {
			// _activate() will handle invalid values and update this.options
			this._activate( value );
			return;
		}

		if ( key === "disabled" ) {
			// don't use the widget factory's disabled handling
			this._setupDisabled( value );
			return;
		}

		this._super( key, value);

		if ( key === "collapsible" ) {
			this.element.toggleClass( "ui-tabs-collapsible", value );
			// Setting collapsible: false while collapsed; open first panel
			if ( !value && this.options.active === false ) {
				this._activate( 0 );
			}
		}

		if ( key === "event" ) {
			this._setupEvents( value );
		}

		if ( key === "heightStyle" ) {
			this._setupHeightStyle( value );
		}
	},

	_tabId: function( tab ) {
		return tab.attr( "aria-controls" ) || "ui-tabs-" + getNextTabId();
	},

	_sanitizeSelector: function( hash ) {
		return hash ? hash.replace( /[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&" ) : "";
	},

	refresh: function() {
		var options = this.options,
			lis = this.tablist.children( ":has(a[href])" );

		// get disabled tabs from class attribute from HTML
		// this will get converted to a boolean if needed in _refresh()
		options.disabled = $.map( lis.filter( ".ui-state-disabled" ), function( tab ) {
			return lis.index( tab );
		});

		this._processTabs();

		// was collapsed or no tabs
		if ( options.active === false || !this.anchors.length ) {
			options.active = false;
			this.active = $();
		// was active, but active tab is gone
		} else if ( this.active.length && !$.contains( this.tablist[ 0 ], this.active[ 0 ] ) ) {
			// all remaining tabs are disabled
			if ( this.tabs.length === options.disabled.length ) {
				options.active = false;
				this.active = $();
			// activate previous tab
			} else {
				this._activate( this._findNextTab( Math.max( 0, options.active - 1 ), false ) );
			}
		// was active, active tab still exists
		} else {
			// make sure active index is correct
			options.active = this.tabs.index( this.active );
		}

		this._refresh();
	},

	_refresh: function() {
		this._setupDisabled( this.options.disabled );
		this._setupEvents( this.options.event );
		this._setupHeightStyle( this.options.heightStyle );

		this.tabs.not( this.active ).attr({
			"aria-selected": "false",
			tabIndex: -1
		});
		this.panels.not( this._getPanelForTab( this.active ) )
			.hide()
			.attr({
				"aria-expanded": "false",
				"aria-hidden": "true"
			});

		// Make sure one tab is in the tab order
		if ( !this.active.length ) {
			this.tabs.eq( 0 ).attr( "tabIndex", 0 );
		} else {
			this.active
				.addClass( "ui-tabs-active ui-state-active" )
				.attr({
					"aria-selected": "true",
					tabIndex: 0
				});
			this._getPanelForTab( this.active )
				.show()
				.attr({
					"aria-expanded": "true",
					"aria-hidden": "false"
				});
		}
	},

	_processTabs: function() {
		var that = this;

		this.tablist = this._getList()
			.addClass( "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" )
			.attr( "role", "tablist" );

		this.tabs = this.tablist.find( "> li:has(a[href])" )
			.addClass( "ui-state-default ui-corner-top" )
			.attr({
				role: "tab",
				tabIndex: -1
			});

		this.anchors = this.tabs.map(function() {
				return $( "a", this )[ 0 ];
			})
			.addClass( "ui-tabs-anchor" )
			.attr({
				role: "presentation",
				tabIndex: -1
			});

		this.panels = $();

		this.anchors.each(function( i, anchor ) {
			var selector, panel, panelId,
				anchorId = $( anchor ).uniqueId().attr( "id" ),
				tab = $( anchor ).closest( "li" ),
				originalAriaControls = tab.attr( "aria-controls" );

			// inline tab
			if ( isLocal( anchor ) ) {
				selector = anchor.hash;
				panel = that.element.find( that._sanitizeSelector( selector ) );
			// remote tab
			} else {
				panelId = that._tabId( tab );
				selector = "#" + panelId;
				panel = that.element.find( selector );
				if ( !panel.length ) {
					panel = that._createPanel( panelId );
					panel.insertAfter( that.panels[ i - 1 ] || that.tablist );
				}
				panel.attr( "aria-live", "polite" );
			}

			if ( panel.length) {
				that.panels = that.panels.add( panel );
			}
			if ( originalAriaControls ) {
				tab.data( "ui-tabs-aria-controls", originalAriaControls );
			}
			tab.attr({
				"aria-controls": selector.substring( 1 ),
				"aria-labelledby": anchorId
			});
			panel.attr( "aria-labelledby", anchorId );
		});

		this.panels
			.addClass( "ui-tabs-panel ui-widget-content ui-corner-bottom" )
			.attr( "role", "tabpanel" );
	},

	// allow overriding how to find the list for rare usage scenarios (#7715)
	_getList: function() {
		return this.tablist || this.element.find( "ol,ul" ).eq( 0 );
	},

	_createPanel: function( id ) {
		return $( "<div>" )
			.attr( "id", id )
			.addClass( "ui-tabs-panel ui-widget-content ui-corner-bottom" )
			.data( "ui-tabs-destroy", true );
	},

	_setupDisabled: function( disabled ) {
		if ( $.isArray( disabled ) ) {
			if ( !disabled.length ) {
				disabled = false;
			} else if ( disabled.length === this.anchors.length ) {
				disabled = true;
			}
		}

		// disable tabs
		for ( var i = 0, li; ( li = this.tabs[ i ] ); i++ ) {
			if ( disabled === true || $.inArray( i, disabled ) !== -1 ) {
				$( li )
					.addClass( "ui-state-disabled" )
					.attr( "aria-disabled", "true" );
			} else {
				$( li )
					.removeClass( "ui-state-disabled" )
					.removeAttr( "aria-disabled" );
			}
		}

		this.options.disabled = disabled;
	},

	_setupEvents: function( event ) {
		var events = {
			click: function( event ) {
				event.preventDefault();
			}
		};
		if ( event ) {
			$.each( event.split(" "), function( index, eventName ) {
				events[ eventName ] = "_eventHandler";
			});
		}

		this._off( this.anchors.add( this.tabs ).add( this.panels ) );
		this._on( this.anchors, events );
		this._on( this.tabs, { keydown: "_tabKeydown" } );
		this._on( this.panels, { keydown: "_panelKeydown" } );

		this._focusable( this.tabs );
		this._hoverable( this.tabs );
	},

	_setupHeightStyle: function( heightStyle ) {
		var maxHeight,
			parent = this.element.parent();

		if ( heightStyle === "fill" ) {
			maxHeight = parent.height();
			maxHeight -= this.element.outerHeight() - this.element.height();

			this.element.siblings( ":visible" ).each(function() {
				var elem = $( this ),
					position = elem.css( "position" );

				if ( position === "absolute" || position === "fixed" ) {
					return;
				}
				maxHeight -= elem.outerHeight( true );
			});

			this.element.children().not( this.panels ).each(function() {
				maxHeight -= $( this ).outerHeight( true );
			});

			this.panels.each(function() {
				$( this ).height( Math.max( 0, maxHeight -
					$( this ).innerHeight() + $( this ).height() ) );
			})
			.css( "overflow", "auto" );
		} else if ( heightStyle === "auto" ) {
			maxHeight = 0;
			this.panels.each(function() {
				maxHeight = Math.max( maxHeight, $( this ).height( "" ).height() );
			}).height( maxHeight );
		}
	},

	_eventHandler: function( event ) {
		var options = this.options,
			active = this.active,
			anchor = $( event.currentTarget ),
			tab = anchor.closest( "li" ),
			clickedIsActive = tab[ 0 ] === active[ 0 ],
			collapsing = clickedIsActive && options.collapsible,
			toShow = collapsing ? $() : this._getPanelForTab( tab ),
			toHide = !active.length ? $() : this._getPanelForTab( active ),
			eventData = {
				oldTab: active,
				oldPanel: toHide,
				newTab: collapsing ? $() : tab,
				newPanel: toShow
			};

		event.preventDefault();

		if ( tab.hasClass( "ui-state-disabled" ) ||
				// tab is already loading
				tab.hasClass( "ui-tabs-loading" ) ||
				// can't switch durning an animation
				this.running ||
				// click on active header, but not collapsible
				( clickedIsActive && !options.collapsible ) ||
				// allow canceling activation
				( this._trigger( "beforeActivate", event, eventData ) === false ) ) {
			return;
		}

		options.active = collapsing ? false : this.tabs.index( tab );

		this.active = clickedIsActive ? $() : tab;
		if ( this.xhr ) {
			this.xhr.abort();
		}

		if ( !toHide.length && !toShow.length ) {
			$.error( "jQuery UI Tabs: Mismatching fragment identifier." );
		}

		if ( toShow.length ) {
			this.load( this.tabs.index( tab ), event );
		}
		this._toggle( event, eventData );
	},

	// handles show/hide for selecting tabs
	_toggle: function( event, eventData ) {
		var that = this,
			toShow = eventData.newPanel,
			toHide = eventData.oldPanel;

		this.running = true;

		function complete() {
			that.running = false;
			that._trigger( "activate", event, eventData );
		}

		function show() {
			eventData.newTab.closest( "li" ).addClass( "ui-tabs-active ui-state-active" );

			if ( toShow.length && that.options.show ) {
				that._show( toShow, that.options.show, complete );
			} else {
				toShow.show();
				complete();
			}
		}

		// start out by hiding, then showing, then completing
		if ( toHide.length && this.options.hide ) {
			this._hide( toHide, this.options.hide, function() {
				eventData.oldTab.closest( "li" ).removeClass( "ui-tabs-active ui-state-active" );
				show();
			});
		} else {
			eventData.oldTab.closest( "li" ).removeClass( "ui-tabs-active ui-state-active" );
			toHide.hide();
			show();
		}

		toHide.attr({
			"aria-expanded": "false",
			"aria-hidden": "true"
		});
		eventData.oldTab.attr( "aria-selected", "false" );
		// If we're switching tabs, remove the old tab from the tab order.
		// If we're opening from collapsed state, remove the previous tab from the tab order.
		// If we're collapsing, then keep the collapsing tab in the tab order.
		if ( toShow.length && toHide.length ) {
			eventData.oldTab.attr( "tabIndex", -1 );
		} else if ( toShow.length ) {
			this.tabs.filter(function() {
				return $( this ).attr( "tabIndex" ) === 0;
			})
			.attr( "tabIndex", -1 );
		}

		toShow.attr({
			"aria-expanded": "true",
			"aria-hidden": "false"
		});
		eventData.newTab.attr({
			"aria-selected": "true",
			tabIndex: 0
		});
	},

	_activate: function( index ) {
		var anchor,
			active = this._findActive( index );

		// trying to activate the already active panel
		if ( active[ 0 ] === this.active[ 0 ] ) {
			return;
		}

		// trying to collapse, simulate a click on the current active header
		if ( !active.length ) {
			active = this.active;
		}

		anchor = active.find( ".ui-tabs-anchor" )[ 0 ];
		this._eventHandler({
			target: anchor,
			currentTarget: anchor,
			preventDefault: $.noop
		});
	},

	_findActive: function( index ) {
		return index === false ? $() : this.tabs.eq( index );
	},

	_getIndex: function( index ) {
		// meta-function to give users option to provide a href string instead of a numerical index.
		if ( typeof index === "string" ) {
			index = this.anchors.index( this.anchors.filter( "[href$='" + index + "']" ) );
		}

		return index;
	},

	_destroy: function() {
		if ( this.xhr ) {
			this.xhr.abort();
		}

		this.element.removeClass( "ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible" );

		this.tablist
			.removeClass( "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" )
			.removeAttr( "role" );

		this.anchors
			.removeClass( "ui-tabs-anchor" )
			.removeAttr( "role" )
			.removeAttr( "tabIndex" )
			.removeUniqueId();

		this.tabs.add( this.panels ).each(function() {
			if ( $.data( this, "ui-tabs-destroy" ) ) {
				$( this ).remove();
			} else {
				$( this )
					.removeClass( "ui-state-default ui-state-active ui-state-disabled " +
						"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel" )
					.removeAttr( "tabIndex" )
					.removeAttr( "aria-live" )
					.removeAttr( "aria-busy" )
					.removeAttr( "aria-selected" )
					.removeAttr( "aria-labelledby" )
					.removeAttr( "aria-hidden" )
					.removeAttr( "aria-expanded" )
					.removeAttr( "role" );
			}
		});

		this.tabs.each(function() {
			var li = $( this ),
				prev = li.data( "ui-tabs-aria-controls" );
			if ( prev ) {
				li
					.attr( "aria-controls", prev )
					.removeData( "ui-tabs-aria-controls" );
			} else {
				li.removeAttr( "aria-controls" );
			}
		});

		this.panels.show();

		if ( this.options.heightStyle !== "content" ) {
			this.panels.css( "height", "" );
		}
	},

	enable: function( index ) {
		var disabled = this.options.disabled;
		if ( disabled === false ) {
			return;
		}

		if ( index === undefined ) {
			disabled = false;
		} else {
			index = this._getIndex( index );
			if ( $.isArray( disabled ) ) {
				disabled = $.map( disabled, function( num ) {
					return num !== index ? num : null;
				});
			} else {
				disabled = $.map( this.tabs, function( li, num ) {
					return num !== index ? num : null;
				});
			}
		}
		this._setupDisabled( disabled );
	},

	disable: function( index ) {
		var disabled = this.options.disabled;
		if ( disabled === true ) {
			return;
		}

		if ( index === undefined ) {
			disabled = true;
		} else {
			index = this._getIndex( index );
			if ( $.inArray( index, disabled ) !== -1 ) {
				return;
			}
			if ( $.isArray( disabled ) ) {
				disabled = $.merge( [ index ], disabled ).sort();
			} else {
				disabled = [ index ];
			}
		}
		this._setupDisabled( disabled );
	},

	load: function( index, event ) {
		index = this._getIndex( index );
		var that = this,
			tab = this.tabs.eq( index ),
			anchor = tab.find( ".ui-tabs-anchor" ),
			panel = this._getPanelForTab( tab ),
			eventData = {
				tab: tab,
				panel: panel
			};

		// not remote
		if ( isLocal( anchor[ 0 ] ) ) {
			return;
		}

		this.xhr = $.ajax( this._ajaxSettings( anchor, event, eventData ) );

		// support: jQuery <1.8
		// jQuery <1.8 returns false if the request is canceled in beforeSend,
		// but as of 1.8, $.ajax() always returns a jqXHR object.
		if ( this.xhr && this.xhr.statusText !== "canceled" ) {
			tab.addClass( "ui-tabs-loading" );
			panel.attr( "aria-busy", "true" );

			this.xhr
				.success(function( response ) {
					// support: jQuery <1.8
					// http://bugs.jquery.com/ticket/11778
					setTimeout(function() {
						panel.html( response );
						that._trigger( "load", event, eventData );
					}, 1 );
				})
				.complete(function( jqXHR, status ) {
					// support: jQuery <1.8
					// http://bugs.jquery.com/ticket/11778
					setTimeout(function() {
						if ( status === "abort" ) {
							that.panels.stop( false, true );
						}

						tab.removeClass( "ui-tabs-loading" );
						panel.removeAttr( "aria-busy" );

						if ( jqXHR === that.xhr ) {
							delete that.xhr;
						}
					}, 1 );
				});
		}
	},

	_ajaxSettings: function( anchor, event, eventData ) {
		var that = this;
		return {
			url: anchor.attr( "href" ),
			beforeSend: function( jqXHR, settings ) {
				return that._trigger( "beforeLoad", event,
					$.extend( { jqXHR : jqXHR, ajaxSettings: settings }, eventData ) );
			}
		};
	},

	_getPanelForTab: function( tab ) {
		var id = $( tab ).attr( "aria-controls" );
		return this.element.find( this._sanitizeSelector( "#" + id ) );
	}
});

})( jQuery );

player.define("jqueryUITabs", ["jquery","jqueryUICore","jqueryUIWidget"], function(){});

/* 
Para recursos de inicializao dinmica onde precisamos inicializar um plugin para obter a visualizao
final de um recursos criamos um modulo de inicializao geral que deve ser usado tando para player quando 
para o editor.

Cuidados devem ser tomados pois o escopo das duas chamadas  diferente
*/

player.define('../../../../_baseClient/_base/js/desktop/resources/tabs/generalInit',[
	"jquery",
	"jqueryUITabs"
], function($, jqueryUITabs) {

	var init = function(source) { //source  a flag que indica a origem da chamada: "player" || "editor"
		console.log('[rec]tabs [method]init [var]this, source', this, source);

		var me = this,
			data = me.model ? me.model.toJSON() : me.data,
			total_tabs = data.tabs.length,
			$el = $(null);

		function sliderClasses() {
			var $theTab = me.elems.$theTab,
				active = $theTab.tabs('option', 'active');

			$theTab
				.toggleClass('singleTab', total_tabs == 1)
				.toggleClass('firstSlide', total_tabs > 0 && active <= 0)
				.toggleClass('lastSlide', total_tabs > 0 && active >= total_tabs - 1)
				.toggleClass('noContent', total_tabs <= 0);
		}

		this.renderTabs = function() {
			/**
			 * implementacao horrivel para que o template renderize o indice do tab
			 * ja que o mustache nao entrega algo como {{index}} para o template
			 */
			var tabs = $('.tabs-nav > li > .anchor', $el),
				contents = $('.tabs-content > div', $el);

			$.each(data.tabs, function(i) {
				var id = 'tab-' + i;

				tabs.eq(i).attr('href', '#' + id);
				contents.eq(i).attr('id', id);
			});

			// abaixo tem que funcionar tanto no editor quanto no player
			$.extend(true, me, {
				elems: {
					'$tabsContainer': $el.find('.tabs-nav'),
					'$tabPrev': $el.find('.tab-prev'),
					'$tabNext': $el.find('.tab-next'),
					'$theTab': $el.find('.theTab')
				}
			});

			me.elems.$theTab.tabs({
				active: Math.min(data.active, data.tabs.length - 1),
				activate: function(event, ui) {
					sliderClasses();

					if (source === "player") {
						ui.newPanel.hide().fadeIn(500);
					}
				}
			});

			me.elems.$tabPrev
				.on('mouseenter', function() {
					me.autoScrollTabs(-5);
				})
				.on('mouseleave', function() {
					me.stopAutoScrollTabs();
				})
				.on('click', function() {
					me.scrollTabs(-40);
				});

			me.elems.$tabNext
				.on('click', function() {
					me.scrollTabs(40);
				})
				.on('mouseenter', function() {
					me.autoScrollTabs(5);
				})
				.on('mouseleave', function() {
					me.stopAutoScrollTabs();
				});

			sliderClasses();
			me.scrollTabs(me.scrollPosition || 0);

		}

		this.scrollTabs = function(pixels) {
			var $el = me.elems.$theTab,
				$tabsContainer = me.elems.$tabsContainer,
				$tabPrev = me.elems.$tabPrev,
				$tabNext = me.elems.$tabNext,
				data = me.model ? me.model.toJSON() : me.data,
				scroll = data.horizontal.active ? 'scrollLeft' : 'scrollTop',
				dimension = data.horizontal.active ? 'innerWidth' : 'innerHeight',
				curr_scroll,
				final_scroll,
				max_scroll = $tabsContainer[scroll](99999999)[scroll](),
				max_size = $tabsContainer[dimension](),
				scroll_position;

			$tabsContainer[scroll](me.scrollPosition || 0);
			curr_scroll = $tabsContainer[scroll]();
			scroll_position = curr_scroll + pixels

			$tabsContainer[scroll](scroll_position);

			final_scroll = $tabsContainer[scroll]();
			me.scrollPosition = final_scroll;

			$el
			.toggleClass('tabs-nav-prev-exausted', curr_scroll <= 0)
			.toggleClass('tabs-nav-next-exausted', final_scroll >= max_scroll)
			.toggleClass('tabs-nav-can-scroll', max_scroll > 0);
		}

		this.autoScrollTabs = function(pixels) {
			var me = this,
				update = 15,
				$tabsContainer = me.elems.$tabsContainer,
				timeout = function() {
					setTimeout(function() {
						if (!me.scrollingTab) return;

						me.scrollTabs(pixels);
						timeout();

					}, update);
				};

			me.scrollingTab = true;
			timeout();

		}

		this.stopAutoScrollTabs = function() {
			me.scrollingTab = false;
		}

		if (source === "player") {
			$el = $(me.el);
			Player.Elements.$content.on({
				contentReady: function() {
					me.renderTabs();
				}
			});
		} else {
			$el = $(me.elems.rec);
			me.renderTabs();
		}
	}

	return init;
});

player.define('text!../../../../_baseClient/_base/js/desktop/resources/personagem/template.html',[],function () { return '<div class="{{class}} {{#flip}}flip{{/flip}}" id="{{_id}}" style="{{style}}">\n\t<div id="imageWrapper" class="{{^src}}noContent{{/src}}">\n\t\t<img src="{{#src}} {{src}} {{/src}}"/>\n\t\t<span class="glyphicon glyphicon-user"></span>\n\t</div>\n</div>';});


player.define('text!../../../../_baseClient/_base/js/desktop/resources/personagem/edition.html',[],function () { return '<!-- <div class="resourceEdition"> -->\n\t<div id="recCharPicker" class="editionBlock bottom" data-position="left+10 top|right top">\n\t\t<select class="selectChar">\n\t\t\t{{#character}}\n\t\t\t\t<option value="{{index}}" {{#selected}}selected="selected"{{/selected}}>{{name}}</option>\n\t\t\t{{/character}}\n\t\t</select>\n\t\n\t\t<!-- <div class="scrollPrev"></div> -->\n\n\t\t<div class="mbBalloonOptions mbBalloonSubOptions">\n\t\t\t{{#character}}\n\t\t\t<div class="btn-group thumbs-character" id="character-{{index}}">\n\t\t\t\t{{#position}}\n\t\t\t\t<button value="{{value}}" type="button" class="btn btn-default">\n\t\t\t\t\t<img src="{{.}}"/>\n\t\t\t\t</button>\n\t\t\t\t{{/position}}\n\t\t\t</div>\n\t\t\t{{/character}}\n\t\t</div>\n\n\n\t\n\t\t<!-- <div class="scrollNext"></div> -->\n\t</div>\n\n\t<div id="recCharPicker" class="editionBlock bottom" data-position="left+10 bottom|right top">\n\t\t<div class="teste editionGroud" data-attr="type">\n\t\t\t<button id="flipImg" type="button" class="btn btn-default editionSwitch" data-attr="flip" data-value="true|false">\n\t\t\t\t<div class="glyphicon glyphicon-refresh"></div>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<!-- Ocultado scrollPrev e scrollNext, pois foi inserido um scroll para visualizar as thumb das imagens. \n\t\t A funcionalidade no javascript continua implementada caso precisar. -->\n<!-- </div> -->\n\n';});

player.define('../../../../_baseClient/_base/js/desktop/resources/personagem/editor',[], function() {

	var View = {
		/*
		O objecto 'elemens' foi criado para separa em um objeto chamado elems atrelado a view
		todos os elementos que precisaram tratamento funcional.
		Os elementos so criados em pares com e sem o wrapper do jquery e nomeados com e som '$'.

		No objecto temos '<nome do objecto no elems>': '<seletor de busca atravez do $.find()>'
		ex: 'teste': '.verde' criar 'verde' e '$verde' no elems procurando por $.find('verde')

		Obs: todos tem main/$main no elems que representa o elemento geral		

		
		Aqui foi criada uma interface para criao de novas edies de recursos.
		Os verdadeiros metodos da view(render, initialize) foram abstraidos em um recurso genrico
		que serve de base para a criao de todos os recursos e aqui fica as partes espicifas a edio
		deste recurso expecifico.

		Metodos disparados:
			- initializating: Ao final do initialiaze da view
			- showing: Ao final das funes de exibio do painel de edio
			- hiding: Ao final das funes de escondeimento do painel de edio
			- positioning: Ao final das funes de posicionamento
		*/

		initializating: function(e) {
			console.log('initialization personagem -------', this);
			var me = this,
				$el = me.recView.$el,
				model = me.recView.model,
				current_src = model.get('src');

			// APENAS ADICIONANDO O INDICE DO OBJETO PARA SER USADO NA VIEW
			// JA QUE O MUSTACHE NAO RETORNA ALGO COMO @INDEX OU @KEY
			$.each(me.recView.config.character, function(i, character) {
				character.index = i;
				character.selected = $.grep(character.position, function(pos) {
					return pos === current_src;
				}).length > 0;
			});

			this.addElements({
				"btsContainer": ".teste",
				'charPicker': '#recCharPicker',
				'charPosition': '.thumbs-character .btn',
				'thumbsContainer': '#recCharPicker .mbBalloonOptions'
			});

			this.events = _.extend(this.events, {
				'change _charPicker': 'pickChar',
				'click _charPosition': 'selectPosition'
			});

			this.recView.addElements.call(this.recView, {
				'img': 'img'				
			});

		},		

		showing: function() {
			var me = this;
			me.pickChar();
		},

		hiding: function() {
			console.log('[view]personagem [method]hiding');
			var me = this,
				$legenda = me.recView.elems.$legenda,
				model = me.recView.model;

			me.snapshot();

			// #1
			// Retirado eventos inseridos nos elementos do recurso a ser editado
			this.recView.removeElements.call(this.recView, {
				'img': 'img'				
			});		

			// srcImage ? me.snapshot(srcImage) : return	

		},		

		pickChar: function() {
			var me = this,
				recView = me.recView,
				$main = me.elems.$main,
				config = recView.config,
				selected = $main.find('.selectChar').val();

			recView.edition.$el
				.find('.thumbs-character')
				.hide()
				.filter('#character-' + selected)
				.show();
		},

		selectPosition: function(e) {
			var me = this,
				position = e.currentTarget,
				model = me.recView.model,
				$rec = me.recView.elems.$rec,
				recHeight = $rec.height(),
				model = me.recView.model,				
				srcImage = $(position).children().attr('src');			

			console.log('[view]personagem [method]selectPosition [var]srcImage', srcImage);
			me.getImgSize(srcImage, function(imgSize){				
				var width = (recHeight * imgSize.width) / imgSize.height,
				size = {
					height: recHeight,
					width: width
				};

				model.changedSrc = true;
				model.set({					
					src: srcImage,
					'styleObj.width': String(width) + 'px'
				});
			});			
		},

		snapshot: function(srcImage, imgSize){
			var me = this,
				$rec = me.recView.elems.$rec,
				model = me.recView.model,
				srcImage = model.get('src'),
				changed = model.changedSrc,
				height = $rec.height(),
				width = $rec.width(),
				size = {
					height: height,
					width: width
				};			
		
			console.log('[view]personagem [method]snapshot [var]size, srcImage, changed', size, srcImage, changed);
			if(!changed || !srcImage) return;
				
			model.changedSrc = false;
			me.copyToS3({
				entity: "resources",
				type: "image",
				model: model,
				src: srcImage,
				attr: "src",
				process: true,
				options: size		
			});
		},

		getImgSize: function(imgSrc, callback) {
			// console.log('[view]aviary [method]getImgSize [var]imgSrc: ', imgSrc);
			var newImg = new Image();

			newImg.onload = function() {
				var height = newImg.height,
					width = newImg.width;

				// console.log('[view]aviary [method]getImgSize [var]height, width: ', height, width);
				callback({
					width: width,
					height: height
				});
			}

			newImg.src = imgSrc;
		},
	};

	return View;
});

player.require.config({
	shim: {
		jquery: {
			exports: '$'
		},

		jqueryUICore: {
			deps: [
				'jquery',
			]
		},

		jqueryUIWidget: {
			deps: [
				'jquery',
				'jqueryUICore',
			]
		},

		jqueryUITabs: {
			deps: [
				'jquery',
				'jqueryUICore',
				'jqueryUIWidget'
			]
		}
	},
	paths: {
		jquery: '../../../../../vendor/components/jquery/dist/jquery.min',
		jqueryChanges: '../../../../../vendor/changes/jquery/jqueryChanges',
		jqueryUICore: '../../../../../vendor/components/jquery.ui/ui/jquery.ui.core',
		jqueryUIWidget: '../../../../../vendor/components/jquery.ui/ui/jquery.ui.widget',
		jqueryUITabs: '../../../../../vendor/components/jquery.ui/ui/jquery.ui.tabs',
		image: '../../../../../vendor/components/require-plugins/src/image',
		json: '../../../../../vendor/components/require-plugins/src/json',
		text: '../../../../../vendor/components/requirejs-text/text',
		namespace: '../../../../../vendor/components/namespace/namespace',
		videojs: '../../../../../vendor/components/video.js/dist/video-js/video',
		videojsyoutube: '../../../../../vendor/components/videojs-youtube/dist/vjs.youtube',
		videojsvimeo: '../../../../../vendor/components/videojs-vimeo/vjs.vimeo'
	},

	config: {
		namespace: {
			"overrides": {
				"config": {
					"stage": {
						"baseURL": "../../config/stage",
						"paths": [
							"json!main.json"
						]
					}
				},

				"resources": {
					"botaoPP": {
						"baseURL": "resources/botaoPP",
						"paths": [
							"text!edition.html"
						]
					},
					"multimedia": {
						"baseURL": "resources/multimedia",
						"paths": [
							"text!template.html",
							"text!edition.html",
							"editor",
							"player"
						]
					},
					"texto": {
						"baseURL": "resources/texto",
						"paths": [
							"text!edition.html",
							"text!template.html"
						]
					},
					"caixaDestaque": {
						"baseURL": "resources/caixaDestaque",
						"paths": [
							"text!template.html"
						]
					}

				}
			},

			"config": {
				"slides": {
					"baseURL": "../../config/slides",
					"paths": [
						"json!config.json"
					]
				},

				"stage": {
					"baseURL": "../../../../_baseClient/_base/config/stage",
					"paths": [
						"json!main.json",
						"json!modal.json",
						"json!tabs.json"
					]
				}
			},

			"slides": {
				"slideCapa": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/slides/slideCapa",
					"paths": [
						"text!template.html",
						"json!config.json",
						"editor"
					]
				},

				"slideFinal": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/slides/slideFinal",
					"paths": [
						"text!template.html",
						"json!config.json",
						"editor"
					]
				},

				"slideSubCapa": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/slides/slideSubCapa",
					"paths": [
						"text!template.html",
						"json!config.json",
						"editor"
					]
				},

				"templateVideo": {
					"baseURL": "slides/templateVideo",
					"paths": [
						"text!template.html",
						"json!config.json",
						"editor",
						"text!edition.html"
					]
				},

				"templateAtividade": {
					"baseURL": "slides/templateAtividade",
					"paths": [
						"text!template.html",
						"json!config.json",
						"editor",
						"text!edition.html"
					]
				},

				"templateTexto": {
					"baseURL": "slides/templateTexto",
					"paths": [
						"text!template.html",
						"json!config.json",
						"editor",
						"text!edition.html"
					]
				},

				"templateAudio": {
					"baseURL": "slides/templateAudio",
					"paths": [
						"text!template.html",
						"json!config.json",
						"editor",
						"text!edition.html"
					]
				},

				"slideTextoImagemDir": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/slides/slideTextoImagemDir",
					"paths": [
						"json!config.json"
					]
				},

				"slideTextoImagemEsq": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/slides/slideTextoImagemEsq",
					"paths": [
						"json!config.json"
					]
				}
			},

			"resources": {
				"audio": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/audio",
					"paths": [
						"text!template.html",
						"text!edition.html",
						"json!config.json",
						"editor",
						"generalInit"
					]
				},

				"multimedia": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/multimedia",
					"paths": [
						"text!template.html",
						"text!edition.html",
						"json!config.json",
						"editor"
					]
				},

				"caixaDestaque": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/caixaDestaque",
					"paths": [
						"text!template.html",
						"text!edition.html",
						"json!config.json",
						"editor"
					]
				},

				"imagem": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/imagem",
					"paths": [
						"text!template.html",
						"text!edition.html",
						"json!config.json",
						"editor"
					]
				},

				"video": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/video",
					"paths": [
						"text!template.html",
						"text!edition.html",
						"json!config.json",
						"editor",
						"generalInit"
					]
				},

				"texto": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/texto",
					"paths": [
						"text!template.html",
						"text!edition.html",
						"json!config.json",
						"editor"
					]
				},

				"botaoPP": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/botaoPP",
					"paths": [
						"text!template.html",
						"text!modal.html",
						"text!edition.html",
						"json!config.json",
						"editor"
					]
				},

				"atividade": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/atividade",
					"paths": [
						"text!template.html",
						"text!modal.html",
						"text!edition.html",
						"json!config.json",
						"editor"
					]
				},
				
				"tabs": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/tabs",
					"paths": [
						"text!template.html",
						"text!edition.html",
						"json!config.json",
						"editor",
						"generalInit"
					]
				},

				"personagem": {
					"baseURL": "../../../../_baseClient/_base/js/desktop/resources/personagem",
					"paths": [
						"text!template.html",
						"text!edition.html",
						"editor"
					]
				}
			}
		}
	}
});

player.require([
	"jquery",
	"jqueryChanges",
	"namespace!overrides",
	"namespace!config",
	"namespace!slides",
	"namespace!resources"
], function($, jqueryChanges, Overrides, Config, Slides, Resources) {

	var namespaces = {
			config: Config,
			slides: Slides,
			resources: Resources
		},
		Player = {
			"Base": $.extend(true, {}, namespaces),
			"Overrides": Overrides,
			"_base": Config,
			"Slides": Slides,
			"Resources": Resources
		};

	$.extend(true, namespaces, Overrides);

	window.Player = Player;

	/*
	No  a soluo mais bonita mais eventos no funcionavam e escutar o carregamento deste
	script no editor com "onLoad" s apontava que o arquivo foi devidamente carregado e no
	que tinah sido executado entregando windo.Player
	*/
	(window.loadedAssets) ? window.loadedAssets() : null;
});
player.define("assets-editor", function(){});

}());